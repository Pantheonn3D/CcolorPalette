

--- START OF FILE: all_styles.css ---


/* =========================================
   SOURCE: src/colorGenerator/AccessibilityPanel.css
   ========================================= */

.a11y-column {
  flex: 0 0 0px;
  height: 100%;
  background: #f8f8f8;
  overflow: hidden;
  transition: flex-basis 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.a11y-column.open {
  flex: 0 0 280px;
}

.a11y-inner {
  width: 280px;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: 80px;
}

.a11y-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.a11y-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--font-sm);
  font-weight: 600;
  color: #161616;
}

.a11y-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: #666;
  transition: all 0.15s ease;
}

.a11y-close:hover {
  background: rgba(0, 0, 0, 0.06);
  color: #161616;
}

.a11y-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
}

.a11y-section {
  margin-bottom: 24px;
}

.a11y-label {
  display: block;
  font-size: var(--font-xs);
  font-weight: 600;
  color: #666;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.a11y-modes {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.a11y-mode-btn {
  padding: 10px 12px;
  background: white;
  border: 2px solid transparent;
  border-radius: 8px;
  text-align: left;
  font-size: var(--font-sm);
  color: #161616;
  cursor: pointer;
  transition: all 0.15s ease;
}

.a11y-mode-btn:hover {
  background: #f0f0f0;
}

.a11y-mode-btn.active {
  border-color: #161616;
  font-weight: 600;
}

/* Contrast List */
.contrast-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.contrast-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  background: white;
  border-radius: 8px;
}

.contrast-swatch {
  width: 40px;
  height: 40px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: var(--font-sm);
}

.contrast-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.contrast-hex {
  font-size: var(--font-xs);
  font-family: monospace;
  color: #161616;
}

.contrast-ratio {
  font-size: var(--font-xs);
  color: #888;
}

.contrast-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
}

.contrast-badge.pass {
  background: #dcfce7;
  color: #166534;
}

.contrast-badge.fail {
  background: #fee2e2;
  color: #991b1b;
}

/* Adjacent Contrast */
.adjacent-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.adjacent-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  background: white;
  border-radius: 8px;
}

.adjacent-swatches {
  display: flex;
  border-radius: 6px;
  overflow: hidden;
}

.adjacent-swatches div {
  width: 24px;
  height: 32px;
}

.adjacent-ratio {
  flex: 1;
  font-size: var(--font-xs);
  color: #666;
}

/* =========================================
   SOURCE: src/colorGenerator/BookmarkPanel.css
   ========================================= */

/* Bookmark Panel Specific Styles */

.bookmark-main {
    text-align: center;
    padding: 24px 16px;
    background: white;
    border-radius: 12px;
    margin-bottom: 24px;
  }
  
  .bookmark-icon-large {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 64px;
    background: #f0f0f0;
    border-radius: 50%;
    margin-bottom: 16px;
    color: #161616;
  }
  
  .bookmark-main h3 {
    font-size: var(--font-lg);
    font-weight: 700;
    color: #161616;
    margin: 0 0 8px 0;
  }
  
  .bookmark-main p {
    font-size: var(--font-sm);
    color: #666;
    margin: 0;
    line-height: 1.5;
  }
  
  /* Shortcut box */
  .bookmark-shortcut-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 20px;
    background: white;
    border-radius: 12px;
  }
  
  .bookmark-keys {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .bookmark-keys kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
    height: 40px;
    padding: 0 12px;
    background: #161616;
    color: white;
    border-radius: 8px;
    font-family: inherit;
    font-size: var(--font-base);
    font-weight: 600;
    box-shadow: 0 4px 0 #000;
  }
  
  .bookmark-keys span {
    font-size: var(--font-lg);
    color: #999;
    font-weight: 500;
  }
  
  .bookmark-shortcut-label {
    font-size: var(--font-sm);
    color: #666;
  }
  
  /* URL box */
  .bookmark-url-box {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px;
    background: white;
    border-radius: 10px;
    overflow: hidden;
  }
  
  .bookmark-url {
    flex: 1;
    font-size: 11px;
    color: #666;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-family: monospace;
  }
  
  .bookmark-copy-btn {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: #f0f0f0;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    color: #666;
    transition: all 0.15s ease;
  }
  
  .bookmark-copy-btn:hover {
    background: #161616;
    color: white;
  }
  
  .bookmark-copy-btn.copied {
    background: #161616;
    color: white;
  }
  
  /* Steps */
  .bookmark-step {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px;
    background: white;
    border-radius: 10px;
  }
  
  .bookmark-step-num {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: #f0f0f0;
    border-radius: 50%;
    font-size: var(--font-xs);
    font-weight: 700;
    color: #161616;
    flex-shrink: 0;
  }
  
  .bookmark-step span:last-child {
    font-size: var(--font-sm); 
    color: #666;
    line-height: 1.5;
    padding-top: 2px;
  }
  
  /* Tip */
  .bookmark-tip {
    padding: 16px;
    background: #161616;
    color: white;
    border-radius: 12px;
    font-size: var(--font-sm);
    line-height: 1.5;
  }
  
  .bookmark-tip strong {
    display: block;
    margin-bottom: 4px;
  }
/* =========================================
   SOURCE: src/colorGenerator/ColorEditorPanel.css
   ========================================= */

.editor-column {
  flex: 0 0 0px;
  height: 100%;
  background: #f8f8f8;
  overflow: hidden;
  transition: flex-basis 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.editor-column.open {
  flex: 0 0 280px;
}

.editor-inner {
  width: 280px;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: 80px;
}

.editor-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.editor-title {
  font-size: var(--font-sm);
  font-weight: 600;
  color: #161616;
}

.editor-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: #666;
  transition: all 0.15s ease;
}

.editor-close:hover {
  background: rgba(0, 0, 0, 0.06);
  color: #161616;
}

.editor-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
}

.editor-preview {
  height: 100px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.editor-preview-hex {
  font-size: var(--font-lg);
  font-weight: 700;
  font-family: monospace;
}

.editor-field {
  margin-bottom: 20px;
}

.editor-field label {
  display: flex;
  justify-content: space-between;
  font-size: var(--font-xs);
  font-weight: 600;
  color: #666;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.editor-field label span {
  font-weight: 500;
  color: #999;
}

.editor-hex-input {
  display: flex;
  align-items: center;
  background: white;
  border-radius: 8px;
  padding: 10px 12px;
  font-family: monospace;
  font-size: var(--font-base);
}

.editor-hex-input span {
  color: #999;
  margin-right: 2px;
}

.editor-hex-input input {
  border: none;
  background: none;
  font-family: inherit;
  font-size: inherit;
  color: #161616;
  width: 100%;
  outline: none;
  text-transform: uppercase;
}

/* Sliders */
.slider {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  appearance: none;
  cursor: pointer;
  outline: none;
}

.slider::-webkit-slider-thumb {
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: white;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: transform 0.15s ease;
}

.slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}

.slider-hue {
  background: linear-gradient(
    to right,
    hsl(0, 100%, 50%),
    hsl(60, 100%, 50%),
    hsl(120, 100%, 50%),
    hsl(180, 100%, 50%),
    hsl(240, 100%, 50%),
    hsl(300, 100%, 50%),
    hsl(360, 100%, 50%)
  );
}

.slider-saturation {
  background: linear-gradient(
    to right,
    hsl(0, 0%, 50%),
    var(--sat-color, hsl(0, 100%, 50%))
  );
}

.slider-lightness {
  background: linear-gradient(to right, #000, var(--light-mid, #888), #fff);
}

/* Quick Adjustments */
.editor-adjustments label {
  display: block;
  font-size: var(--font-xs);
  font-weight: 600;
  color: #666;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.adjustment-buttons {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

.adjustment-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 10px;
  background: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: var(--font-xs);
  font-weight: 500;
  color: #161616;
  transition: all 0.15s ease;
}

.adjustment-btn:hover {
  background: #161616;
  color: white;
}

.adjustment-btn:active {
  transform: scale(0.95);
}

/* =========================================
   SOURCE: src/colorGenerator/ColorGenerator.css
   ========================================= */

/* ColorGenerator.css */

.generator-container {
  display: flex;
  width: 100%;
  background: inherit;
  overflow: hidden;

  /* Viewport height, with an iOS-safe fallback */
  height: 100vh;
  height: 100dvh;
  height: calc(var(--vh, 1vh) * 100);

  /* Flex sizing sanity for Safari */
  align-items: stretch;
  min-height: 0;
}

.color-column {
  flex: 1 1 0;
  min-width: 0;
  min-height: 0;

  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: center;

  padding-bottom: 80px;
  position: relative;
  transition: flex 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  user-select: none;

  /* keep this, but do not rely on parent percentage height alone */
  height: auto;
}

/* Dragging states */
.color-column.dragging {
  opacity: 0.5;
  transform: scale(0.98);
}

.color-column.drag-over {
  transform: scale(1.02);
}

.color-column.drag-over::before {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.1);
  pointer-events: none;
}

.colors-area {
  display: flex;
  flex: 1;
  min-width: 0;
  min-height: 0;
  height: 100%;
}

.colors-area.stacked {
  flex-direction: column;
}

/* Desktop stacking mode, colors only */
.colors-area.stacked .color-column {
  width: 100%;
  min-height: 0;
  height: auto;
  flex: 1 1 0;

  flex-direction: row;
  justify-content: flex-end;
  align-items: center;

  padding: 0 16px;
  padding-bottom: 0;
  position: relative;
}

.colors-area.stacked .color-toolbar {
  position: absolute;
  top: 50%;
  left: 12px;
  right: auto;
  transform: translateY(-50%);
  flex-direction: row;
  gap: 4px;
  pointer-events: auto;
}

.colors-area.stacked .toolbar-btn {
  width: 36px;
  height: 36px;
  opacity: 0.6;
  animation: none;
}

.colors-area.stacked .color-column:hover .toolbar-btn {
  animation: none;
  opacity: 0.6;
}

.colors-area.stacked .color-content {
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
}

.colors-area.stacked .color-hex {
  font-size: 1.1rem;
  min-width: auto;
  padding: 8px 12px;
  text-align: right;
}

.colors-area.stacked .lock-indicator {
  display: none;
}

/* Add button between stacked rows */
.colors-area.stacked .addColor {
  display: flex;
  width: 100%;
  height: 0;
  flex: 0 0 0;
  margin: 0;
  position: relative;
  justify-content: center;
  align-items: center;
  z-index: 60;
  overflow: visible;
}

.colors-area.stacked .addBtn {
  position: absolute;
  width: 48px;
  height: 48px;
  opacity: 0.2;
  transform: scale(1);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

/* ========== SHADE PICKER (General) ========== */

.shade-picker {
  display: flex;
  gap: 6px;
  padding: 8px;
  background: rgba(0, 0, 0, 0.25);
  backdrop-filter: blur(6px);
}

.shade-swatch {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
}

.shade-swatch:focus {
  outline: 2px solid white;
}

/* ========== SHADE CONTAINER (Desktop Default) ========== */
.shade-container {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  z-index: 50;
  animation: shadeFadeIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* Reset padding on container */
  padding-top: 0; 
}

/* Apply the padding to the FIRST shade.
   This makes the first color extend behind the header. */
.shade-container .shade-step:first-child {
  padding-top: 100px; 
}

/* If the app switches to stacked mode on desktop due to narrow width */
.colors-area.stacked .shade-container {
  flex-direction: row;
  padding-top: 0;
}

/* Reset the padding for horizontal layout */
.colors-area.stacked .shade-step:first-child {
  padding-top: 0;
}

.colors-area.stacked .shade-step {
  height: 100%;
  width: auto;
}

.shade-step {
  flex: 1;
  width: 100%;
  border: none;
  cursor: pointer;
  transition: transform 0.1s ease, z-index 0.1s ease;
  position: relative;
}

/* Hover effect for desktop: scale slightly to show selection */
@media (hover: hover) {
  .shade-step:hover {
    transform: scaleX(1.1) scaleY(1.1);
    z-index: 10;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
    border-radius: 4px;
  }
}

/* Highlight the current active color */
.shade-step.is-current {
  z-index: 5;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3);
}

/* Close Button - Hidden on Desktop by default */
.shade-close-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.05);
  color: #161616;
  border: none;
  
  display: none; /* Hidden on Desktop */
  align-items: center;
  justify-content: center;
  
  cursor: pointer;
  z-index: 20;
  transform: translateY(-10px);
}

@keyframes shadeFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes shadeBtnIn {
  to { opacity: 1; transform: translateY(0); }
}

/* ========== REMOVE COLOR BUTTON (Matches Shade Close Style) ========== */
.column-remove-btn {
  position: absolute;
  /* Desktop: Below the floating header */
  top: 100px; 
  right: 10px;
  
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(4px);
  border: none;
  
  display: flex;
  align-items: center;
  justify-content: center;
  
  cursor: pointer;
  z-index: 20;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.color-column:hover .column-remove-btn {
  opacity: 1;
  transform: scale(1);
}

.column-remove-btn:hover {
  background: rgba(0, 0, 0, 0.3);
  transform: scale(1.1);
}

.column-remove-btn:active {
  transform: scale(0.9);
}

/* Stacked mode adjustment for remove button */
.colors-area.stacked .column-remove-btn {
  top: 50%;
  right: 12px;
  transform: translateY(-50%);
  opacity: 0.6;
}

.colors-area.stacked .color-column:hover .column-remove-btn {
  opacity: 1;
  transform: translateY(-50%) scale(1);
}


/* ========== COLOR TOOLBAR ========== */
.color-toolbar {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  gap: 4px;
  pointer-events: none;
}

.color-column:hover .color-toolbar {
  pointer-events: auto;
}

/* Buttons start invisible */
.toolbar-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  background: none;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  opacity: 0; /* Hidden by default */
  transition: background-color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Staggered entrance */
.color-column:hover .toolbar-btn {
  animation: toolbarBtnPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.color-column .toolbar-btn:nth-child(1) { opacity: 0; 

}

.color-column:hover .toolbar-btn:nth-child(1) { animation-delay: 0ms; }
.color-column:hover .toolbar-btn:nth-child(2) { animation-delay: 40ms; }
.color-column:hover .toolbar-btn:nth-child(3) { animation-delay: 80ms; }
.color-column:hover .toolbar-btn:nth-child(4) { animation-delay: 120ms; }
.color-column:hover .toolbar-btn:nth-child(5) { animation-delay: 160ms; }

@keyframes toolbarBtnPop {
  0% { opacity: 0; transform: scale(0.5) translateY(10px); }
  100% { opacity: 0.6; transform: scale(1) translateY(0); }
}

.toolbar-btn:hover {
  opacity: 1 !important;
  background: rgba(255, 255, 255, 0.15);
  transform: scale(1.15);
}

.toolbar-btn:active {
  transform: scale(0.9);
  transition: transform 0.1s ease;
}

.toolbar-btn.active {
  opacity: 1;
}

.drag-handle {
  cursor: grab;
}

.drag-handle:active {
  cursor: grabbing;
}

/* ========== LOCK INDICATOR ========== */
.lock-indicator {
  position: absolute;
  bottom: 120px;
  opacity: 0.5;
  animation: lockPulse 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes lockPulse {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); opacity: 0.5; }
}

/* ========== HEX CODE ========== */
.color-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}

.color-hex {
  font-size: var(--font-xl);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  cursor: pointer;
  background: none;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  transition: background-color 0.2s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  min-width: 120px;
  text-align: center;
}

.color-hex:hover {
  background-color: rgba(255, 255, 255, 0.15);
  transform: scale(1.08);
}

.color-hex:active {
  transform: scale(0.95);
}

.color-hex.copied {
  animation: copyBounce 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes copyBounce {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

/* ========== ADD COLOR BUTTON ========== */
.addColor {
  width: 80px;
  margin-left: -40px;
  margin-right: -40px;
  z-index: 60;
  display: flex;
  justify-content: center;
  align-items: center;
}

.addBtn {
  transform: scale(0.6);
  opacity: 0;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  background: white;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1),
    opacity 0.2s ease, box-shadow 0.2s ease;
}

@media (hover: hover) {
  .addColor:hover .addBtn {
    opacity: 1;
    transform: scale(1);
  }

  .addBtn:hover {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    transform: scale(1.1) !important;
  }
}

.addBtn:active {
  transform: scale(0.9) !important;
  transition: transform 0.1s ease;
}

/* ========== ENTERING ANIMATION ========== */
.color-column.color-entering {
  animation: columnExpand 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes columnExpand {
  0% { flex: 0.0001; }
  100% { flex: 1; }
}

.color-column.color-entering .color-content {
  animation: contentReveal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s forwards;
  opacity: 0;
}

@keyframes contentReveal {
  0% { opacity: 0; transform: translateY(30px) scale(0.9); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

.color-column.color-entering .color-hex {
  animation: hexPop 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards;
  opacity: 0;
}

@keyframes hexPop {
  0% { opacity: 0; transform: scale(0.5); }
  70% { transform: scale(1.1); }
  100% { opacity: 1; transform: scale(1); }
}

/* ========== REMOVING ANIMATION ========== */
.color-column.color-removing {
  animation: columnCollapse 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes columnCollapse {
  0% { flex: 1; opacity: 1; }
  100% { flex: 0.0001; opacity: 0; }
}

/* ========== REORDER ANIMATION ========== */
.color-column.reordering {
  animation: reorderBounce 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes reorderBounce {
  0% { transform: scale(0.95); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

/* ========== MOBILE HEADER (hidden on desktop) ========== */
.mobile-header {
  display: none;
}

/* ================================================================= */
/* PC STACKED VIEW FIXES                                             */
/* ================================================================= */

@media (min-width: 769px) {
  /* 
     1. Push the first color down so the background covers the area behind the header,
        but the content (Hex code) starts lower down.
  */
  .colors-area.stacked .color-column:first-child {
    padding-top: 100px;
  }
 
  /* 
     2. The absolute positioned elements (Toolbar & Remove Button) are based on 
        the total height (50%), so they ignore the padding. 
        
        We need to push them down by 50px (half the padding) to realign them 
        visually with the Hex code (which Flexbox centers in the remaining space).
        
        Calculation: Center of visible area = 50% + 50px
  */
  .colors-area.stacked .color-column:first-child .color-toolbar {
    top: calc(50% + 50px);
  }
  
  .colors-area.stacked .color-column:first-child .column-remove-btn {
    top: calc(50% + 50px);
  }
}

.seo-content-footer {
  color: rgba(255, 255, 255, 0.02);
}

.seo-content-wrapper {
  color: rgba(255, 255, 255, 0.02);
}

.seo-main-title {
  color: rgba(255, 255, 255, 0.02);
}

.seo-trait-separator {
  color: rgba(255, 255, 255, 0.02);
}

.seo-color-reference {
  color: rgba(255, 255, 255, 0.02);
}

.seo-section-title {
  color: rgba(255, 255, 255, 0.02);
}




.seo-footer-tiny {
  position: absolute;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 8px;
  color: rgba(0, 0, 0, 0.2); /* Very faint */
  white-space: nowrap;
  pointer-events: none;
  z-index: 5; /* Below the UI controls */
  max-width: 90%;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  color: rgba(0, 0, 0, 0.2); /* Very faint */
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
  
  /* Ensures it can't be clicked */
  pointer-events: none; 
}

/* ========== MOBILE RESPONSIVE ========== */
@media (max-width: 768px) {
  .generator-container {
    flex-direction: column;
    overflow: hidden;
    height: 100vh;
    height: 100dvh;
    height: -webkit-fill-available;
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Mobile Header */
  .mobile-header {
    display: flex;
    width: 100%;
    flex: 0 0 56px;
    background: white;
    align-items: center;
    justify-content: space-between;
    padding: 0 4px;
    padding-top: env(safe-area-inset-top, 0px);
    gap: 4px;
    z-index: 10;
  }

  .mobile-logo {
    display: flex;
    align-items: center;
    background: none;
    border: none;
    padding: 8px;
    margin: -8px;
    border-radius: 8px;
    cursor: pointer;
  }

  .mobile-logo:active { background: rgba(0, 0, 0, 0.05); }

  .mobile-logo-mark { display: flex; gap: 2px; }

  .mobile-logo-swatch {
    width: 5px;
    height: 16px;
    border-radius: 2px;
    transition: background-color 0.3s ease;
  }

  .mobile-hint {
    font-size: 12px;
    color: #999;
    white-space: nowrap;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px 2px;
    padding-left: 12px;
    border-radius: 6px;
    transition: background-color 0.15s ease;
  }

  .mobile-hint:active { background: rgba(0, 0, 0, 0.05); }

  .mobile-actions {
    display: flex;
    align-items: center;
    gap: 2px;
    flex-shrink: 0;
  }

  .mobile-icon-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: none;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    color: #444;
    transition: background-color 0.15s ease, color 0.15s ease;
  }

  .mobile-icon-btn:active:not(.disabled) {
    background: #f0f0f0;
    color: #161616;
  }

  .mobile-icon-btn.disabled { opacity: 0.3; pointer-events: none; }
  .mobile-icon-btn.active { background: #f0f0f0; color: #161616; }

  .mobile-separator {
    width: 1px;
    height: 20px;
    background: rgba(0, 0, 0, 0.1);
    margin: 0 4px;
  }

  /* Color rows */
  .color-column {
    width: 100%;
    min-height: 0;
    height: auto;
    flex: 1 1 0;
    flex-direction: row;
    justify-content: flex-end;
    align-items: center;
    padding: 0 16px;
    padding-bottom: 0;
    position: relative;
  }

  /* Color entering animation */
  .color-column.color-entering {
    animation: mobileColumnExpand 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes mobileColumnExpand {
    0% { flex: 0.0001 1 0; opacity: 0; }
    100% { flex: 1 1 0; opacity: 1; }
  }

  .color-column.color-entering .color-content {
    animation: contentReveal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s forwards;
    opacity: 0;
  }

  .color-column.color-entering .color-hex {
    animation: hexPop 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards;
    opacity: 0;
  }

  /* Color removing animation */
  .color-column.color-removing {
    animation: mobileColumnCollapse 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes mobileColumnCollapse {
    0% { flex: 1 1 0; opacity: 1; }
    100% { flex: 0.0001 1 0; opacity: 0; }
  }

  /* Toolbar on left - always visible on mobile */
  .color-toolbar {
    position: absolute;
    top: 50%;
    left: 12px;
    right: auto;
    transform: translateY(-50%);
    flex-direction: row;
    gap: 4px;
    pointer-events: auto;
  }

  .toolbar-btn {
    width: 36px;
    height: 36px;
    opacity: 0.6;
    animation: none;
  }

  .color-column:hover .toolbar-btn {
    animation: none;
    opacity: 0.6;
  }

  .toolbar-btn:active {
    opacity: 1;
    transform: scale(0.9);
  }

  .toolbar-btn.active { opacity: 1; }

  /* Hex code on the right */
  .color-content {
    flex-direction: row;
    align-items: center;
    justify-content: flex-end;
  }

  .color-hex {
    font-size: 1.1rem;
    min-width: auto;
    padding: 8px 12px;
    text-align: right;
  }

  .lock-indicator { display: none; }

  /* Add button between rows */
  .addColor {
    display: flex;
    width: 100%;
    height: 0;
    flex: 0 0 0;
    margin: 0;
    position: relative;
    justify-content: center;
    align-items: center;
    z-index: 60;
    overflow: visible;
  }

  /* Add button - no hover states on mobile */
  .addBtn {
    position: absolute;
    width: 48px;
    height: 48px;
    opacity: 0.1;
    transform: scale(1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .addColor:hover .addBtn { opacity: 0.1; transform: scale(1); }
  .addBtn:hover { opacity: 0.1; transform: scale(1); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); }

  .addBtn:active {
    opacity: 1 !important;
    transform: scale(0.95) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }

  .addColor::before {
    content: '';
    position: absolute;
    top: -20px;
    left: 0;
    right: 0;
    bottom: -20px;
    z-index: -1;
  }

  /* On mobile, shades flow horizontally */
  .shade-container {
    flex-direction: row;
    padding-top: 0; 
  }
  
  /* Reset first child padding on mobile */
  .shade-step:first-child {
    padding-top: 0;
  }
  
  .shade-step {
    height: 100%;
    width: auto;
  }
  
  .shade-step:active {
    transform: scale(1.2);
    z-index: 10;
    border-radius: 4px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }
  
  /* FIXED: Mobile "Close Shade" Button */
  .shade-close-btn {
    display: flex;
    position: absolute;
    top: 10%;
    left: 8px; /* Standard alignment */
    right: auto;

    /* VISUAL CONSISTENCY (Square) */
    border-radius: 10px;
    width: 48px;
    height: 48px;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    color: #161616;
    border: none;
    z-index: 60;
  }
  
  /* FIXED: Mobile "Remove Color" Button (Matches styling of close button) */
  .column-remove-btn {
    display: flex;
    position: absolute;
    top: 10%;
    right: 8px; /* Opposite side of close button */
    opacity: 1; 

    /* VISUAL CONSISTENCY (Square) */
    border-radius: 10px;
    width: 48px;
    height: 48px;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05); /* Lighter bg for remove */
    backdrop-filter: blur(4px);
    border: none;
    z-index: 60;
  }
  
  .column-remove-btn:active {
    background: rgba(0, 0, 0, 0.15);
  }
}
/* =========================================
   SOURCE: src/colorGenerator/ExportPanel.css
   ========================================= */

.export-column {
  flex: 0 0 0px;
  height: 100%;
  background: #f8f8f8;
  overflow: hidden;
  transition: flex-basis 0.4s cubic-bezier(0.34, 1.36, 0.64, 1);
  position: relative;
}

.export-column.open {
  flex: 0 0 300px;
}

.export-inner {
  width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: 80px;
}

.export-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 16px 12px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.export-title {
  font-size: var(--font-base);
  font-weight: 600;
  color: #161616;
}

.export-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: #666;
  transition: background-color 0.15s ease, color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.export-close:hover {
  background: rgba(0, 0, 0, 0.06);
  color: #161616;
  transform: scale(1.1);
}

.export-close:active {
  transform: scale(0.9);
}

.export-scroll {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px;
}

.export-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

.export-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 20px 12px;
  background: white;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: background-color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
}

.export-option:hover {
  background: #fff;
  transform: scale(1.03);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.export-option:active {
  transform: scale(0.97);
}

.export-option.copied {
  background: #161616;
}

.export-option.copied .export-option-icon,
.export-option.copied .export-option-label {
  color: white;
}

.export-option-icon {
  color: #161616;
  transition: color 0.15s ease;
}

.export-option-label {
  font-size: var(--font-sm);
  font-weight: 500;
  color: #161616;
  transition: color 0.15s ease;
}

/* Preview section */
.export-preview {
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
}

.export-preview-label {
  display: block;
  font-size: var(--font-xs);
  font-weight: 600;
  color: #999;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 12px;
}

.export-preview-colors {
  display: flex;
  height: 60px;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.export-preview-color {
  flex: 1;
  transition: flex 0.15s ease;
}

.export-preview-colors:hover .export-preview-color:hover {
  flex: 1.5;
}

.export-preview-hexes {
  display: flex;
  margin-top: 8px;
}

.export-preview-hex {
  flex: 1;
  text-align: center;
  font-size: var(--font-xs);
  font-weight: 500;
  color: #666;
  font-family: monospace;
}

/* Scrollbar */
.export-scroll::-webkit-scrollbar {
  width: 4px;
}

.export-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.export-scroll::-webkit-scrollbar-thumb {
  background: #ddd;
  border-radius: 2px;
}

/* Mobile */
@media (max-width: 600px) {
  .export-column.open {
    flex: 0 0 260px;
  }

  .export-inner {
    width: 260px;
  }

  .export-option {
    padding: 16px 10px;
  }
}

/* Export Settings Toggle */
.export-settings-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 10px 12px;
  margin-bottom: 16px;
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  font-size: var(--font-xs);
  font-weight: 500;
  color: #666;
  cursor: pointer;
  transition: all 0.15s ease;
}

.export-settings-toggle:hover {
  background: #f5f5f5;
  color: #161616;
}

.export-settings-toggle.active {
  background: #f5f5f5;
  color: #161616;
  border-color: #161616;
}

.export-settings-toggle .chevron {
  margin-left: auto;
  transition: transform 0.2s ease;
}

.export-settings-toggle .chevron.open {
  transform: rotate(180deg);
}

/* Export Settings Panel */
.export-settings {
  background: white;
  border-radius: 10px;
  padding: 16px;
  margin-bottom: 16px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.export-setting label {
  display: block;
  font-size: var(--font-xs);
  font-weight: 600;
  color: #666;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.export-setting-options {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.export-setting-preview {
  display: block;
  margin-top: 6px;
  font-size: 11px;
  color: #999;
  font-family: monospace;
}

/* Export Button Description */
.panel-export-btn {
  padding: 16px 12px;
}

.panel-export-btn-desc {
  font-size: 10px;
  color: #999;
  margin-top: 2px;
  transition: color 0.15s ease;
}

.panel-export-btn.copied .panel-export-btn-desc {
  color: rgba(255, 255, 255, 0.7);
}

/* =========================================
   SOURCE: src/colorGenerator/HistoryPanel.css
   ========================================= */

/* History column - acts like a color column */
.history-column {
  flex: 0 0 0px;
  height: 100%;
  background: #f8f8f8;
  overflow: hidden;
  transition: flex-basis 0.4s cubic-bezier(0.34, 1.36, 0.64, 1);
  position: relative;
}

.history-column.open {
  flex: 0 0 260px;
}

.history-inner {
  width: 260px;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: 80px; /* Below header */
}

.history-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 16px 12px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.history-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--font-sm);
  font-weight: 600;
  color: #161616;
}

.history-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: #666;
  transition: background-color 0.15s ease, color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.history-close:hover {
  background: rgba(0, 0, 0, 0.06);
  color: #161616;
  transform: scale(1.1);
}

.history-close:active {
  transform: scale(0.9);
}

.history-scroll {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 12px;
}

.history-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 150px;
  text-align: center;
  color: #999;
}

.history-empty p {
  font-size: var(--font-sm);
  font-weight: 500;
  color: #666;
  margin-bottom: 4px;
}

.history-empty span {
  font-size: var(--font-xs);
}

.palette-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.palette-item {
  position: relative;
  display: block;
  padding: 0;
  background: white;
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  overflow: hidden;
  transition: border-color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
}

.palette-item:hover {
  transform: scale(1.03);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.palette-item:active {
  transform: scale(0.98);
}

.palette-item.current {
  border-color: #161616;
}

.palette-preview {
  display: flex;
  height: 40px;
}

.preview-color {
  flex: 1;
  transition: flex 0.15s ease;
}

.palette-item:hover .preview-color:hover {
  flex: 1.8;
}

.current-dot {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 8px;
  height: 8px;
  background: #161616;
  border-radius: 50%;
  box-shadow: 0 0 0 2px white;
}

/* Scrollbar */
.history-scroll::-webkit-scrollbar {
  width: 4px;
}

.history-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.history-scroll::-webkit-scrollbar-thumb {
  background: #ddd;
  border-radius: 2px;
}

.history-scroll::-webkit-scrollbar-thumb:hover {
  background: #ccc;
}

/* =========================================
   SOURCE: src/colorGenerator/MethodPanel.css
   ========================================= */

.method-column {
  flex: 0 0 0px;
  height: 100%;
  background: #f8f8f8;
  overflow: hidden;
  transition: flex-basis 0.4s cubic-bezier(0.34, 1.6, 0.64, 1);
  position: relative;
}

.method-column.open {
  flex: 0 0 240px;
}

.method-inner {
  width: 240px;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: 80px;
}

.method-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 16px 12px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.method-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--font-sm);
  font-weight: 600;
  color: #161616;
}

.method-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: #666;
  transition: background-color 0.15s ease, color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.16, 0.64, 1);
}

.method-close:hover {
  background: rgba(0, 0, 0, 0.06);
  color: #161616;
  transform: scale(1.1);
}

.method-close:active {
  transform: scale(0.9);
}

.method-scroll {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 12px;
}

.method-section {
  margin-bottom: 24px;
}

.method-section-label {
  display: flex;
  justify-content: space-between;
  font-size: var(--font-xs);
  font-weight: 600;
  color: #666;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.method-section-label span {
  color: #999;
  font-weight: 500;
  text-transform: none;
}

.method-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.method-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 12px;
  background: white;
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  text-align: left;
  transition: background-color 0.15s ease, border-color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.method-item:hover {
  transform: scale(1.02);
}

.method-item:active {
  transform: scale(0.98);
}

.method-item.selected {
  border-color: #161616;
}

.method-item-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.method-label {
  font-size: var(--font-sm);
  font-weight: 600;
  color: #161616;
}

.method-description {
  font-size: var(--font-xs);
  color: #888;
}

.method-check {
  width: 8px;
  height: 8px;
  background: #161616;
  border-radius: 50%;
}

.method-hint {
  font-size: var(--font-xs);
  color: #888;
  margin-top: 8px;
  line-height: 1.4;
}

/* Constraint Buttons */
.constraint-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.constraint-btn {
  padding: 8px 12px;
  background: white;
  border: 2px solid transparent;
  border-radius: 8px;
  font-size: var(--font-xs);
  font-weight: 500;
  color: #666;
  cursor: pointer;
  transition: all 0.15s ease;
}

.constraint-btn:hover {
  color: #161616;
  background: #f0f0f0;
}

.constraint-btn.active {
  border-color: #161616;
  color: #161616;
  font-weight: 600;
  background: white;
}

/* Slider */
.constraint-slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  appearance: none;
  background: #ddd;
  cursor: pointer;
  outline: none;
}

.constraint-slider::-webkit-slider-thumb {
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #161616;
  cursor: pointer;
  transition: transform 0.15s ease;
}

.constraint-slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}

.slider-labels {
  display: flex;
  justify-content: space-between;
  margin-top: 6px;
  font-size: var(--font-xs);
  color: #999;
}

/* Toggle Button */
.toggle-btn {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px;
  background: white;
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  font-size: var(--font-sm);
  font-weight: 500;
  color: #161616;
  text-align: left;
  transition: all 0.15s ease;
}

.toggle-btn:hover {
  background: #f5f5f5;
}

.toggle-btn.active {
  border-color: #161616;
}

.toggle-indicator {
  width: 40px;
  height: 22px;
  background: #ddd;
  border-radius: 11px;
  position: relative;
  transition: background-color 0.2s ease;
  flex-shrink: 0;
}

.toggle-indicator::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 16px;
  height: 16px;
  background: white;
  border-radius: 50%;
  transition: transform 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.toggle-btn.active .toggle-indicator {
  background: #161616;
}

.toggle-btn.active .toggle-indicator::after {
  transform: translateX(18px);
}

/* Scrollbar */
.method-scroll::-webkit-scrollbar {
  width: 4px;
}

.method-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.method-scroll::-webkit-scrollbar-thumb {
  background: #ddd;
  border-radius: 2px;
}

/* Mobile */
@media (max-width: 600px) {
  .method-column.open {
    flex: 0 0 200px;
  }

  .method-inner {
    width: 200px;
  }
}

/* =========================================
   SOURCE: src/header/Header.css
   ========================================= */

.header {
  position: fixed;
  top: 20px;
  left: 20px;
  right: 20px;
  z-index: 1000;
  background: white;
  border-radius: 12px;
  padding: 10px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
}

.leftSection {
  display: flex;
  align-items: center;
  gap: 16px;
}

/* Update logoContainer to be a button */
.logoContainer {
  display: flex;
  align-items: center;
  gap: 10px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 6px 10px;
  margin: -6px -2px;
  border-radius: 8px;
  transition: background-color 0.15s ease;
}

.logoContainer:hover {
  background: rgba(0, 0, 0, 0.04);
}

.logoMark {
  display: flex;
  gap: 3px;
}

.logoSwatch {
  width: 6px;
  height: 18px;
  border-radius: 2px;
  transition: background-color 0.3s ease;
}

.logoText {
  font-weight: 700;
  font-size: var(--font-base);
  color: #161616;
}

.logoGradient {
  background: linear-gradient(135deg, #6366f1 0%, #f755b9 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hint {
  font-size: var(--font-sm);
  color: #999;
  user-select: none;
}

.rightSection {
  display: flex;
  align-items: center;
  gap: 4px;
}

.iconBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  color: #444;
  transition: background-color 0.15s ease, color 0.15s ease, opacity 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  /* Prevent focus outline */
  outline: none;
}

.iconBtn:hover:not(.disabled) {
  background: #f0f0f0;
  color: #161616;
  transform: scale(1.05);
}

.iconBtn:active:not(.disabled) {
  transform: scale(0.95);
}

.iconBtn.disabled {
  opacity: 0.3;
  user-select: none;
}

.iconBtn.active {
  background: #f0f0f0;
  color: #161616;
}

.iconBtn:focus-visible {
  outline: 2px solid #161616;
  outline-offset: 2px;
}

.separator {
  width: 1px;
  height: 24px;
  background: rgba(0, 0, 0, 0.1);
  margin: 0 8px;
}

/* Same for other buttons */
.toolbar-btn,
.addBtn,
.history-close,
.palette-item,
.modeIconBtn,
.modeDropdownItem {
  outline: none;
}

.toolbar-btn:focus-visible,
.addBtn:focus-visible,
.history-close:focus-visible,
.palette-item:focus-visible,
.modeIconBtn:focus-visible,
.modeDropdownItem:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Add these styles to your existing Header.css */

/* Bookmark wrapper */
.bookmark-wrapper {
  position: relative;
}

/* Bookmark tooltip */
.bookmark-tooltip {
  position: absolute;
  top: calc(100% + 12px);
  right: 0;
  background: #161616;
  color: white;
  border-radius: 12px;
  padding: 16px;
  min-width: 220px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  z-index: 1000;
  animation: tooltipFadeIn 0.2s ease;
}

.bookmark-tooltip::before {
  content: '';
  position: absolute;
  top: -6px;
  right: 16px;
  width: 12px;
  height: 12px;
  background: #161616;
  transform: rotate(45deg);
  border-radius: 2px;
}

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.bookmark-tooltip-content {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.bookmark-tooltip-title {
  font-size: var(--font-sm);
  font-weight: 600;
}

.bookmark-tooltip-shortcut {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-sm);
}

.bookmark-tooltip-shortcut kbd {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  height: 24px;
  padding: 0 6px;
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 6px;
  font-family: inherit;
  font-size: var(--font-xs);
  font-weight: 600;
}

.bookmark-tooltip-hint {
  font-size: var(--font-xs);
  color: rgba(255, 255, 255, 0.6);
  margin-top: 4px;
}

.bookmark-tooltip-close {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  font-size: 18px;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.15s ease;
}

.bookmark-tooltip-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: white;
}

/* Compact desktop header when colors are stacked */
.header.compact {
  left: auto;
  right: 20px;
  width: max-content;
  padding: 8px 10px;
  justify-content: flex-end;
}

/* Hide the parts that make it wide */
.header.compact .hint {
  display: none;
}

.header.compact .logoText {
  display: none;
}

/* Tighten spacing */
.header.compact .leftSection {
  gap: 8px;
}

.header.compact .rightSection {
  gap: 2px;
}

.header.compact .separator {
  margin: 0 6px;
  height: 20px;
}

/* Slightly smaller buttons so it occupies less screen */
.header.compact .iconBtn {
  width: 36px;
  height: 36px;
  border-radius: 10px;
}

/* Keep the logo mark small */
.header.compact .logoSwatch {
  width: 5px;
  height: 16px;
}

/* Make the logo button less wide-feeling */
.header.compact .logoContainer {
  padding: 6px;
  margin: 0;
}

.header-cta-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  background-color: #161616;
  color: white;
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  text-decoration: none;
  transition: transform 0.15s ease, opacity 0.15s ease;
}

.header-cta-btn:hover {
  transform: translateY(-1px);
  opacity: 0.9;
}

/* Landing Mode specifics */
.header.landing-mode {
  position: sticky;
  top: 0;
  background: white;
  box-shadow: none; /* Removed shadow per your design */
  border-bottom: 1px solid rgba(0,0,0,0.05); /* Optional subtle divider */
  padding: 12px 24px;
  border-radius: 0px;
}

.landing-nav {
  display: flex;
  align-items: center;
  gap: 24px;
}

.nav-link {
  font-size: 0.9rem;
  font-weight: 500;
  color: #161616;
  text-decoration: none;
  transition: opacity 0.2s;
}

.nav-link:hover {
  opacity: 0.7;
}

.landing-icons {
  display: flex;
  gap: 8px;
  margin-left: 8px;
  padding-left: 16px;
  border-left: 1px solid rgba(0,0,0,0.1);
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .bookmark-tooltip {
    right: -60px;
    min-width: 200px;
    display: none;
  }
  
  .bookmark-tooltip::before {
    right: 76px;
    display: none;
  }
}

/* Hide floating header on mobile */
@media (max-width: 768px) {
  .header {
    display: none;
  }
}
/* =========================================
   SOURCE: src/header/ModeDropdown.css
   ========================================= */

.modeDropdown {
  position: relative;
}

.modeIconBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  color: #444;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.modeIconBtn:hover {
  background: #f0f0f0;
  color: #161616;
}

.modeIconBtn.active {
  background: #f0f0f0;
  color: #161616;
}

.modeDropdownMenu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  min-width: 200px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(0, 0, 0, 0.04);
  padding: 8px;
  z-index: 1000;
  animation: dropdownFadeIn 0.15s ease;
}

@keyframes dropdownFadeIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modeDropdownHeader {
  font-size: var(--font-xs);
  font-weight: 600;
  color: #999;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 8px 12px 12px;
}

.modeDropdownItem {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
  width: 100%;
  padding: 10px 12px;
  background: transparent;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.1s ease;
}

.modeDropdownItem:hover {
  background: rgba(0, 0, 0, 0.05);
}

.modeDropdownItem.selected {
  background: rgba(0, 0, 0, 0.08);
}

.modeLabel {
  font-size: var(--font-sm);
  font-weight: 500;
  color: #1a1a1a;
}

.modeDescription {
  font-size: var(--font-xs);
  color: #888;
}

/* =========================================
   SOURCE: src/index.css
   ========================================= */

/* Import at the very top */
@import url('https://fonts.googleapis.com/css2?family=Elms+Sans:ital,wght@0,100..900;1,100..900&display=swap');

:root {
  --bg-dark: #161616;
  --text-white: #ffffff;
  --font-xs: 0.75rem;
  --font-sm: 0.875rem;
  --font-base: 1rem;
  --font-lg: 1.25rem;
  --font-xl: 1.5rem;
  --font-2xl: 2rem;
  --font-3xl: 3rem;
  --leading-tight: 1.2;
  --leading-normal: 1.5;
  --leading-loose: 1.8;
  
  /* Dynamic viewport height fallback */
  --vh: 1vh;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  overflow: hidden;
  height: 100%;
  overscroll-behavior: none;
}

body {
  font-family: 'Elms Sans', sans-serif;
  font-optical-sizing: auto;
  font-style: normal;
  background-color: var(--bg-dark);
  color: var(--text-white);
  font-size: var(--font-base);
  line-height: var(--leading-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  height: 100%;
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height */
  min-height: -webkit-fill-available;
  overflow: hidden;
  overscroll-behavior: none; /* Prevent pull-to-refresh */
}

#root {
  height: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  min-height: -webkit-fill-available;
  overflow: hidden;
}

/* ONLY hide scrollbar on the main app wrapper - NOT panels */
.app-wrapper::-webkit-scrollbar {
  display: none;
}

.app-wrapper {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Page wrapper */
.app-wrapper {
  height: 100vh;
  height: 100dvh;
  overflow: hidden;
}

/* Each page section */
.page-section {
  height: 100vh;
  height: 100dvh;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  overflow: hidden;
  transition: opacity 0.4s ease, visibility 0.4s ease;
}

.page-section.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.page-section.visible {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* Allow scrolling inside landing page */
.page-section.landing-page {
  overflow-y: auto;
}

button,
input,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
}

h1 {
  font-size: var(--font-3xl);
  line-height: var(--leading-tight);
}
h2 {
  font-size: var(--font-2xl);
  line-height: var(--leading-tight);
}
h3 {
  font-size: var(--font-xl);
  line-height: var(--leading-tight);
}
small {
  font-size: var(--font-sm);
}

button:focus {
  outline: none;
}
button:focus-visible {
  outline: 2px solid #161616;
  outline-offset: 2px;
}
button {
  -webkit-user-select: none;
  user-select: none;
}

/* Nav Chevron - subtle, small */
.nav-chevron {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 50;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px 16px;
  border-radius: 8px;
  transition: all 0.2s ease;
  opacity: 0.5;
}

.nav-chevron:hover {
  opacity: 1;
  background: rgba(255, 255, 255, 0.1);
}

.nav-chevron-label {
  font-size: 11px;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.7);
}

.nav-chevron-icon {
  color: rgba(255, 255, 255, 0.7);
  animation: chevronBounce 2s ease-in-out infinite;
}

.nav-chevron:hover .nav-chevron-icon {
  animation: none;
}

@keyframes chevronBounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(3px);
  }
}

/* Light background variant */
.nav-chevron.on-light {
  opacity: 0.4;
}

.nav-chevron.on-light:hover {
  opacity: 1;
  background: rgba(0, 0, 0, 0.05);
}

.nav-chevron.on-light .nav-chevron-label {
  color: rgba(0, 0, 0, 0.5);
}

.nav-chevron.on-light .nav-chevron-icon {
  color: rgba(0, 0, 0, 0.4);
}

.nav-chevron.on-light:hover .nav-chevron-label,
.nav-chevron.on-light:hover .nav-chevron-icon {
  color: rgba(0, 0, 0, 0.8);
}

/* Up direction */
.nav-chevron.up .nav-chevron-icon {
  transform: rotate(180deg);
}

.nav-chevron.up .nav-chevron-icon {
  animation: chevronBounceUp 2s ease-in-out infinite;
}

@keyframes chevronBounceUp {
  0%,
  100% {
    transform: rotate(180deg) translateY(0);
  }
  50% {
    transform: rotate(180deg) translateY(3px);
  }
}

/* Mobile nav chevron adjustments */
@media (max-width: 768px) {
  .nav-chevron {
    bottom: 12px;
    padding: 6px 12px;
    /* Account for potential browser UI */
    bottom: calc(12px + env(safe-area-inset-bottom, 0px));
  }

  .nav-chevron-label {
    font-size: 10px;
  }

  .nav-chevron.panels-open {
    opacity: 0;
    pointer-events: none;
    transform: translateX(-50%) translateY(20px);
  }
}
/* =========================================
   SOURCE: src/pages/LandingPage/LandingPage.css
   ========================================= */

/* Layout Wrapper */
.landing-wrapper {
    display: flex;
    flex-direction: column;
    height: 100vh;
    width: 100%;
    overflow: hidden; /* Prevents scroll if image fits perfectly */
  }
  
  /* Hero Section - The Background */
  .hero-section {
    flex: 1; /* Takes all remaining space below header */
    width: 100%;
    background-size: cover;
    background-position: center bottom; /* Aligns bands to bottom like screenshot */
    background-repeat: no-repeat;
    
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    
    position: relative;
  }
  
  /* Content Container */
  .hero-content {
    max-width: 800px;
    padding: 0 20px;
    /* Push content slightly up to match screenshot */
    margin-bottom: 80px; 
    color: #161616;
  }
  
  /* Typography */
  .hero-title {
    font-size: 6rem; /* Very large and bold */
    font-weight: 800;
    letter-spacing: -0.02em;
    margin-bottom: 24px;
    color: #161616;
    line-height: 1;
  }
  
  .hero-subtitle {
    font-size: 1.5rem;
    font-weight: 400;
    line-height: 1.5;
    color: #2c2c2c;
    margin-bottom: 40px;
    opacity: 0.9;
  }
  
  /* Buttons */
  .hero-buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
  }
  
  .btn-primary {
    background-color: #161616;
    color: white;
    padding: 16px 32px;
    border-radius: 99px; /* Pill shape */
    border: none;
    font-size: 1.1rem;
    font-weight: 500;
    cursor: pointer;
    transition: transform 0.2s ease, opacity 0.2s ease;
  }
  
  .btn-primary:hover {
    transform: scale(1.03);
    opacity: 0.95;
  }
  
  .btn-secondary {
    background-color: white;
    color: #161616;
    padding: 16px 32px;
    border-radius: 99px; /* Pill shape */
    border: none;
    font-size: 1.1rem;
    font-weight: 500;
    cursor: default; /* Non-functional for now as requested */
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  }

  .feature-section {
    
  }
  
  /* Mobile Responsive */
  @media (max-width: 768px) {
    .hero-title {
      font-size: 3.5rem;
    }
    
    .hero-subtitle {
      font-size: 1.1rem;
    }
    
    .hero-buttons {
      flex-direction: column;
      gap: 12px;
    }
    
    .btn-primary, .btn-secondary {
      width: 100%;
    }
  }
/* =========================================
   SOURCE: src/styles/PanelStyles.css
   ========================================= */

/* ============================================
   SHARED PANEL STYLES
   ============================================ */

/* Base Panel Column */
.panel-column {
  flex: 0 0 0px;
  height: 100vh;
  background: #f8f8f8;
  overflow: hidden;
  transition: flex-basis 0.5s cubic-bezier(0.34, 1.16, 0.64, 1);
  position: relative;
}

/* Panel Inner Container */
.panel-inner {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: 80px;
}

/* Panel Header */
.panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  height: 56px;
  flex-shrink: 0;
}

.panel-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--font-sm);
  font-weight: 600;
  color: #161616;
}

.panel-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: #666;
  transition: background-color 0.15s ease, color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.76, 0.64, 1);
  flex-shrink: 0;
}

.panel-close:hover {
  background: rgba(0, 0, 0, 0.06);
  color: #161616;
  transform: scale(1.1);
}

.panel-close:active {
  transform: scale(0.9);
}

/* Panel Scrollable Content */
.panel-scroll {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px;
}

/* Scrollbar Styling */
.panel-scroll::-webkit-scrollbar {
  width: 4px;
}

.panel-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.panel-scroll::-webkit-scrollbar-thumb {
  background: #ddd;
  border-radius: 2px;
}

.panel-scroll::-webkit-scrollbar-thumb:hover {
  background: #ccc;
}

/* Section */
.panel-section {
  margin-bottom: 24px;
}

.panel-section:last-child {
  margin-bottom: 0;
}

/* Section Label */
.panel-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--font-xs);
  font-weight: 600;
  color: #666;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.panel-label span {
  color: #999;
  font-weight: 500;
  text-transform: none;
  letter-spacing: 0;
}

/* Selection List Item */
.panel-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.panel-list-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 12px;
  background: white;
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  text-align: left;
  transition: background-color 0.15s ease, border-color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.panel-list-item:hover {
  transform: scale(1.02);
}

.panel-list-item:active {
  transform: scale(0.98);
}

.panel-list-item.selected {
  border-color: #161616;
}

.panel-list-item-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.panel-list-item-title {
  font-size: var(--font-sm);
  font-weight: 600;
  color: #161616;
}

.panel-list-item-desc {
  font-size: var(--font-xs);
  color: #888;
}

.panel-check {
  width: 8px;
  height: 8px;
  background: #161616;
  border-radius: 50%;
  flex-shrink: 0;
}

/* Button Grid */
.panel-btn-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.panel-btn {
  padding: 8px 12px;
  background: white;
  border: 2px solid transparent;
  border-radius: 8px;
  font-size: var(--font-xs);
  font-weight: 500;
  color: #666;
  cursor: pointer;
  transition: all 0.15s ease;
}

.panel-btn:hover {
  color: #161616;
  background: #f0f0f0;
}

.panel-btn.active {
  border-color: #161616;
  color: #161616;
  font-weight: 600;
  background: white;
}

/* Slider */
.panel-slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  appearance: none;
  background: #ddd;
  cursor: pointer;
  outline: none;
}

.panel-slider::-webkit-slider-thumb {
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #161616;
  cursor: pointer;
  transition: transform 0.15s ease;
}

.panel-slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}

.panel-slider-labels {
  display: flex;
  justify-content: space-between;
  margin-top: 6px;
  font-size: var(--font-xs);
  color: #999;
}

/* Toggle Button */
.panel-toggle {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px;
  background: white;
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  font-size: var(--font-sm);
  font-weight: 500;
  color: #161616;
  text-align: left;
  transition: all 0.15s ease;
}

.panel-toggle:hover {
  background: #f5f5f5;
}

.panel-toggle.active {
  border-color: #161616;
}

.panel-toggle-indicator {
  width: 40px;
  height: 22px;
  background: #ddd;
  border-radius: 11px;
  position: relative;
  transition: background-color 0.2s ease;
  flex-shrink: 0;
}

.panel-toggle-indicator::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 16px;
  height: 16px;
  background: white;
  border-radius: 50%;
  transition: transform 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.panel-toggle.active .panel-toggle-indicator {
  background: #161616;
}

.panel-toggle.active .panel-toggle-indicator::after {
  transform: translateX(18px);
}

/* Hint Text */
.panel-hint {
  font-size: var(--font-xs);
  color: #888;
  margin-top: 8px;
  line-height: 1.4;
}

/* Empty State */
.panel-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 150px;
  text-align: center;
  color: #999;
}

.panel-empty p {
  font-size: var(--font-sm);
  font-weight: 500;
  color: #666;
  margin-bottom: 4px;
}

.panel-empty span {
  font-size: var(--font-xs);
}

/* Card Item (for history/palettes) */
.panel-card {
  position: relative;
  display: block;
  padding: 0;
  background: white;
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  overflow: hidden;
  transition: border-color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
}

.panel-card:hover {
  transform: scale(1.03);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.panel-card:active {
  transform: scale(0.98);
}

.panel-card.current {
  border-color: #161616;
}

/* Badge */
.panel-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
}

.panel-badge.pass {
  background: #ffffff;
  color: #8f8f8f;
}

.panel-badge.fail {
  background: #ffffff;
  color: #161616;
}

/* Export Grid */
.panel-export-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

.panel-export-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 20px 12px;
  background: white;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: background-color 0.15s ease,
    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
}

.panel-export-btn:hover {
  transform: scale(1.03);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.panel-export-btn:active {
  transform: scale(0.97);
}

.panel-export-btn.copied {
  background: #161616;
  color: white;
}

.panel-export-btn-icon {
  color: #161616;
  transition: color 0.15s ease;
}

.panel-export-btn.copied .panel-export-btn-icon {
  color: white;
}

.panel-export-btn-label {
  font-size: var(--font-sm);
  font-weight: 500;
  color: #161616;
  transition: color 0.15s ease;
}

.panel-export-btn.copied .panel-export-btn-label {
  color: white;
}

/* Preview Section */
.panel-preview {
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
}

.panel-preview-colors {
  display: flex;
  height: 48px;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.panel-preview-color {
  flex: 1;
  transition: flex 0.15s ease;
}

.panel-preview-colors:hover .panel-preview-color:hover {
  flex: 1.5;
}

.panel-preview-hexes {
  display: flex;
  margin-top: 8px;
}

.panel-preview-hex {
  flex: 1;
  text-align: center;
  font-size: 9px;
  font-weight: 500;
  color: #666;
  font-family: monospace;
}

/* Contrast Items */
.panel-contrast-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  background: white;
  border-radius: 8px;
}

.panel-contrast-swatch {
  width: 40px;
  height: 40px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: var(--font-sm);
  flex-shrink: 0;
}

.panel-contrast-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.panel-contrast-hex {
  font-size: var(--font-xs);
  font-family: monospace;
  color: #161616;
}

.panel-contrast-ratio {
  font-size: var(--font-xs);
  color: #888;
}

/* Adjacent Contrast */
.panel-adjacent-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  background: white;
  border-radius: 8px;
}

.panel-adjacent-swatches {
  display: flex;
  border-radius: 6px;
  overflow: hidden;
  flex-shrink: 0;
}

.panel-adjacent-swatches div {
  width: 24px;
  height: 32px;
}

.panel-adjacent-ratio {
  flex: 1;
  font-size: var(--font-xs);
  color: #666;
}

/* ============================================
   MOBILE PANEL STYLES
   ============================================ */

   @media (max-width: 768px) {
    .panel-column {
      width: 100% !important;
      height: auto;
      flex: 0 0 0;
      order: 100;
      overflow: hidden;
      transition: flex-basis 0.4s cubic-bezier(0.34, 1.16, 0.64, 1);
    }
  
    .panel-column.open {
      /* Use dvh for dynamic viewport, with fallbacks */
      flex: 0 0 45vh !important;
      flex: 0 0 45dvh !important;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
      /* Account for bottom safe area */
      padding-bottom: env(safe-area-inset-bottom, 0px);
    }
  
    .panel-inner {
      width: 100% !important;
      height: 100%;
      padding-top: 0;
      display: flex;
      flex-direction: column;
    }
  
    .panel-title {
      font-size: var(--font-base);
    }
  
    .panel-close {
      width: 36px;
      height: 36px;
    }
  
    .panel-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 12px 16px 32px;
      /* Extra padding at bottom for safe area */
      padding-bottom: calc(32px + env(safe-area-inset-bottom, 0px));
      -webkit-overflow-scrolling: touch;
    }
  
    .panel-list-item {
      padding: 12px 14px;
    }
  
    .panel-list-item-title {
      font-size: var(--font-base);
    }
  
    .panel-btn-grid {
      gap: 8px;
    }
  
    .panel-btn {
      padding: 10px 14px;
      font-size: var(--font-sm);
    }
  
    .panel-toggle {
      padding: 14px;
    }
  
    .panel-export-grid {
      gap: 12px;
    }
  
    .panel-export-btn {
      padding: 16px 12px;
    }
  
    .panel-hint {
      font-size: var(--font-sm);
    }
  }
  
  @media (max-width: 480px) {
    .panel-column.open {
      flex: 0 0 55vh !important;
      flex: 0 0 55dvh !important;
    }
  
    .panel-export-grid {
      grid-template-columns: 1fr;
    }
  }

--- START OF FILE: eslint.config.js ---

import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])


--- START OF FILE: get-css.js ---

import fs from 'fs';
import path from 'path';

// Config
const targetDir = './src';
const outputFile = 'all_styles.css';

let combinedCss = '';

function findCssFiles(directory) {
  const files = fs.readdirSync(directory);

  for (const file of files) {
    const fullPath = path.join(directory, file);
    const stat = fs.statSync(fullPath);

    if (stat.isDirectory()) {
      findCssFiles(fullPath); // Recursive call for subfolders
    } else if (fullPath.endsWith('.css')) {
      console.log(`Adding: ${fullPath}`);
      const content = fs.readFileSync(fullPath, 'utf8');
      
      // Add a nice header for each file
      combinedCss += `\n/* =========================================\n   SOURCE: ${fullPath}\n   ========================================= */\n\n`;
      combinedCss += content;
    }
  }
}

console.log('Scanning...');
findCssFiles(targetDir);

fs.writeFileSync(outputFile, combinedCss);
console.log(`\nDone! Saved to: ${outputFile}`);

--- START OF FILE: get-react.js ---

import fs from 'fs';
import path from 'path';

// Config
const targetDir = './src';
const outputFile = 'all_components.txt'; // Using .txt makes it easier to read/share

let combinedCode = '';

function findReactFiles(directory) {
  const files = fs.readdirSync(directory);

  for (const file of files) {
    const fullPath = path.join(directory, file);
    const stat = fs.statSync(fullPath);

    if (stat.isDirectory()) {
      findReactFiles(fullPath); // Go deeper
    } 
    // This line grabs both .jsx components and .js logic files
    else if (fullPath.endsWith('.jsx') || fullPath.endsWith('.js')) { 
      
      console.log(`Adding: ${fullPath}`);
      const content = fs.readFileSync(fullPath, 'utf8');
      
      // Add a clean header using JS comment syntax
      combinedCode += `\n/* =========================================\n   FILE: ${fullPath}\n   ========================================= */\n\n`;
      combinedCode += content;
    }
  }
}

console.log('Scanning for React files...');
findReactFiles(targetDir);

fs.writeFileSync(outputFile, combinedCode);
console.log(`\nDone! All code saved to: ${outputFile}`);

--- START OF FILE: index.html ---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="p:domain_verify" content="68af2f8fe7665cef2115a13b35ced02b"/>
    <!--Yandex tag-->
    <meta name="yandex-verification" content="5a551a73b5e81b3b" />
    <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-JCF28N2359"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-JCF28N2359'); </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>CColorPalette - Free Accessible Color Palette Generator Tool</title>
    <meta
      name="title"
      content="CColorPalette - Free Accessible Color Palette Generator Tool"
    />
    <meta
      name="description"
      content="Create beautiful, accessible color palettes with WCAG contrast checking, color blindness simulation, and export to CSS, Tailwind, SCSS. The best free alternative to Coolors."
    />
    <meta
      name="keywords"
      content="color palette generator, accessible color tool, WCAG contrast checker, color scheme generator, Coolors alternative, Tailwind colors, CSS color variables, color blindness simulator, design system colors, UI color palette"
    />
    <meta name="author" content="CColorPalette" />
    <meta name="robots" content="index, follow" />

    <link rel="icon" href="/favicon.ico" sizes="any">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://ccolorpalette.com" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ccolorpalette.com" />
    <meta
      property="og:title"
      content="CColorPalette - Free Accessible Color Palette Generator"
    />
    <meta
      property="og:description"
      content="Generate accessible color palettes with WCAG contrast checking, color blindness simulation, and one-click export to CSS, Tailwind, JSON."
    />
    <meta
      property="og:image"
      content="https://ccolorpalette.com/og-image.png"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://ccolorpalette.com" />
    <meta
      name="twitter:title"
      content="CColorPalette - Free Accessible Color Palette Generator"
    />
    <meta
      name="twitter:description"
      content="Generate accessible color palettes with WCAG contrast checking and color blindness simulation."
    />
    <meta
      name="twitter:image"
      content="https://ccolorpalette.com/og-image.png"
    />

    <!-- Structured Data - WebApplication -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "CColorPalette",
        "alternateName": "CColor Palette Generator",
        "url": "https://ccolorpalette.com",
        "description": "Free accessible color palette generator with WCAG contrast checking, color blindness simulation, and export to CSS, Tailwind, SCSS, JSON.",
        "applicationCategory": "DesignApplication",
        "operatingSystem": "Web Browser",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": [
          "Color palette generation",
          "WCAG accessibility contrast checker",
          "Color blindness simulation",
          "CSS variables export",
          "Tailwind config export",
          "SCSS variables export",
          "JSON export with metadata",
          "PNG and SVG export",
          "Shareable palette URLs",
          "Harmony modes: Monochromatic, Analogous, Complementary, Triadic"
        ],
        "screenshot": "https://ccolorpalette.com/screenshot.png",
        "softwareVersion": "1.0",
        "creator": {
          "@type": "Organization",
          "name": "CColorPalette"
        }
      }
    </script>

    <!-- Structured Data - FAQPage (helps with featured snippets) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What is CColorPalette?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "CColorPalette is a free online color palette generator tool that helps designers create accessible color schemes with WCAG contrast checking and color blindness simulation."
            }
          },
          {
            "@type": "Question",
            "name": "How do I check color accessibility?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "CColorPalette automatically calculates WCAG contrast ratios for each color and shows AAA/AA compliance. It also simulates how your palette appears to people with color blindness."
            }
          },
          {
            "@type": "Question",
            "name": "Can I export colors to Tailwind CSS?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes, CColorPalette exports directly to Tailwind CSS config format, CSS variables, SCSS variables, JSON with full metadata, and downloadable PNG/SVG files."
            }
          },
          {
            "@type": "Question",
            "name": "Is CColorPalette free?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes, CColorPalette is completely free to use with no account required. Generate unlimited color palettes and export in any format."
            }
          }
        ]
      }
    </script>

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


--- START OF FILE: netlify/edge-functions/bot-logger.js ---

export default async (request, context) => {
    const userAgent = request.headers.get("user-agent") || "";
    
    // Regex to match major search engine crawlers:
    // Google, Bing, Yandex, Baidu, DuckDuckGo, Yahoo (Slurp), Sogou, Exabot, Facebook, Twitter
    const botPattern = /googlebot|bingbot|yandex|baiduspider|duckduckbot|slurp|sogou|exabot|facebookexternalhit|twitterbot/i;
  
    // Check if the User-Agent matches any of the bots above
    if (botPattern.test(userAgent)) {
      // Log the specific bot name and the path they hit
      console.log(`BOT HIT: ${userAgent} visited ${request.url}`);
    }
  
    return context.next();
  };

--- START OF FILE: netlify/edge-functions/inject-og.js ---

import { HTMLRewriter } from "https://deno.land/x/html_rewriter@v0.1.0-pre.17/index.ts";

export default async (request, context) => {
  const url = new URL(request.url);
  // Remove leading/trailing slashes
  const path = url.pathname.replace(/^\/|\/$/g, '');

  const response = await context.next();
   
  // Safety check: Ensure it's HTML
  const contentType = response.headers.get('content-type') || '';
  if (!contentType.includes('text/html')) {
    return response;
  }

  // --- DEFINITIONS ---
  let pageTitle = "CColorPalette - Free Accessible Color Palette Generator";
  let pageDescription = "Create beautiful, accessible color palettes with WCAG contrast checking, color blindness simulation, and export to CSS, Tailwind, SCSS.";
  let ogImageUrl = `${url.origin}/og-image.png`; // Default static image
  let canonicalUrl = `${url.origin}/`; // Default to root

  // 1. IS THIS THE "HOME" (Marketing) PAGE?
  if (path === 'home') {
    pageTitle = "CColorPalette - The Best Free Color Tool for Developers";
    pageDescription = "Stop logging in to save colors. CColorPalette is the fast, free, no-login generator for Tailwind CSS and modern web design.";
    canonicalUrl = `${url.origin}/home`;
    // We keep the default static og-image for the homepage
  } 
  
  // 2. IS THIS A SPECIFIC PALETTE URL? (e.g. AABBCC-112233)
  else if (/^[0-9a-f]{3,6}(-[0-9a-f]{3,6})+$/i.test(path)) {
    const hexCodes = path.split('-');
    const colorString = hexCodes.map(h => '#' + h.toUpperCase()).join(', ');
    
    pageTitle = `Color Palette: ${hexCodes.slice(0, 3).map(h => '#' + h).join(' ')}... | CColorPalette`;
    pageDescription = `Free color palette featuring ${colorString}. Export to Tailwind, CSS, and SCSS instantly. Accessible and WCAG compliant.`;
    ogImageUrl = `${url.origin}/.netlify/functions/og-image?colors=${path}`;
    canonicalUrl = `${url.origin}/${path}`;
  }

  // 3. IS THIS THE ROOT GENERATOR? (path is empty)
  else if (path === '') {
    // We leave the defaults (defined at top), BUT we ensure canonical is set to root
    canonicalUrl = `${url.origin}/`;
  }
  
  // --- REWRITE HTML ---
  const rewriter = new HTMLRewriter()
    // Meta Images
    .on('meta[property="og:image"]', {
      element(el) { el.setAttribute('content', ogImageUrl); }
    })
    .on('meta[name="twitter:image"]', {
      element(el) { el.setAttribute('content', ogImageUrl); }
    })
    .on('meta[name="twitter:card"]', {
      element(el) { el.setAttribute('content', 'summary_large_image'); }
    })
    // Title & Description
    .on('meta[property="og:title"]', {
      element(el) { el.setAttribute('content', pageTitle); }
    })
    .on('meta[property="og:description"]', {
      element(el) { el.setAttribute('content', pageDescription); }
    })
    .on('title', {
      element(el) { el.setInnerContent(pageTitle); }
    })
    .on('meta[name="description"]', {
      element(el) { el.setAttribute('content', pageDescription); }
    })
    // Canonical & URLs (CRITICAL FIX)
    .on('link[rel="canonical"]', {
      element(el) { el.setAttribute('href', canonicalUrl); }
    })
    .on('meta[property="og:url"]', {
      element(el) { el.setAttribute('content', canonicalUrl); }
    })
    .on('meta[name="twitter:url"]', {
      element(el) { el.setAttribute('content', canonicalUrl); }
    });

  const newResponse = rewriter.transform(response);
  
  // Strip Gzip headers
  const newHeaders = new Headers(newResponse.headers);
  newHeaders.delete('content-encoding'); 
  newHeaders.delete('content-length');

  return new Response(newResponse.body, {
    status: newResponse.status,
    statusText: newResponse.statusText,
    headers: newHeaders
  });
};

--- START OF FILE: netlify/functions/og-image.js ---

const { React } = require('react');
const satori = require('satori').default;
const { Resvg } = require('@resvg/resvg-js');

const getContrastColor = (hexColor) => {
  const r = parseInt(hexColor.substr(0, 2), 16);
  const g = parseInt(hexColor.substr(2, 2), 16);
  const b = parseInt(hexColor.substr(4, 2), 16);
  const yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;
  return (yiq >= 128) ? '#000000' : '#FFFFFF';
};

exports.handler = async (event) => {
  try {
    const { colors, aspect } = event.queryStringParameters;

    if (!colors) {
      return { statusCode: 400, body: 'Missing colors parameter' };
    }

    const hexArray = colors.split('-');
    const isVertical = aspect === 'vertical';

    // 1. SET DIMENSIONS based on Aspect Ratio
    // Pinterest = 1000x1500 (2:3), Standard = 1200x630
    const width = isVertical ? 1000 : 1200;
    const height = isVertical ? 1500 : 630;

    // This dynamically gets your site's URL (works in localhost AND production)
    const siteUrl = new URL(event.rawUrl).origin;
        
    // Make sure the filename matches exactly what you put in the public folder!
    const fontUrl = `${siteUrl}/ElmsSans-Bold.ttf`; 

    const fontResponse = await fetch(fontUrl);

    if (!fontResponse.ok) {
      // Fallback to a standard font if the file isn't found
      console.log("Font not found, falling back");
      const fallbackUrl = 'https://cdn.jsdelivr.net/fontsource/fonts/inter@latest/latin-700-normal.woff';
      const fallback = await fetch(fallbackUrl);
      var fontData = await fallback.arrayBuffer();
    } else {
      var fontData = await fontResponse.arrayBuffer();
    }

    // 3. DEFINE LAYOUT
    const element = {
      type: 'div',
      props: {
        style: {
          display: 'flex',
          flexDirection: 'column',
          width: '100%',
          height: '100%',
          backgroundColor: '#ffffff',
        },
        children: [
          // A. Color Stripes (Takes up more space in vertical mode)
          {
            type: 'div',
            props: {
              style: {
                display: 'flex',
                flexDirection: isVertical ? 'column' : 'row', // Stack vertically on Pinterest? 
                // Actually, vertical stripes look better on tall images for palettes
                // Let's keep them as columns (row direction) but tall, 
                // OR stack them as rows (column direction).
                // Let's stick to vertical bars (row) as it's your brand style.
                flexDirection: 'row', 
                width: '100%',
                height: '85%', 
              },
              children: hexArray.map((hex) => ({
                type: 'div',
                props: {
                  style: {
                    display: 'flex',
                    flex: 1,
                    height: '100%',
                    backgroundColor: '#' + hex,
                    flexDirection: 'column',
                    justifyContent: 'flex-end',
                    alignItems: 'center',
                    paddingBottom: isVertical ? 40 : 24, // More padding on tall images
                  },
                  children: [
                    {
                      type: 'span',
                      props: {
                        style: {
                          fontFamily: 'Elms Sans', // Satori uses the name defined below
                          fontSize: isVertical ? 40 : 26, // Bigger text on tall images
                          fontWeight: 700,
                          letterSpacing: '-0.02em',
                          color: getContrastColor(hex),
                          textTransform: 'uppercase',
                        },
                        children: '#' + hex,
                      },
                    }
                  ],
                },
              })),
            },
          },
          // B. Footer
          {
            type: 'div',
            props: {
              style: {
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                width: '100%',
                height: '15%',
                backgroundColor: '#ffffff',
                borderTop: '1px solid #f0f0f0',
              },
              children: [
                {
                  type: 'span',
                  props: {
                    style: {
                      fontFamily: 'Elms Sans',
                      fontSize: isVertical ? 64 : 48, // Bigger branding
                      fontWeight: 700,
                      letterSpacing: '-0.03em',
                      color: '#161616',
                    },
                    children: 'ccolorpalette.com',
                  },
                },
              ],
            },
          },
        ],
      },
    };

    // 4. GENERATE SVG
    const svg = await satori(element, {
      width,
      height,
      fonts: [
        {
          name: 'Elms Sans', // Maps to the font data we fetched
          data: fontData,
          weight: 700,
          style: 'normal',
        },
      ],
    });

    // 5. RENDER PNG
    const resvg = new Resvg(svg);
    const pngData = resvg.render();
    const pngBuffer = pngData.asPng();

    return {
      statusCode: 200,
      headers: {
        'Content-Type': 'image/png',
        'Cache-Control': 'public, max-age=31536000, immutable',
      },
      body: pngBuffer.toString('base64'),
      isBase64Encoded: true,
    };
  } catch (error) {
    console.error(error);
    return {
      statusCode: 500,
      body: JSON.stringify({ error: 'Failed to generate image' }),
    };
  }
};

--- START OF FILE: netlify/functions/rss.js ---

// netlify/functions/rss.js

exports.handler = async (event, context) => {
    const PALETTES = ["2F121F-A21B6A-E32F80-E285B4-F0C7DB","2C4C1A-B5D59D-1AE4AB-F9E4F9-A91A8F","708F1C-D9E949-D3D05F-897DEC-C6C3EF","145042-198972-28E6B2-9CE8D7-EAF8F4","280C21-8A1C50-D3396E-E2909E-F7DDDB","411842-9F1D73-DE3D8C-E38CA6-F2CCD3","3E0D16-EB7F93-EFF6EA-3C8A22-4280DE","1F5E17-2A7B1F-3E9B27-DC71DC-EDCDF3","14473A-1A7B74-2DA5D2-7FB5E8-E1EBF7","3A1C58-501E8D-5C21A8-A97BDF-DCC3EE","4B3E1B-E2CC50-E6CE4C-E3D273-F7F1DD","0C2720-1E8A5E-32D7CB-E673A0-F0C9D4","161A3E-162691-2B4EE2-8093E7-C8D1ED","0F0E2F-234F88-DFE44E-E2DA78-F2EFD3","10404A-1D75A1-4889D9-7992E3-C4C5ED","28180E-904D18-DC6A19-E4AB8F-F7E9DF","0E3A2D-22957A-28DCC4-75E0C9-D4F2ED","0B2B1B-207332-46D044-AAD8A4-DDECD2","3C5214-6E8613-96C932-C6EA76-EBF1DF","4A3A1C-E0CE52-CAE052-BDD399-DEEDD4","2B0E12-EA8CA1-ECF5E7-329726-2D4EDC","144A21-1EA47B-DD37A1-DF7499-F8E0E7","123842-167A80-2BB9E3-F7E0DE-E3A69D","4B401B-E7D47E-237692-E3F2F8-7747DC","311B50-6026AA-F3EEC9-D2D35F-349325","E0E54D-D2E34F-C0CC66-DAE486-F6F8E1","671624-B41723-D85A40-D7F0EE-69DAE7","0C2C30-2189A1-377CD3-90A2EA-C1C2F0","153B15-228740-33CB5E-99D3B4-E2F5F2","581941-A72689-E52664-EBF7EE-207C4B","122D34-26869E-26C5DF-82D9E9-CBECF3","144318-1E7942-ED8EBC-D54697-EDC9E2","4F1727-E53C6D-E797BD-DAF5F0-1D8954","390D19-8F263B-D32C56-E67C9C-EDC6D3","1B483C-187A5E-40C2D9-95CDED-CADCED","0C142A-214493-417BD2-7AA0E5-CCDBF2","0F271C-197C70-30BCC7-8DCDE7-D5E6F1","491022-932132-7DDEB0-24D597-E7F8F3","111138-252F82-265BD3-E9D676-F6EFDB","0F2537-167D9F-46A1D5-DDB185-F2E1D6","19584D-2EBAA6-42D3DE-A21A27-F5DFD8","1A3146-90C7E0-DBD057-7E2223-F8E7E9","162341-1A3A7F-4B6AD9-7CA1E8-C7D5F2","5B1F66-D66EBF-BF277A-D92267-EEBECD","122447-24379B-2228D5-9B85EA-D7C5EC","DDB037-DDDD55-BBC969-EFC792-EBD5CA","225F29-47D16F-9DEAC9-D9F3F3-1D9871","1A2451-786ED9-F2DDCC-E2B26E-85D149","122D36-256C90-2F91D0-8ACADF-D0E6F0","3E1612-912725-C62E2D-E7827A-F7E5E3","154A47-1A7C82-E65D29-E98F94-EECFCE","46162C-7E183A-DC1951-EA9B92-F2D7C8","3F1A0F-8A3926-CCEEEB-70C8E3-3EADD7","0F2810-218237-DB2AA7-EA70D9-F5D4E8","4B171D-8D3B1C-C8ECEA-95DFE3-2C9ECB","3E1A15-8E3D20-97E8E2-CFEFEF-3AB6E5","451441-8B238B-B449D5-BD86E6-CEC6EB","37200E-A6511D-E44F2C-84D4ED-E2F2F8","3B1C0E-E7B998-9ECE2C-27398D-C1C4F1","185740-35CC7B-63DDB3-F6D5E5-A8255D","221142-967EE2-34CC76-F0D9C6-894013","152D39-186791-3998DB-71C3E7-D2E5F0","1E5616-3CCE80-74E1C4-B2E9E6-AEDCB9","361A48-A957E8-B05CE6-BD76E8-D5BCEA","471836-751E35-D8284F-E4F5ED-81DBC7","193E13-28982B-C21ADB-E587DE-F6E4F6","49192E-DC7791-E0F2E1-20802D-1CA9DD","122644-17659C-E9C73C-E4D27C-F2E3D5","0B1A31-224A78-458BDD-95BAE4-D4E3F5","2A0E15-E67BB5-E6A62D-207493-CFE8F1","0F1D29-1B5279-1C94E4-96CCEC-DBE9F6","232A6D-3639CD-5A22CA-8F5CE2-F3E9F8","441020-8A1C47-DD4485-E3799F-EED2DC","10123D-1E18A7-4956DC-7773E1-C4C5ED","13433A-1B9DA5-2D8BD0-91B5E6-CDD9F3","111633-2820A1-8146D2-C37DE9-E8D1F0","244118-3E9926-CA44D6-C56FE7-EFDAF4","270F23-81156E-D341B2-DB7FCC-ECC6E2","29751D-479A29-C02642-C3C6EF-2B58E0","414A1C-E8DD4A-D4DE54-E3D296-F4E5D4","1B1842-391EA7-7431CB-BD8FE0-ECD7F3","324C1A-A5D091-2FDD90-7B2280-EFC4EA","207288-C4F1F0-C4D55D-E4DF7E-D63DD8","0B2233-287C98-1ABFDF-84E8DF-C9F0E7","0F1231-1E3B7F-2C84D2-8CD8E5-DAF1F5","14360E-308524-3FCF6B-90CFA5-D0EEE1","DCB029-D6C65C-C4CE64-EEB195-F8EAE6","173A43-1E5D7E-1E599A-9FBDEA-C0C8F1","122F33-1E887D-34D6C5-E4767D-F7DEE1","39102A-7A203B-D62899-9AE7CE-E2F2E7","6A3017-CB9924-F2D589-E4E97A-E9F3CE","231246-5F1AA4-8E25E3-E78AEB-F5E0F2","14453D-178778-47D592-9DD5AE-E4F4E6","311D12-8B1C21-E05F3D-75EAE8-CEEEF0","0E3212-25922A-3DCF43-9ED6A8-CCE9D0","134E41-25827C-2CC8D5-83C2DD-CBDEF3","145131-258E30-3DC531-9AD194-E1EDD5","391427-962058-D22F76-E984BD-F5D9E7","3A2712-E8D095-48D18B-631F8A-DFC2F0","301846-501680-8032CC-B592E1-D7C1F1","1B6332-21C680-61E3C1-78E1C9-C8E9EA","164E26-30C270-CA87E3-EFD6F0-E38C96","1A4A73-235E86-619626-E7659E-F5E4F1","190E36-381C88-E7E785-BCD839-F9F8E5","226D59-47E0B5-4AE1AF-8CF1DE-C5EAE3","6C3123-906C14-E3CF4F-E6C8A0-F3F5E1","4C181E-9B1D56-E63D93-E08CDB-F7E2F5","4E3B18-9D5425-3A74E1-86C8EA-DEEEF8","0F313C-1A678E-1C6FDD-7487E7-C3C4EF","0E3234-205578-1E84E0-94B4EF-C7CBEA","15244E-253D82-2A2AE4-AC98E3-D3C4ED","183610-299527-49D15F-A2D7B2-D3F2E3","154124-3BCD88-CFC4EE-5B31AF-E59D51","134142-1C8392-35A0E4-98AAE8-C0C5F1","382514-914928-E04B3A-E49490-F4E0E3","2E200C-A96118-DE901E-EEC189-F0E1CC","3A153C-881BA0-9044D6-AD90E5-CBC6EB","391138-821481-D83CE1-E793E6-F4D6F4","5D4514-DC9569-E7C292-4667D7-C1DBEC","311740-621C88-9D46DA-C288E5-DDC7EA","324F17-B2D397-42D088-F4E3F4-9B1A8C","19350D-618B23-AAD225-D6E173-F7F5DE","3C0D16-911A1C-C9F3E2-80EBE7-29DEC2","0F3B24-26985F-3DDC93-87E0B5-D2ECDF","122E34-1F80A5-306DC4-9CB6E3-C7CAEB","503B16-E7C626-D9CF59-DEE5F4-747FEC","241970-2B1CA2-3B25DA-8B79DF-C8C5E9","431032-90274E-DE3962-EC7883-ECCFC6","0F0F40-2C20A4-3F2ED2-8988E7-CAC6EB","134648-1B7597-2697CE-84A3E2-E8ECFA","0F412E-298C90-30B9E5-79C6E5-E1E9F8","1A0E27-531B99-9735E3-BF98E9-D5C3EF","492916-9E6E17-DFBF2A-DCE395-EBF2CC","325214-6D7E23-DCD956-EAE873-F0E2C5","1B4D13-2EA92D-2DB356-92D0A5-C9F4E5","276A20-30BF49-9BD4A4-C65BD4-F5D9F0","12321D-24913B-EF95B6-E12D80-F2C9EC","2D1047-7A1C7F-D646BC-EA87D2-FAE9F2","0F3615-22873E-31C464-8CECD0-D7F4EE","224F14-568322-BCDB29-D6EA73-F5F2E4","371E0D-94451E-DB8948-EBA787-EED4C6","1B0D38-1A1E82-3955D6-89BDEE-D5E6F5","0D2528-1794A5-36C8E3-91DAED-E4F4F6","103F17-2A954B-24D487-95ECC8-E6F6F2","405313-628421-C8DC56-AD82E7-C6C1F1","41123A-9A2885-D145BB-E085D1-F8E1F6","3B151D-E091A3-DCF0E0-1E7930-21CAD8","180D2A-4C1694-982ED7-DD90EB-F6DCF3","144E4F-279F99-47DAAA-94D1AD-E8F5EC","320C24-EA79C2-D99648-C7ECE6-138676","372114-8E3621-E33942-E690A9-F1D6DF","300A11-9B2922-E5683D-E9B981-F8EDDF","421D18-AB301D-E6B295-81D1DC-C9D9ED","114126-25924D-40CF7B-A7D9BB-CFEAD9","132E0B-ACD69F-1EE6B8-F3DCEE-98196C","4A1926-EF939F-E1BB40-1A77A4-D2E3EF","240D27-A51E8D-CB2C8A-E89BB6-F6E7EA","103E1B-A8DAAB-43B4DD-95224B-F1D3DC","42161D-86253B-E83D90-E59BD7-ECCAEC","195754-31A6CB-1D66A4-6E97E9-C4CBED","10382A-1B8A7E-27D6D8-83D6E9-EBF1F9","114628-1E7821-3DCD37-9ECC89-E7F0DB","12374D-1D83A7-45A2D0-6CB3DD-DAECF4","2A7423-26983D-91D09E-A0D6BB-B7EAD7","4D2789-DAC6EC-E3EB8A-C1C969-49CF3F","49143C-972A87-DB20AC-EB8CD7-F2C4E9","411826-A81C28-E63B2C-E1A17A-F6F0E1","3B180E-993729-E25A36-EBA898-F5DBD3","1D4312-2D9726-3DCF3F-9CD5B2-C9ECDB","191645-761EB9-BF7EE3-BB9BEE-E9CAEC","0E2B29-1F6A76-3997D7-9BB3E6-EAEEF9","37151B-9E1E24-36CD7D-97EBD8-C6F1E2","14203F-174A98-277ECC-94E1EB-C8F0F1","3F131C-92284E-DB2F55-A9DABE-E7FAF3","15402D-238B31-E63DA6-E49FD1-F0D3ED","40200E-873A14-E36C30-EA9479-F0DAD2","350D36-982B84-D03474-ED819B-F9E6E9","142A43-16527D-3A85E8-ECC095-F4ECDF","123F32-25969A-45ABD3-76C0E0-E4ECF6","211549-471DA8-7E3BCF-BFD398-EDF4E5","3A5214-587920-CCDB57-E7D480-F9F3E5","142943-1C759F-39B4D8-88DFE0-CEF0E7","0D202F-1C2CA5-4365D3-E0B88E-F2E3CD","52246E-9B20B0-8625CF-90D147-E3EED7","15330D-388C23-32C94C-A1D7AC-CBEFE1","0F300C-279D37-50D37C-6FE7BA-DCF6EE","2A5214-89A21F-A141D3-BC7CDE-DDC4ED","361A49-59288D-8526DC-C181E4-E0C1F0","1D0E26-431D7C-7527DA-ADD69F-EFF5E2","215E56-40C0D0-79BEE3-2B669C-E9EBF7","31102B-7D1A6B-DD2CD3-E377CF-F7E7F4","2F1026-E698D0-A6D920-1B829D-E4F2F7","6C1B5F-D02561-E062AF-E59BD6-F8DFE3","2B0A1F-9A1771-DC46D6-C96FE9-E0C0F1","144717-88CC97-262394-CDC3EF-D63F21","3E0E15-851423-D8263D-E1737B-F7E0E4","2A102E-7418A7-C744E1-B1DBAA-D1E9CB","0B1629-164C98-3080E2-EEBC91-EEDFCC","103210-21832C-32CA49-9CD49C-D0EBD4","122530-1C76A9-3BA8E8-75C3E6-E5F2F9","2E1A0C-E3BF96-DFC6EC-471F7E-41D07A","11432E-9FD6B9-D12336-8A1B82-EED0EB","134942-177084-3BA2D5-9DC4E7-C7CBEB","270D2F-7C1D9B-A225CF-C671E5-EBD1F1","D2C660-E2DB50-DBD057-E1E34F-EAECB7","141B52-202D79-1F4EE3-E3D579-F5F1DF","101345-8E9EE7-A73DD4-557C1F-DCE9CB","391534-821B7C-CF3BBA-E99BE3-F9E4F8","123B4C-276F8C-1A8FDB-8ECCE6-CCE0EE","246F44-259359-35CEB4-29C6BC-B8DCE6","4D1129-811763-DE21C8-CE80E4-E8CDF3","0B2D0C-369E28-E89BD7-F5D2F5-D838BF","3A5214-308722-C192E8-E7CFF1-B747D8","0D1F34-1F3581-1D26D6-9989E6-D3C1F1","134B15-248F2D-E244A3-E391CF-F6DFED","102A31-8CE3E7-F1CCF2-871F7C-E1EA48","1B0A2A-522691-712DDD-B7D49B-EAF2E2","34123D-9F18AC-CE29B0-E777AE-ECCCDB","384C1A-C0D6A0-32C75F-F0E0F6-7A1785","0A2B23-218440-45D4B3-E982B4-F9E8EE","121D3D-204E93-326FE4-91AAE2-CEDAEE","113C3A-19AB7E-50D379-AADAB0-D4ECD5","491B31-E879AC-A6D350-1A65AB-E7F0F9","103924-259467-33E1E5-8BD8E7-EBF5F9","366824-A0D59D-9ED5B1-87CCA7-D9F3E9","2E0F27-932590-B133CD-C77CDF-D4C3EE","1B523B-2FBE4E-2BE0A8-9D2553-F3DFE5","355214-59771D-A4CB2B-DEE586-EFE0C6","571854-D63F95-BF1861-E37EA6-F0C3C5","32220F-9B831A-B9DC25-C8E190-EEF5E7","1F5861-1F7086-2BA2B2-4AB7D4-C3E6F0","451541-831E6C-DA309D-E47591-F4CCCC","2C0D0B-A04F26-E08F3B-E4CA7E-EFE9C9","120C36-261E85-4B32DE-A594E3-CDC7EB","35190C-7E2521-82B5E0-49B8D6-DEEDF5","879B24-AADD20-B1CF90-EBF5E9-C8BA6A","0F202C-94D6EA-DBCE57-791D28-F9E4E9","161338-3B209A-893AD0-CE8EE4-E5C8ED","371216-872C18-DE6E26-E2B374-F5EDD2","4A1A1F-87254D-E628A8-EE8ACE-FAE7F9","0C1435-402A97-713ED0-B897E3-EACEF4","4C391A-957F24-DCECF4-749FE0-3354DD","1F5763-23848A-28AFD3-34A8C9-C2ECF1","101B47-1E3F76-30A2E5-70D4EB-C7EBE8","472B15-7F4523-E18237-E8AE7D-F1D8CE","1C4661-3175D8-E6B9BC-E0513A-EBEB93","907D1F-CAC268-E1872E-E7B890-EED9D2","151A3B-275096-358ED3-83C4DF-C8EEEF","0B1F30-224591-3571CD-F5E1DB-EBAE80","1F0F31-63169B-C847D8-E979D8-F7DCEC","134C52-2A8B96-37C8D8-82D0E3-E1F2F4","48192D-811C50-DF293F-78E9B5-E6F7F4","11392E-238976-22BCDB-8EC5E2-DEECF6","4F4317-B6D742-DBE64C-BBD194-D7E8CA","1B3E56-2C47E2-809DEB-8A88EA-CEC0F2","0A2925-98E3D5-3055DB-A13D17-EDDACE","6D2739-7F1A3A-549A26-E6F0DD-99C0EA","164633-92EBC7-3476D0-922029-F6DBDE","394E18-638114-92CD36-C2E47E-EFF4E6","151C3D-1D358E-1D2C99-8696E4-C3C6EF","5B1D58-8322A1-E3A1F0-28A144-D7EEDA","491129-A8173D-DD4762-ED8E7E-F1D2C3","331853-4B1C7E-7A36CA-8959D9-D8C6EB","774F1D-835F1B-C98820-D8AF76-F7EFDD","48181E-EA82A5-DFB828-157088-E3F2F8","534813-845618-2553D2-97BBE6-E8F0F7","43134F-701F89-B11ED9-D182E9-E9D2F3","2B0A2D-792166-D9216F-E384A7-F9E6E9","321813-962B20-DA3C59-DD81A8-F7DFEF","391231-891956-D1455C-E89AA6-F2D2CD","481020-E58A8E-DBD457-166D97-E6F0F7","62203A-DE315C-DC7B72-EABCAB-ECD1C2","1C4311-3C7B1F-BC84E7-A027DF-EED9F2","541945-DB74B7-B0D9A5-DAEED6-81E7D5","4B391B-925E24-CD882C-E5B97B-F6EDDF","4A1B4F-9F1959-DE5CB7-E47FAF-EBC9D1","310F3F-7C1997-D037C5-DC77C2-F5DAE9","0F2339-185DA3-2244D1-8188DC-CDC5EC","0D1B33-1B3DA8-3F38DD-8F75DF-D3C7EA","3C1040-891C87-D746DB-E395EB-F8E9FA","460F0F-9A2043-DA348A-E589C3-F8E8F4","D4AA2A-E6DC4C-D5CF5D-E9B795-F7EAE8","124D51-207286-3995DD-94BDE9-C9D5F0","0B2D1B-1E7A2E-EDCDDB-E76FAD-D030B8","0E3912-208031-31C542-9DD5A2-E8F5EA","421730-871D8C-DA45D5-A5D8AD-CBE9CE","0C272D-198BAA-3071D3-7394E2-C2C1F1","30120E-7E2218-E54B26-E2A591-F8E6E3","3F1527-841821-D87546-EC9E99-F3DAC7","4C381A-80531B-D89433-E1BF86-F7F2E8","1E4115-47B02C-A2CF8E-A7D092-EBF5E7","48221B-C24528-F1CAA1-B6E3E8-76CCDF","0C2839-265F99-3991DA-91CCED-DDEBF5","2D781E-31A329-7BC577-ACD9A6-E4F3E3","431024-9D272B-CC4A62-904023-EFD2C3","0B1433-174784-4F9BD5-E2BD77-F3E5D1","10332B-19AA94-36E1BB-7AE4D9-D8F2EC","382414-E8BE97-924BD5-E0F4EC-21824B","162D3E-216783-28B7D1-87E4D0-E6F7F0","311C12-E59D81-E2F3E5-26964A-682CD6","331313-E39B9A-B0D626-175D9D-E0ECF6","1D102F-A477E0-52D147-DFDD53-FAFAE7","340F1C-781D37-DF4545-ECAE96-F1DFCF","49162C-931D80-D727C3-CF91E9-E6D3EF","184B30-1C785B-E87BC4-EEC8DD-D52167","534513-975D2B-CE5336-E98370-EFC3C8","0D0E26-264095-2A68D6-81B6DC-D9F0F7","0F1031-321F91-7A3AD2-BF8AED-F7EBF8","3D0E37-DD7BD3-F2F4DA-698817-48D5D7","12363C-2A8495-35BCD3-7FE3E4-DAF0F2","4A1735-811F39-DD2D2C-E79D9C-F5E2DC","402511-B94017-EEB497-346CC7-C6DCEB","6B4822-832116-E29A67-BDDFE6-1D7AAD","0F0B2E-233D88-F6F6E4-E9CB86-DDCB55","D1C761-A7CA82-E9EB94-E1F398-EEF5E8","2F0E28-902279-E23EB7-E882D2-F3CCEA","422719-82681E-E6992B-88C7EE-C7D0F3","350D23-7F142E-71E8B0-21DBA5-DBF6F0","461015-842030-DA3146-E58990-F6E0E3","0F272C-1A7C96-2ED0E7-92DEE8-E4F2F6","4D1434-E0576B-E6798E-BAE2CC-20D4B3","31122B-972276-E123AD-E38ED5-F2D8EE","8BA31F-BAE433-C3D55D-D5E57C-EEF1D7","330C14-A1381E-D66B2D-DF9E73-EFE3CA","511213-90203C-E04379-E080B6-F3DAEC","11310C-1F7D1F-52D477-94D1AC-D9F4E7","404E18-A8CB2B-CDE34F-D6E47F-EEF2D3","341321-7D1943-E51D89-DE8AB3-F9E5EE","19501F-32B03D-962245-9F2BDA-F1E0F7","20133E-B370E9-E5D04D-ECECCB-41CF46","15163E-241EA2-3E3BDB-969AED-C6C9EC","371149-5B1A7F-D730D3-A9D59D-E2F1DE","2D4A1C-1E7823-40CF4B-98D3A9-C5EFDC","31143C-61299B-6125D8-8669EA-C0C7F1","451034-9C1A6B-D8268C-E276BD-ECCAE0","24143F-A12DBA-B868EC-AC75EB-ECC9ED","0F2F2E-1C897D-3FD68E-92D0A8-D9EFDD","0D2D10-249130-44D045-9ED6A4-E6F4E9","0F2B34-257D98-2DB4E5-79CCE7-E4F1F8","2D1111-8F181F-DA3035-E98781-EDC7C5","4F1334-991F79-D230E6-BD7AE5-D6C6EB","261235-4D167E-8228CA-BB8FEA-DCC6EC","11402F-198060-3AD1AE-E97D8B-F7E0E8","461046-69197D-AD3FD4-AD87E1-CFC4EE","17204E-321C98-6239CF-B86DE8-DDC5ED","195869-1C7297-2668C2-365ACF-C0C2F1","4C161B-842324-E2233E-DE8B91-F2D8DB","180B31-AE95E4-DA2B83-308F25-CFEBCF","16422E-7EDAB2-6A2FD3-965027-F2E0D0","401A48-8E1987-D43FA2-DF84A8-F2DCE0","133C26-1F7A49-46D18A-92E4C1-E6F4EC","4F4217-826F14-B9D63D-B4CD8B-ECF4E6","121A33-204777-1CC1E3-94E3EC-CBEDE9","1B686E-24B7CD-66DDE7-8EDCEC-D7F4F4","1F3F65-352DCA-9172DF-D4C0F1-7781EB","10142D-2D237C-4429E1-B683ED-DBC3EF","321A10-933816-3477DA-73B7E8-C2DCF2","0B2921-82EDD1-3442DA-8B3818-F2E4D5","143138-17797D-2DC6B4-8CEAC7-E3F3EA","3C0F1C-811237-D8276E-E48EB0-FAEAF0","3B1111-8F2724-DE3156-96E5E6-EAF8F3","10173B-1B479E-3B97DD-74CCE5-E4F5F6","0E3A21-7CDABD-961CD8-EFD8C7-845B1C","26112D-C084DE-D71C4A-218342-E8F5EB","195C31-63D6AC-57DBC7-278790-B6E0E8","3D180F-9A2418-DE4C34-E58E72-F5D2CF","3F1037-9B2892-B73BD2-C68AE7-D4C5ED","0D2E37-1F89A0-3CC7DC-94DCED-DFF1F4","1C5E6B-22A5B8-33B2C9-60C5EA-CFE8EF","521216-802820-DA7F26-E4CB9C-EFEAD1","3B1431-951A4F-E7386D-EA6B75-F9EBE6","0D172B-174F91-1DACD8-97ECEE-C9EBE3","3C1742-622091-571CDB-A789EC-C8C5ED","502912-905E1B-D49030-E6D97E-EFF2CB","441135-851F75-C832AF-E583CD-F3DAEF","511540-891F69-DF2AA3-D2ECD4-A4D8B2","236B21-2FBB4C-2FBB72-22997F-C6ECE4","4A1C30-E53CD1-EAA5C3-C7E7CF-25A86E","314D19-6A9926-CADB57-DFE481-F8F4E2","3E1621-991C3F-D9375D-DE7593-F2D7DC","2B0B14-9B1B3C-E8396C-EA7093-F9E8EC","122849-94B8EE-F1C4E2-80155F-9ACF40","290D3C-6F229B-9747DE-B576E9-D8C1F0","0D3219-259434-D8217C-EA79D5-EECAE2","1A2A49-1F2796-4139D0-8A76E6-D6C5EC","4F3115-9D3F21-D69A3F-9ACAE4-E3EFF9","39143D-9C2490-DE42D2-B3DAA9-D0E9CB","22102C-541994-6C20DE-7977E6-C5CAEC","1A4745-199D72-31E690-A2D7AE-CBE8CA","0D1D29-1F4D9E-D75E28-E1B18E-FAF4EA","601F2E-A62364-D31A2C-C7E7D5-9CEEC7","451128-931968-CAEFE0-A4D8B2-44D07E","462D19-8C2F19-E54F3B-E899A3-F2C6D7","124E4A-268985-3BA6D1-EC8182-F9E8E9","0D351E-22784A-F2D3DB-EB74C7-D63797","56221D-D22930-DD8C88-EA9790-F1CDCF","122948-1D367C-3146E6-A38AE6-CDC3EE","153546-12848B-ABE7E8-A02D19-F6DFDE","421038-9F1686-E11DB8-E86BCE-F1C6E4","4B1C4A-BF209F-B6228C-E36183-E8BBBE","1A4010-B0D59E-F1C7D7-952651-344CD3","D8B247-EBC17A-EED7C9-D2DA58-C4D45E","4D1626-E6556D-E8F5ED-93D1AE-23BEDD","493015-7B251E-E51F39-E39EB2-F0D2DD","BFD062-D3DE54-DFE475-E8F0A2-EFEFC5","2C0C34-5E2097-7141D6-9991E7-D4DBF5","154C1E-1F7D28-32C74B-AADAB1-E0F2E2","1E5768-256BA1-9EDAF0-DA8960-F6EAE6","7F681D-CBD65C-979BE2-C6C7EC-3F19DE","13223E-8099E4-F3E2DF-7C3718-D2EA48","170B2E-283391-BAD744-CDE47F-F8F7E4","3D4F17-587C1F-491FDD-A080EB-D4C4EE","123C43-226993-DD1F32-E9898A-ECCCC8","582192-D1C2F0-49D25E-DAE59E-D1CD61","0A222C-27778D-2B8DDB-E1B381-F3DACD","2D0E37-822995-B945D7-D795E2-E6CEED","362113-E3B491-92C331-E1E9F7-1F3577","3E0F42-B558DB-C896E3-E7F4E5-A2CA84","17424A-95DBEA-7D1C49-F0D6DD-CE7D29","5F7E20-76CF3E-AFD7A2-D7EDD4-CED260","0D232D-1E628B-E69898-F7E9E9-D8682F","75202C-E8746F-EDB19E-E8D4B7-DA9347","1A4717-2D9029-9D22D2-DA89E4-F1DFF6","310C0F-EB919F-4499DC-279A51-E2F2E8","12342A-16989A-3FD1DA-89C1EC-E3EDF7","200B2A-641E75-E63AE4-9BCF8F-E2F2E3","0F3E2E-20B1C3-1C97BD-94F0D9-D1E1F1","271A0D-7E4C18-D59037-E6BD96-F8F0E4","161C45-7396EA-41C531-8E1F2C-F3CDD3","114227-22884D-E03BAF-E87FC2-F3D2EC","1E0A2B-CB8DE1-E3375B-1E7A27-D9EFE0","342310-814213-D28727-94D8E5-CFE1EF","172F3E-2587A0-3FDEDE-7DDBC4-D7F3E7","461024-871E5B-E235D1-DF9BE8-DFC6EB","120E26-292183-1A55E2-809DE7-E7F2F9","12494B-1F7A75-37DFE8-81D8DC-CAF2F2","114424-258D47-45D07C-8FCFA6-CFEAD8","1B0F43-4518A2-8A34CF-D1E66C-DFEBD1","6F471C-E5C56E-DED254-C3D65C-E3EED8","0F3A48-235C94-2789DC-DB9678-F7EAE0","701F22-DF3C32-22A769-B9E8D5-1C598F","280D1A-971965-D6408A-EA9AC3-F2C8DF","134121-33CC66-BEBAE7-ACA3E5-D6784E","174E1F-338722-81D34E-C0E37A-F0F2DB","303BD3-8297EB-C1C6F1-E5E04D-D5C85D","D3C25F-DDD455-C5D35F-C1C3F0-A89CE6","61421D-D88E26-DFA360-EBC694-F8F1E8","20491A-24913F-4BD277-76DCAC-CAF3E5","1A483F-17849A-20D8AA-E68474-F6DCDF","36130C-89391D-98EBE9-D1F1F1-20D7E3","1E4511-548C23-BF2DE1-BF93E4-ECD6F2","0E371E-A3D7BD-EACCF2-751982-D93D5D","4F4117-9F7921-D79B2C-E4C389-EEE5C9","574719-E1DA51-76A017-6BBD2F-EBF5E8","131D53-233698-204ED7-F0E1CD-EFDF93","0A1D2D-1C427D-2576DA-F7E8E1-EFB896","3B121C-911636-DD2057-E17C8D-F2D7DF","14371D-1F7C3C-46D16D-8DCE9F-E4F4E8","1F0D2E-631897-802CCE-BA76E9-DDC2F0","341324-7F1F57-DC20C9-D47EDB-E5CFF0","182141-2131A2-3C50E4-7A8AE9-D3D9F2","134241-1CA092-239BD8-E29C87-F6E8E3","25665E-22C29D-45CAB1-33E0C0-B7E6DE","144250-2ED7DA-59BBDD-B5201D-EEC2BB","638425-C4CF63-C3C5EF-837EDB-5E41E4","5E211D-BE4231-DB403E-DC614C-F6DCDA","432215-8E2517-D48D4D-7DD6E9-DAEFF5","143C45-1D6E7A-31ADC3-73D0E2-D0EBF0","1F0C2B-491D8A-BA3BE6-ACCE8E-EDF5E9","2A0E13-E981AC-1BB8DA-2C993C-E0F2E0","162B42-195F98-2A45CC-EDB682-F5EEE4","345214-C7E72C-DADB57-D4C1F0-977AE7","341546-8F20CA-228730-7C9B24-E3EDB4","133A40-238269-37DEB8-9ED5B1-DCF0DE","0E2235-1C659F-4397D7-87B6DF-E0EDF6","451E19-8D4A24-94EAE8-24C6DD-EAF4F8","341558-8B2393-A82496-B773EA-F8E7F4","4C3218-98421E-2037C7-58E7D4-E7F9F4","133724-1F7D6B-29CAD3-86C4DE-CADEEC","36173F-5A248A-491DD8-8171E7-D8DDF3","144E48-14808E-1AA5DA-83AFE8-D9E2F4","14173F-1D4A91-DCD156-E5C184-F1E8D3","44181B-97292B-D9454A-EA827C-F4DEE0","113713-22872A-4AD258-A0D69E-D4ECD6","1F134E-17249A-2855D9-759FE4-E8F2F7","D0D65C-D7DF53-D5E052-D9DD55-E6ECB8","15391D-96D2A0-E42D4C-81248A-EDD6F2","280C27-821882-D448D1-E99AE5-F4E3F6","1A4B15-237B1F-3BCE5F-9CE4C4-DEF5F0","1F4A67-97D6EF-E7CE4B-E65B78-E9B0BE","112D45-1E3BA5-DA823E-E7B873-F6EDDA","153F1C-24903F-DC81B5-D12393-ECC6E6","2E0A1C-E680AE-3470DC-458421-E3EED7","12173F-2C2497-7A4ADB-B873EB-EFDDF7","15113E-18409D-D9B840-EBD693-F2E8CD","16374F-76B0DC-8A152E-EFD0D1-E6CD4C","391516-77211F-DF373D-E78691-F6D5D9","3F1349-BB8FE2-31C53C-E1ECCB-C7D75B","0C332E-229B84-1FE3BB-6EE7D9-E5F7F5","4F2161-C130E0-CF68E5-CA91E5-EBD0F1"];
   
    // 2. Determine "Today's" Palettes
  const now = new Date();
  const start = new Date(now.getFullYear(), 0, 0);
  const diff = now - start;
  const oneDay = 1000 * 60 * 60 * 24;
  const dayOfYear = Math.floor(diff / oneDay);

  const PINS_PER_DAY = 3;
  const startIndex = (dayOfYear * PINS_PER_DAY) % PALETTES.length;
  
  const todaysPalettes = [];
  for (let i = 0; i < PINS_PER_DAY; i++) {
    todaysPalettes.push(PALETTES[(startIndex + i) % PALETTES.length]);
  }

  // 3. Build the XML string
  const domain = 'https://ccolorpalette.com';
  
  let xml = `<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
  <title>CColorPalette Daily Inspiration</title>
  <link>${domain}</link>
  <description>Daily color palettes for web design and Tailwind CSS.</description>
  <language>en-us</language>
  <atom:link href="${domain}/.netlify/functions/rss" rel="self" type="application/rss+xml" />
`;

  todaysPalettes.forEach((hexString) => {
    // Safety check for undefined palettes
    if (!hexString) return;

    const hexes = hexString.split('-');
    const title = `Color Palette: #${hexes[0]} #${hexes[1]}`;
    const link = `${domain}/${hexString}`;
    
    // FIX: XML requires &amp; instead of &
    const imageUrl = `${domain}/.netlify/functions/og-image?colors=${hexString}&amp;f=.png`;
    
    const desc = `Free accessible color palette featuring #${hexes.join(', #')}. Export to Tailwind CSS, SCSS, and JSON. No login required.`;
    const pubDate = new Date().toUTCString();

    xml += `
  <item>
    <title>${title}</title>
    <link>${link}</link>
    <description>${desc}</description>
    <pubDate>${pubDate}</pubDate>
    <guid isPermaLink="true">${link}</guid>
    <media:content url="${imageUrl}" type="image/png" medium="image" />
  </item>`;
  });

  xml += `
</channel>
</rss>`;

  return {
    statusCode: 200,
    headers: {
      'Content-Type': 'application/xml; charset=utf-8',
      'Cache-Control': 'public, max-age=3600',
    },
    body: xml,
  };
};

--- START OF FILE: package.json ---

{
  "name": "vite-react-starter",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@resvg/resvg-js": "^2.6.2",
    "chroma-js": "^3.2.0",
    "color-name-list": "^14.15.1",
    "lucide-react": "^0.562.0",
    "nearest-color": "^0.4.4",
    "react": "^19.2.3",
    "react-dom": "^19.2.3",
    "react-helmet-async": "^2.0.5",
    "react-router-dom": "^7.11.0",
    "satori": "^0.18.3"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.2",
    "@types/react": "^19.2.7",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.2",
    "eslint": "^9.39.2",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.25",
    "globals": "^16.5.0",
    "playwright": "^1.57.0",
    "vite": "^7.2.7"
  }
}


--- START OF FILE: src/App.jsx ---

import React from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { HelmetProvider } from 'react-helmet-async';

import ColorGenerator from './colorGenerator/ColorGenerator';
import LandingPage from './pages/LandingPage/LandingPage';
import PrivacyPolicy from './pages/Legal/PrivacyPolicy';
import TermsOfService from './pages/Legal/TermsOfService';
import ExplorePage from './pages/Explore/ExplorePage';

function App() {
  return (
    <HelmetProvider>
      <Router>
        <Routes>
          <Route path="/home" element={<LandingPage />} />
          <Route path="/privacy" element={<PrivacyPolicy />} />
          <Route path="/terms" element={<TermsOfService />} />
          <Route path="/" element={<ColorGenerator />} />
          <Route path="/:hexCodes" element={<ColorGenerator />} />
          <Route path="/explore" element={<ExplorePage />} />
        </Routes>
      </Router>
    </HelmetProvider>
  );
}

export default App;

--- START OF FILE: src/colorGenerator/AccessibilityPanel.css ---

/* ============================================
   ACCESSIBILITY PANEL
   ============================================ */

   .a11y-column {
    flex: 0 0 0px;
    height: 100%;
    background: var(--color-bg-panel);
    overflow: hidden;
    transition: flex-basis var(--transition-spring);
  }
  
  .a11y-column.open {
    flex: 0 0 var(--panel-width-lg);
  }
  
  .a11y-inner {
    width: var(--panel-width-lg);
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: var(--space-20);
  }
  
  .a11y-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-border-subtle);
  }
  
  .a11y-title {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-primary);
  }
  
  .a11y-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--space-8);
    height: var(--space-8);
    background: none;
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    color: var(--color-text-secondary);
    transition: all var(--transition-fast);
  }
  
  .a11y-close:hover {
    background: var(--color-border-subtle);
    color: var(--color-text-primary);
  }
  
  .a11y-scroll {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-4);
  }
  
  .a11y-section {
    margin-bottom: var(--space-6);
  }
  
  .a11y-label {
    display: block;
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-3);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }
  
  .a11y-modes {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .a11y-mode-btn {
    padding: var(--space-3);
    background: var(--color-bg-card);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    text-align: left;
    font-size: var(--font-sm);
    color: var(--color-text-primary);
    cursor: pointer;
    transition: all var(--transition-fast);
  }
  
  .a11y-mode-btn:hover {
    background: var(--color-bg-hover);
  }
  
  .a11y-mode-btn.active {
    border-color: var(--color-text-primary);
    font-weight: 600;
  }
  
  /* === CONTRAST LIST === */
  .contrast-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .contrast-item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2);
    background: var(--color-bg-card);
    border-radius: var(--radius-lg);
  }
  
  .contrast-swatch {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: var(--font-sm);
  }
  
  .contrast-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  
  .contrast-hex {
    font-size: var(--font-xs);
    color: var(--color-text-primary);
  }
  
  .contrast-ratio {
    font-size: var(--font-xs);
    color: var(--color-text-muted);
  }
  
  .contrast-badge {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    font-size: 10px;
    font-weight: 600;
  }
  
  .contrast-badge.pass {
    background: var(--color-success-bg);
    color: var(--color-success-text);
  }
  
  .contrast-badge.fail {
    background: var(--color-error-bg);
    color: var(--color-error-text);
  }
  
  /* === ADJACENT CONTRAST === */
  .adjacent-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .adjacent-item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2);
    background: var(--color-bg-card);
    border-radius: var(--radius-lg);
  }
  
  .adjacent-swatches {
    display: flex;
    border-radius: var(--radius-md);
    overflow: hidden;
  }
  
  .adjacent-swatches div {
    width: 24px;
    height: 32px;
  }
  
  .adjacent-ratio {
    flex: 1;
    font-size: var(--font-xs);
    color: var(--color-text-secondary);
  }

--- START OF FILE: src/colorGenerator/AccessibilityPanel.jsx ---

import { X, Eye, Check, AlertTriangle } from 'lucide-react';
import '../styles/PanelStyles.css';
import { trackEvent } from '../utils/analytics';

const PANEL_WIDTH = 280;

const COLOR_BLIND_MODES = [
  { id: 'normal', label: 'Normal Vision' },
  { id: 'protanopia', label: 'Protanopia (Red-Blind)' },
  { id: 'deuteranopia', label: 'Deuteranopia (Green-Blind)' },
  { id: 'tritanopia', label: 'Tritanopia (Blue-Blind)' },
  { id: 'achromatopsia', label: 'Achromatopsia (Monochrome)' },
];

const getLuminance = (hex) => {
  const r = parseInt(hex.slice(1, 3), 16) / 255;
  const g = parseInt(hex.slice(3, 5), 16) / 255;
  const b = parseInt(hex.slice(5, 7), 16) / 255;

  const toLinear = (c) =>
    c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);

  return 0.2126 * toLinear(r) + 0.7152 * toLinear(g) + 0.0722 * toLinear(b);
};

const getContrastRatio = (hex1, hex2) => {
  const l1 = getLuminance(hex1);
  const l2 = getLuminance(hex2);
  const lighter = Math.max(l1, l2);
  const darker = Math.min(l1, l2);
  return (lighter + 0.05) / (darker + 0.05);
};

const getWCAGRating = (ratio) => {
  if (ratio >= 7) return { level: 'AAA', pass: true };
  if (ratio >= 4.5) return { level: 'AA', pass: true };
  if (ratio >= 3) return { level: 'AA+', pass: true };
  return { level: 'Fail', pass: false };
};

function AccessibilityPanel({
  isOpen,
  onClose,
  colors,
  colorBlindMode,
  onColorBlindModeChange,
}) {
  return (
    <div
      className={`panel-column ${isOpen ? 'open' : ''}`}
      style={{ flexBasis: isOpen ? `${PANEL_WIDTH}px` : '0px' }}
    >
      <div className="panel-inner" style={{ width: `${PANEL_WIDTH}px` }}>
        <div className="panel-header">
          <div className="panel-title">
            <Eye size={18} />
            <span>Accessibility</span>
          </div>
          <button className="panel-close" onClick={onClose}>
            <X size={20} />
          </button>
        </div>

        <div className="panel-scroll">
          {/* Color Vision Simulation */}
          <div className="panel-section">
            <label className="panel-label">Color Vision Simulation</label>
            <div className="panel-list">
              {COLOR_BLIND_MODES.map((mode) => (
                <button
                  key={mode.id}
                  className={`panel-list-item ${colorBlindMode === mode.id ? 'selected' : ''}`}
                  onClick={(e) => {
                    trackEvent('view_vision_simulation', { mode: mode.id });
                    onColorBlindModeChange(mode.id);
                    e.currentTarget.blur();
                  }}
                >
                  <span className="panel-list-item-title">{mode.label}</span>
                  {colorBlindMode === mode.id && <div className="panel-check" />}
                </button>
              ))}
            </div>
          </div>

          {/* Text Contrast (New Grid Layout) */}
          <div className="panel-section">
            <label className="panel-label">Text Contrast</label>
            <div className="panel-contrast-grid">
              {colors.map((color) => {
                const whiteRatio = getContrastRatio(color.hex, '#FFFFFF');
                const blackRatio = getContrastRatio(color.hex, '#000000');
                const bestColor = whiteRatio > blackRatio ? '#FFFFFF' : '#000000';
                const bestRatio = Math.max(whiteRatio, blackRatio);
                const rating = getWCAGRating(bestRatio);

                return (
                  <div 
                    key={color.id} 
                    className="panel-contrast-card"
                    style={{ backgroundColor: color.hex, color: bestColor }}
                  >
                    <div className="contrast-card-header">
                      <span className="contrast-aa">Aa</span>
                      <div className={`contrast-badge ${rating.pass ? 'pass' : 'fail'}`} style={{ borderColor: bestColor }}>
                        {rating.level}
                      </div>
                    </div>
                    <div className="contrast-card-footer">
                      <span className="contrast-hex">{color.hex}</span>
                      <span className="contrast-ratio" style={{ opacity: 0.7 }}>
                        {bestRatio.toFixed(1)}:1
                      </span>
                    </div>
                  </div>
                );
              })}
            </div>
          </div>

          {/* Adjacent Color Contrast (New Pill Layout) */}
          <div className="panel-section">
            <label className="panel-label">Adjacent Contrast</label>
            <div className="panel-list">
              {colors.slice(0, -1).map((color, i) => {
                const nextColor = colors[i + 1];
                const ratio = getContrastRatio(color.hex, nextColor.hex);
                
                let status = 'fail';
                let Icon = X;
                
                if (ratio >= 3) {
                  status = 'pass';
                  Icon = Check;
                } else if (ratio >= 1.6) {
                  status = 'warn';
                  Icon = AlertTriangle;
                }

                return (
                  <div key={color.id} className="panel-adjacent-row">
                    {/* The Pill Visualizer */}
                    <div className="panel-adjacent-pill">
                      <div style={{ backgroundColor: color.hex }} />
                      <div style={{ backgroundColor: nextColor.hex }} />
                    </div>
                    
                    {/* Score and Status */}
                    <div className="panel-adjacent-info">
                      <span className="adjacent-ratio">{ratio.toFixed(1)}:1</span>
                      <div className={`adjacent-status ${status}`}>
                        <Icon size={10} strokeWidth={3} />
                        <span>{status === 'warn' ? '' : status === 'pass' ? '' : ''}</span>
                      </div>
                    </div>
                  </div>
                );
              })}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default AccessibilityPanel;

--- START OF FILE: src/colorGenerator/BookmarkPanel.css ---

/* ============================================
   BOOKMARK PANEL
   ============================================ */

   .bookmark-main {
    text-align: center;
    padding: var(--space-6) var(--space-4);
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
    margin-bottom: var(--space-6);
  }
  
  .bookmark-icon-large {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 64px;
    background: var(--color-bg-hover);
    border-radius: var(--radius-full);
    margin-bottom: var(--space-4);
    color: var(--color-text-primary);
  }
  
  .bookmark-main h3 {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
  }
  
  .bookmark-main p {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--leading-normal);
  }
  
  /* === SHORTCUT BOX === */
  .bookmark-shortcut-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-5);
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
  }
  
  .bookmark-keys {
    display: flex;
    align-items: center;
    gap: var(--space-2);
  }
  
  .bookmark-keys kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
    height: 40px;
    padding: 0 var(--space-3);
    background: var(--color-text-primary);
    color: var(--color-text-white);
    border-radius: var(--radius-lg);
    font-family: inherit;
    font-size: var(--font-base);
    font-weight: 600;
    box-shadow: 0 4px 0 #000;
  }
  
  .bookmark-keys span {
    font-size: var(--font-lg);
    color: var(--color-text-faint);
    font-weight: 500;
  }
  
  .bookmark-shortcut-label {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
  }
  
  /* === URL BOX === */
  .bookmark-url-box {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3);
    background: var(--color-bg-card);
    border-radius: var(--radius-xl);
    overflow: hidden;
  }
  
  .bookmark-url {
    flex: 1;
    font-size: 11px;
    color: var(--color-text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-family: var(--font-mono);
  }
  
  .bookmark-copy-btn {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: var(--color-bg-hover);
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    color: var(--color-text-secondary);
    transition: all var(--transition-fast);
  }
  
  .bookmark-copy-btn:hover {
    background: var(--color-text-primary);
    color: var(--color-text-white);
  }
  
  .bookmark-copy-btn.copied {
    background: var(--color-text-primary);
    color: var(--color-text-white);
  }
  
  /* === STEPS === */
  .bookmark-step {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-3);
    background: var(--color-bg-card);
    border-radius: var(--radius-xl);
  }
  
  .bookmark-step-num {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: var(--color-bg-hover);
    border-radius: var(--radius-full);
    font-size: var(--font-xs);
    font-weight: 700;
    color: var(--color-text-primary);
    flex-shrink: 0;
  }
  
  .bookmark-step span:last-child {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    line-height: var(--leading-normal);
    padding-top: 2px;
  }
  
  /* === TIP === */
  .bookmark-tip {
    padding: var(--space-4);
    background: var(--color-text-primary);
    color: var(--color-text-white);
    border-radius: var(--radius-2xl);
    font-size: var(--font-sm);
    line-height: var(--leading-normal);
  }
  
  .bookmark-tip strong {
    display: block;
    margin-bottom: var(--space-1);
  }

--- START OF FILE: src/colorGenerator/BookmarkPanel.jsx ---

import { useState } from 'react';
import { X, Bookmark, Star, Copy, Check } from 'lucide-react';
import '../styles/PanelStyles.css';
import './BookmarkPanel.css';

const PANEL_WIDTH = 280;

function BookmarkPanel({ isOpen, onClose, currentUrl }) {
  const [copied, setCopied] = useState(false);

  const isMac =
    typeof navigator !== 'undefined' &&
    navigator.platform.toUpperCase().indexOf('MAC') >= 0;

  const handleCopyUrl = async () => {
    try {
      await navigator.clipboard.writeText(currentUrl);
      setCopied(true);
      setTimeout(() => setCopied(false), 2000);
    } catch (err) {
      console.error('Failed to copy:', err);
    }
  };

  return (
    <div
      className={`panel-column ${isOpen ? 'open' : ''}`}
      style={{ flexBasis: isOpen ? `${PANEL_WIDTH}px` : '0px' }}
    >
      <div className="panel-inner" style={{ width: `${PANEL_WIDTH}px` }}>
        <div className="panel-header">
          <div className="panel-title">
            <Bookmark size={18} />
            <span>Bookmark</span>
          </div>
          <button className="panel-close" onClick={onClose}>
            <X size={20} />
          </button>
        </div>

        <div className="panel-scroll">
          {/* Main Instruction */}
          <div className="bookmark-main">
            <div className="bookmark-icon-large">
              <Star size={32} />
            </div>
            <h3>Save this palette</h3>
            <p>
              Bookmark this page to quickly access your current color palette
              anytime.
            </p>
          </div>

          {/* Keyboard Shortcut */}
          <div className="panel-section">
            <label className="panel-label">Keyboard Shortcut</label>
            <div className="bookmark-shortcut-box">
              <div className="bookmark-keys">
                <kbd>{isMac ? '' : 'Ctrl'}</kbd>
                <span>+</span>
                <kbd>D</kbd>
              </div>
              <span className="bookmark-shortcut-label">Add to bookmarks</span>
            </div>
          </div>

          {/* Current URL Preview */}
          <div className="panel-section">
            <label className="panel-label">Current Palette URL</label>
            <div className="bookmark-url-box">
              <code className="bookmark-url">{currentUrl}</code>
              <button
                className={`bookmark-copy-btn ${copied ? 'copied' : ''}`}
                onClick={handleCopyUrl}
                title="Copy URL"
              >
                {copied ? <Check size={14} /> : <Copy size={14} />}
              </button>
            </div>
            <p className="panel-hint">
              This URL contains your exact palette. Share it or bookmark it!
            </p>
          </div>

          {/* Browser Instructions */}
          <div className="panel-section">
            <label className="panel-label">Or manually</label>
            <div className="panel-list">
              <div className="bookmark-step">
                <span className="bookmark-step-num">1</span>
                <span>Click the star icon in your browser's address bar</span>
              </div>
              <div className="bookmark-step">
                <span className="bookmark-step-num">2</span>
                <span>Choose a folder and save</span>
              </div>
              <div className="bookmark-step">
                <span className="bookmark-step-num">3</span>
                <span>Access your palette anytime from bookmarks</span>
              </div>
            </div>
          </div>

          {/* Pro Tip */}
          <div className="bookmark-tip">
            <strong>Pro tip:</strong> Generate a palette you love, then bookmark
            it. Each palette has a unique URL!
          </div>
        </div>
      </div>
    </div>
  );
}

export default BookmarkPanel;

--- START OF FILE: src/colorGenerator/ColorEditorPanel.css ---

/* ============================================
   COLOR EDITOR PANEL
   ============================================ */

   .editor-column {
    flex: 0 0 0px;
    height: 100%;
    background: var(--color-bg-panel);
    overflow: hidden;
    transition: flex-basis var(--transition-spring);
  }
  
  .editor-column.open {
    flex: 0 0 var(--panel-width-lg);
  }
  
  .editor-inner {
    width: var(--panel-width-lg);
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: var(--space-20);
  }
  
  .editor-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-border-subtle);
  }
  
  .editor-title {
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-primary);
  }
  
  .editor-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--space-8);
    height: var(--space-8);
    background: none;
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    color: var(--color-text-secondary);
    transition: all var(--transition-fast);
  }
  
  .editor-close:hover {
    background: var(--color-border-subtle);
    color: var(--color-text-primary);
  }
  
  .editor-scroll {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-4);
  }
  
  .editor-preview {
    height: 100px;
    border-radius: var(--radius-2xl);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: var(--space-5);
    box-shadow: var(--shadow-md);
  }
  
  .editor-preview-hex {
    font-size: var(--font-lg);
    font-weight: 700;
  }
  
  .editor-field {
    margin-bottom: var(--space-5);
  }
  
  .editor-field label {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }
  
  .editor-field label span {
    font-weight: 500;
    color: var(--color-text-faint);
  }
  
  .editor-hex-input {
    display: flex;
    align-items: center;
    background: var(--color-bg-card);
    border-radius: var(--radius-lg);
    padding: var(--space-3);
    font-size: var(--font-base);
  }
  
  .editor-hex-input span {
    color: var(--color-text-faint);
    margin-right: 2px;
  }
  
  .editor-hex-input input {
    border: none;
    background: none;
    font-family: inherit;
    font-size: inherit;
    color: var(--color-text-primary);
    width: 100%;
    outline: none;
    text-transform: uppercase;
  }
  
  /* === SLIDERS === */
  .slider {
    width: 100%;
    height: 8px;
    border-radius: var(--radius-sm);
    appearance: none;
    cursor: pointer;
    outline: none;
  }
  
  .slider::-webkit-slider-thumb {
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: var(--radius-full);
    background: var(--color-bg-card);
    box-shadow: var(--shadow-md);
    cursor: pointer;
    transition: transform var(--transition-fast);
  }
  
  .slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
  }
  
  .slider-hue {
    background: linear-gradient(
      to right,
      hsl(0, 100%, 50%),
      hsl(60, 100%, 50%),
      hsl(120, 100%, 50%),
      hsl(180, 100%, 50%),
      hsl(240, 100%, 50%),
      hsl(300, 100%, 50%),
      hsl(360, 100%, 50%)
    );
  }
  
  .slider-saturation {
    background: linear-gradient(
      to right,
      hsl(0, 0%, 50%),
      var(--sat-color, hsl(0, 100%, 50%))
    );
  }
  
  .slider-lightness {
    background: linear-gradient(to right, #000, var(--light-mid, #888), #fff);
  }
  
  /* === QUICK ADJUSTMENTS === */
  .editor-adjustments label {
    display: block;
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-3);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }
  
  .adjustment-buttons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-2);
  }
  
  .adjustment-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: var(--space-3);
    background: var(--color-bg-card);
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    font-size: var(--font-xs);
    font-weight: 500;
    color: var(--color-text-primary);
    transition: all var(--transition-fast);
  }
  
  .adjustment-btn:hover {
    background: var(--color-text-primary);
    color: var(--color-text-white);
  }
  
  .adjustment-btn:active {
    transform: scale(0.95);
  }

--- START OF FILE: src/colorGenerator/ColorEditorPanel.jsx ---

import { useState, useEffect } from 'react';
import { X, Sun, Moon, Flame, Snowflake, Pipette } from 'lucide-react';
import { hexToHsl, hslToHex } from '../utils/colorUtils';
import './ColorEditorPanel.css';

const PANEL_WIDTH = 280;

const ADJUSTMENTS = [
  { icon: Sun, label: 'Lighter', adjust: (hsl) => ({ ...hsl, l: hsl.l + 10 }) },
  { icon: Moon, label: 'Darker', adjust: (hsl) => ({ ...hsl, l: hsl.l - 10 }) },
  { icon: Flame, label: 'Warmer', adjust: (hsl) => ({ ...hsl, h: hsl.h - 15 }) },
  { icon: Snowflake, label: 'Cooler', adjust: (hsl) => ({ ...hsl, h: hsl.h + 15 }) },
  { icon: Pipette, label: 'Saturate', adjust: (hsl) => ({ ...hsl, s: hsl.s + 15 }) },
];

function ColorEditorPanel({ isOpen, onClose, color, onColorChange }) {
  const [hsl, setHsl] = useState({ h: 0, s: 50, l: 50 });
  const [hexInput, setHexInput] = useState('');

  useEffect(() => {
    if (color?.hex) {
      const converted = hexToHsl(color.hex);
      setHsl(converted);
      setHexInput(color.hex.replace('#', ''));
    }
  }, [color?.hex]);

  const updateColor = (newHsl) => {
    const clamped = {
      h: ((newHsl.h % 360) + 360) % 360,
      s: Math.max(0, Math.min(100, newHsl.s)),
      l: Math.max(0, Math.min(100, newHsl.l)),
    };
    setHsl(clamped);
    const newHex = hslToHex(clamped.h, clamped.s, clamped.l);
    setHexInput(newHex.replace('#', ''));
    onColorChange(color.id, newHex);
  };

  const handleHexInput = (value) => {
    setHexInput(value);
    if (/^[0-9A-Fa-f]{6}$/.test(value)) {
      const hex = `#${value.toUpperCase()}`;
      const converted = hexToHsl(hex);
      setHsl(converted);
      onColorChange(color.id, hex);
    }
  };

  const handleSliderChange = (key) => (e) => {
    updateColor({ ...hsl, [key]: Number(e.target.value) });
  };

  if (!color) return null;

  const textColor = hsl.l > 60 ? '#000' : '#fff';

  return (
    <div className={`editor-column ${isOpen ? 'open' : ''}`}>
      <div className="editor-inner">
        <div className="editor-header">
          <span className="editor-title">Edit Color</span>
          <button className="editor-close" onClick={onClose}>
            <X size={20} />
          </button>
        </div>

        <div className="editor-scroll">
          {/* Color Preview */}
          <div
            className="editor-preview"
            style={{ backgroundColor: color.hex }}
          >
            <span className="editor-preview-hex" style={{ color: textColor }}>
              {color.hex}
            </span>
          </div>

          {/* Hex Input */}
          <div className="editor-field">
            <label>Hex</label>
            <div className="editor-hex-input">
              <span>#</span>
              <input
                type="text"
                value={hexInput}
                onChange={(e) => handleHexInput(e.target.value.toUpperCase())}
                maxLength={6}
                spellCheck={false}
              />
            </div>
          </div>

          {/* Hue Slider */}
          <div className="editor-field">
            <label>
              Hue <span>{Math.round(hsl.h)}</span>
            </label>
            <input
              type="range"
              min="0"
              max="360"
              value={hsl.h}
              onChange={handleSliderChange('h')}
              className="slider slider-hue"
            />
          </div>

          {/* Saturation Slider */}
          <div className="editor-field">
            <label>
              Saturation <span>{Math.round(hsl.s)}%</span>
            </label>
            <input
              type="range"
              min="0"
              max="100"
              value={hsl.s}
              onChange={handleSliderChange('s')}
              className="slider slider-saturation"
              style={{ '--sat-color': hslToHex(hsl.h, 100, 50) }}
            />
          </div>

          {/* Lightness Slider */}
          <div className="editor-field">
            <label>
              Lightness <span>{Math.round(hsl.l)}%</span>
            </label>
            <input
              type="range"
              min="0"
              max="100"
              value={hsl.l}
              onChange={handleSliderChange('l')}
              className="slider slider-lightness"
              style={{ '--light-mid': hslToHex(hsl.h, hsl.s, 50) }}
            />
          </div>

          {/* Quick Adjustments */}
          <div className="editor-adjustments">
            <label>Quick Adjust</label>
            <div className="adjustment-buttons">
              {ADJUSTMENTS.map((adj) => (
                <button
                  key={adj.label}
                  className="adjustment-btn"
                  onClick={() => updateColor(adj.adjust(hsl))}
                  title={adj.label}
                >
                  <adj.icon size={16} />
                  <span>{adj.label}</span>
                </button>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default ColorEditorPanel;

--- START OF FILE: src/colorGenerator/ColorGenerator.css ---

/* ============================================
   COLOR GENERATOR MAIN
   ============================================ */

   .generator-container {
    display: flex;
    width: 100%;
    background: inherit;
    overflow: hidden;
    height: 100vh;
    height: 100dvh;
    height: calc(var(--vh, 1vh) * 100);
    align-items: stretch;
    min-height: 0;
  }
  
  /* === COLORS AREA === */
  .colors-area {
    display: flex;
    flex: 1;
    min-width: 0;
    min-height: 0;
    height: 100%;
  }
  
  .colors-area.stacked {
    flex-direction: column;
  }
  
  /* === COLOR COLUMN === */
  .color-column {
    flex: 1 1 0;
    min-width: 0;
    min-height: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    padding-bottom: var(--space-20);
    position: relative;
    transition: flex var(--transition-spring);
    user-select: none;
    height: auto;
  }
  
  .color-column.dragging {
    opacity: 0.5;
    transform: scale(0.98);
  }
  
  .color-column.drag-over {
    transform: scale(1.02);
  }

/* ============================================
   HEX INPUT STYLING (Fixed)
   ============================================ */

   .hex-input-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* Match the .color-hex styling exactly */
    font-size: var(--font-xl);
    font-weight: 700;
    letter-spacing: 1px;
    line-height: 1;
  }
  
  .hex-input {
    background: transparent;
    
    /* Ensure no underline or border */
    border: none;
    border-bottom: none !important; 
    outline: none;
    
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    letter-spacing: inherit;
    
    /* Fixed width for exactly 6 characters */
    width: 7ch; 
    min-width: 7ch;
    
    text-transform: uppercase;
    padding: 0;
    padding-bottom: 7px;
    margin: 0;
    text-align: center;
    
    /* Remove browser default styling */
    -webkit-appearance: none;
    appearance: none;
    border-radius: 0;
    box-shadow: none;
  }

  .color-hex {
    cursor: text; /* Change cursor to indicate editability */
  }

  .color-hex:hover {
    opacity: 0.8; /* Subtle hover effect */
  }
  
  .color-column.drag-over::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, 0.1);
    pointer-events: none;
  }
  
  /* === STACKED MODE (Desktop) === */
  .colors-area.stacked .color-column {
    width: 100%;
    min-height: 0;
    height: auto;
    flex: 1 1 0;
    flex-direction: row;
    justify-content: flex-end;
    align-items: center;
    padding: 0 var(--space-4);
    padding-bottom: 0;
    position: relative;
  }
  
  .colors-area.stacked .color-toolbar {
    position: absolute;
    top: 50%;
    left: var(--space-3);
    right: auto;
    transform: translateY(-50%);
    flex-direction: row;
    gap: var(--space-1);
    pointer-events: auto;
  }
  
  .colors-area.stacked .toolbar-btn {
    width: 36px;
    height: 36px;
    opacity: 0.6;
    animation: none;
  }
  
  .colors-area.stacked .color-column:hover .toolbar-btn {
    animation: none;
    opacity: 0.6;
  }
  
  .colors-area.stacked .color-content {
    flex-direction: row;
    align-items: center;
    justify-content: flex-end;
  }
  
  .colors-area.stacked .color-hex {
    font-size: 1.1rem;
    min-width: auto;
    padding: var(--space-2) var(--space-3);
    text-align: right;
  }
  
  .colors-area.stacked .lock-indicator {
    display: none;
  }
  
  .colors-area.stacked .addColor {
    display: flex;
    width: 100%;
    height: 0;
    flex: 0 0 0;
    margin: 0;
    position: relative;
    justify-content: center;
    align-items: center;
    z-index: 60;
    overflow: visible;
  }
  
  .colors-area.stacked .addBtn {
    position: absolute;
    width: 48px;
    height: 48px;
    opacity: 0.2;
    transform: scale(1);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  }
  
  /* === COLOR TOOLBAR === */
  .color-toolbar {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    pointer-events: none;
  }
  
  .color-column:hover .color-toolbar {
    pointer-events: auto;
  }
  
  .toolbar-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    background: none;
    border: none;
    border-radius: var(--radius-xl);
    cursor: pointer;
    opacity: 0;
    transition: background-color var(--transition-fast),
                transform var(--transition-bounce);
  }
  
  .color-column:hover .toolbar-btn {
    animation: toolbarBtnPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }
  
  .color-column:hover .toolbar-btn:nth-child(1) { animation-delay: 0ms; }
  .color-column:hover .toolbar-btn:nth-child(2) { animation-delay: 40ms; }
  .color-column:hover .toolbar-btn:nth-child(3) { animation-delay: 80ms; }
  .color-column:hover .toolbar-btn:nth-child(4) { animation-delay: 120ms; }
  .color-column:hover .toolbar-btn:nth-child(5) { animation-delay: 160ms; }
  
  @keyframes toolbarBtnPop {
    0% { opacity: 0; transform: scale(0.5) translateY(10px); }
    100% { opacity: 0.6; transform: scale(1) translateY(0); }
  }
  
  .toolbar-btn:hover {
    opacity: 1 !important;
    background: rgba(255, 255, 255, 0.15);
    transform: scale(1.15);
  }
  
  .toolbar-btn:active {
    transform: scale(0.9);
    transition: transform 0.1s ease;
  }
  
  .toolbar-btn.active {
    opacity: 1;
  }
  
  .drag-handle {
    cursor: grab;
  }
  
  .drag-handle:active {
    cursor: grabbing;
  }
  
  /* === LOCK INDICATOR === */
  .lock-indicator {
    position: absolute;
    bottom: 120px;
    opacity: 0.5;
    animation: lockPulse 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  @keyframes lockPulse {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); opacity: 0.5; }
  }
  
  /* === COLOR CONTENT === */
  .color-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-4);
  }
  
  .color-hex {
    font-size: var(--font-xl);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    background: none;
    border: none;
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-lg);
    transition: background-color var(--transition-base),
                transform var(--transition-bounce);
    min-width: 120px;
    text-align: center;
  }
  
  .color-hex:hover {
    background-color: rgba(255, 255, 255, 0.15);
    transform: scale(1.08);
  }
  
  .color-hex:active {
    transform: scale(0.95);
  }
  
  .color-hex.copied {
    animation: copyBounce 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  @keyframes copyBounce {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); }
  }
  
  /* === ADD COLOR BUTTON === */
  .addColor {
    width: 80px;
    margin-left: -40px;
    margin-right: -40px;
    z-index: 60;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  .addBtn {
    transform: scale(0.6);
    opacity: 0;
    width: 44px;
    height: 44px;
    border-radius: var(--radius-full);
    border: none;
    background: var(--color-bg-card);
    box-shadow: var(--shadow-md);
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1),
                opacity var(--transition-base), 
                box-shadow var(--transition-base);
  }
  
  @media (hover: hover) {
    .addColor:hover .addBtn {
      opacity: 1;
      transform: scale(1);
    }
  
    .addBtn:hover {
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      transform: scale(1.1) !important;
    }
  }
  
  .addBtn:active {
    transform: scale(0.9) !important;
    transition: transform 0.1s ease;
  }
  
  /* === REMOVE COLUMN BUTTON === */
  .column-remove-btn {
    position: absolute;
    top: 100px;
    right: var(--space-3);
    width: var(--space-8);
    height: var(--space-8);
    border-radius: var(--radius-full);
    background: rgba(0, 0, 0, 0.15);
    backdrop-filter: blur(4px);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 20;
    opacity: 0;
    transform: scale(0.8);
    transition: all var(--transition-bounce);
  }
  
  .color-column:hover .column-remove-btn {
    opacity: 1;
    transform: scale(1);
  }
  
  .column-remove-btn:hover {
    background: rgba(0, 0, 0, 0.3);
    transform: scale(1.1);
  }
  
  .column-remove-btn:active {
    transform: scale(0.9);
  }
  
  .colors-area.stacked .column-remove-btn {
    top: 50%;
    right: var(--space-3);
    transform: translateY(-50%);
    opacity: 0.6;
  }
  
  .colors-area.stacked .color-column:hover .column-remove-btn {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }
  
  /* === SHADE PICKER === */
  .shade-picker {
    display: flex;
    gap: var(--space-2);
    padding: var(--space-2);
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(6px);
  }
  
  .shade-swatch {
    width: 28px;
    height: 28px;
    border-radius: var(--radius-md);
    border: none;
    cursor: pointer;
  }
  
  .shade-swatch:focus {
    outline: 2px solid white;
  }
  
  /* === SHADE CONTAINER === */
  .shade-container {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    z-index: 50;
    animation: shadeFadeIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    padding-top: 0;
  }
  
  .shade-container .shade-step:first-child {
    padding-top: 100px;
  }
  
  .colors-area.stacked .shade-container {
    flex-direction: row;
    padding-top: 0;
  }
  
  .colors-area.stacked .shade-step:first-child {
    padding-top: 0;
  }
  
  .colors-area.stacked .shade-step {
    height: 100%;
    width: auto;
  }
  
  .shade-step {
    flex: 1;
    width: 100%;
    border: none;
    cursor: pointer;
    transition: transform 0.1s ease, z-index 0.1s ease;
    position: relative;
  }
  
  @media (hover: hover) {
    .shade-step:hover {
      transform: scaleX(1.1) scaleY(1.1);
      z-index: 10;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      border-radius: var(--radius-sm);
    }
  }
  
  .shade-step.is-current {
    z-index: 5;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3);
  }
  
  .shade-close-btn {
    position: absolute;
    top: var(--space-3);
    right: var(--space-3);
    width: var(--space-8);
    height: var(--space-8);
    border-radius: var(--radius-full);
    background: rgba(255, 255, 255, 0.05);
    color: var(--color-text-primary);
    border: none;
    display: none;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 20;
    transform: translateY(-10px);
  }
  
  @keyframes shadeFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  /* === ANIMATIONS === */
  .color-column.color-entering {
    animation: columnExpand var(--transition-spring) forwards;
  }
  
  @keyframes columnExpand {
    0% { flex: 0.0001; }
    100% { flex: 1; }
  }
  
  .color-column.color-entering .color-content {
    animation: contentReveal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s forwards;
    opacity: 0;
  }
  
  @keyframes contentReveal {
    0% { opacity: 0; transform: translateY(30px) scale(0.9); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
  }
  
  .color-column.color-entering .color-hex {
    animation: hexPop 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards;
    opacity: 0;
  }
  
  @keyframes hexPop {
    0% { opacity: 0; transform: scale(0.5); }
    70% { transform: scale(1.1); }
    100% { opacity: 1; transform: scale(1); }
  }
  
  .color-column.color-removing {
    animation: columnCollapse 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  
  @keyframes columnCollapse {
    0% { flex: 1; opacity: 1; }
    100% { flex: 0.0001; opacity: 0; }
  }
  
  .color-column.reordering {
    animation: reorderBounce 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  @keyframes reorderBounce {
    0% { transform: scale(0.95); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
  }
  
  /* === PC STACKED VIEW === */
  @media (min-width: 769px) {
    .colors-area.stacked .color-column:first-child {
      padding-top: 100px;
    }
  
    .colors-area.stacked .color-column:first-child .color-toolbar {
      top: calc(50% + 50px);
    }
  
    .colors-area.stacked .color-column:first-child .column-remove-btn {
      top: calc(50% + 50px);
    }
  }
  
  /* === MOBILE HEADER === */
  .mobile-header {
    display: none;
  }
  
  /* === SEO CONTENT (Hidden) === */
  .seo-content-footer,
  .seo-content-wrapper,
  .seo-main-title,
  .seo-trait-separator,
  .seo-color-reference,
  .seo-related-links,
  .seo-section-title {
    color: rgba(255, 255, 255, 0.02);
    text-decoration: none;
  }

  /* Target the links specifically */
.seo-related-links a {
  color: inherit;         /* Forces link to use the parent's faint white color */
  text-decoration: none;  /* Removes the underline */
  margin-right: 12px;     /* Adds a little space between the links */
  display: inline-block;  /* Helps with spacing */
}

/* Optional: Add a slight hover effect so you (the admin) can find them */
.seo-related-links a:hover {
  text-decoration: underline;
  opacity: 1; /* Makes it fully visible on hover */
}
  
  .seo-footer-tiny {
    position: absolute;
    bottom: var(--space-2);
    left: 50%;
    transform: translateX(-50%);
    font-size: 8px;
    color: rgba(0, 0, 0, 0.2);
    white-space: nowrap;
    pointer-events: none;
    z-index: 5;
    max-width: 90%;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: center;
  }
  
  /* ============================================
     MOBILE RESPONSIVE
     ============================================ */
  @media (max-width: 768px) {
    .generator-container {
      flex-direction: column;
      overflow: hidden;
      height: 100vh;
      height: 100dvh;
      height: -webkit-fill-available;
      padding-bottom: env(safe-area-inset-bottom, 0px);
    }

        /* Force column layout on mobile - overrides any JS-controlled state */
    .colors-area {
      flex-direction: column !important;
    }

        /* Colors should stack vertically */
    .color-column {
      width: 100%;
      flex: 1 1 0;
    }
  
    /* === MOBILE HEADER === */
    .mobile-header {
      display: flex;
      width: 100%;
      flex: 0 0 56px;
      background: var(--color-bg-card);
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--space-1);
      padding-top: env(safe-area-inset-top, 0px);
      gap: var(--space-1);
      z-index: 10;
    }
  
    .mobile-logo {
      display: flex;
      align-items: center;
      background: none;
      border: none;
      padding: var(--space-2);
      margin: calc(var(--space-2) * -1);
      border-radius: var(--radius-lg);
      cursor: pointer;
    }
  
    .mobile-logo:active {
      background: rgba(0, 0, 0, 0.05);
    }
  
    .mobile-logo-mark {
      display: flex;
      gap: 2px;
    }
  
    .mobile-logo-swatch {
      width: 5px;
      height: 16px;
      border-radius: 2px;
      transition: background-color 0.3s ease;
    }
  
    .mobile-hint {
      font-size: 12px;
      color: var(--color-text-faint);
      white-space: nowrap;
      background: none;
      border: none;
      cursor: pointer;
      padding: var(--space-2) 2px;
      padding-left: var(--space-3);
      border-radius: var(--radius-md);
      transition: background-color var(--transition-fast);
    }
  
    .mobile-hint:active {
      background: rgba(0, 0, 0, 0.05);
    }
  
    .mobile-actions {
      display: flex;
      align-items: center;
      gap: 2px;
      flex-shrink: 0;
    }
  
    .mobile-icon-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: var(--space-8);
      height: var(--space-8);
      background: none;
      border: none;
      border-radius: var(--radius-lg);
      cursor: pointer;
      color: #444;
      transition: background-color var(--transition-fast), color var(--transition-fast);
    }
  
    .mobile-icon-btn:active:not(.disabled) {
      background: var(--color-bg-hover);
      color: var(--color-text-primary);
    }
  
    .mobile-icon-btn.disabled {
      opacity: 0.3;
      pointer-events: none;
    }
  
    .mobile-icon-btn.active {
      background: var(--color-bg-hover);
      color: var(--color-text-primary);
    }
  
    .mobile-separator {
      width: 1px;
      height: 20px;
      background: var(--color-border);
      margin: 0 var(--space-1);
    }
  
    /* === COLOR ROWS === */
    .color-column {
      width: 100%;
      min-height: 0;
      height: auto;
      flex: 1 1 0;
      flex-direction: row;
      justify-content: flex-end;
      align-items: center;
      padding: 0 var(--space-4);
      padding-bottom: 0;
      position: relative;
    }
  
    .color-column.color-entering {
      animation: mobileColumnExpand var(--transition-spring) forwards;
    }
  
    @keyframes mobileColumnExpand {
      0% { flex: 0.0001 1 0; opacity: 0; }
      100% { flex: 1 1 0; opacity: 1; }
    }
  
    .color-column.color-removing {
      animation: mobileColumnCollapse 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
  
    @keyframes mobileColumnCollapse {
      0% { flex: 1 1 0; opacity: 1; }
      100% { flex: 0.0001 1 0; opacity: 0; }
    }
  
    /* === TOOLBAR ON LEFT === */
    .color-toolbar {
      position: absolute;
      top: 50%;
      left: var(--space-3);
      right: auto;
      transform: translateY(-50%);
      flex-direction: row;
      gap: var(--space-1);
      pointer-events: auto;
    }
  
    .toolbar-btn {
      width: 36px;
      height: 36px;
      opacity: 0.6;
      animation: none;
    }
  
    .color-column:hover .toolbar-btn {
      animation: none;
      opacity: 0.6;
    }
  
    .toolbar-btn:active {
      opacity: 1;
      transform: scale(0.9);
    }
  
    .toolbar-btn.active {
      opacity: 1;
    }
  
    /* === HEX ON RIGHT === */
    .color-content {
      flex-direction: row;
      align-items: center;
      justify-content: flex-end;
    }
  
    .color-hex {
      font-size: 1.1rem;
      min-width: auto;
      padding: var(--space-2) var(--space-3);
      text-align: right;
    }
  
    .lock-indicator {
      display: none;
    }
  
    /* === ADD BUTTON === */
    .addColor {
      display: flex;
      width: 100%;
      height: 0;
      flex: 0 0 0;
      margin: 0;
      position: relative;
      justify-content: center;
      align-items: center;
      z-index: 60;
      overflow: visible;
    }
  
    .addBtn {
      position: absolute;
      width: 48px;
      height: 48px;
      opacity: 0.1;
      transform: scale(1);
      box-shadow: var(--shadow-md);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    }
  
    .addColor:hover .addBtn {
      opacity: 0.1;
      transform: scale(1);
    }
  
    .addBtn:hover {
      opacity: 0.1;
      transform: scale(1);
      box-shadow: var(--shadow-md);
    }
  
    .addBtn:active {
      opacity: 1 !important;
      transform: scale(0.95) !important;
      box-shadow: var(--shadow-lg);
    }
  
    .addColor::before {
      content: '';
      position: absolute;
      top: -20px;
      left: 0;
      right: 0;
      bottom: -20px;
      z-index: -1;
    }
  
    /* === SHADES ON MOBILE === */
    .shade-container {
      flex-direction: row;
      padding-top: 0;
    }
  
    .shade-step:first-child {
      padding-top: 0;
    }
  
    .shade-step {
      height: 100%;
      width: auto;
    }
  
    .shade-step:active {
      transform: scale(1.2);
      z-index: 10;
      border-radius: var(--radius-sm);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }
  
    .shade-close-btn {
      display: flex;
      position: absolute;
      top: 10%;
      left: var(--space-2);
      right: auto;
      border-radius: var(--radius-xl);
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.05);
      z-index: 60;
    }
  
    .column-remove-btn {
      display: flex;
      position: absolute;
      top: 10%;
      right: var(--space-2);
      opacity: 1;
      border-radius: var(--radius-xl);
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.05);
      z-index: 60;
    }
  
    .column-remove-btn:active {
      background: rgba(0, 0, 0, 0.15);
    }
  }

--- START OF FILE: src/colorGenerator/ColorGenerator.jsx ---

import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';
import { Helmet } from 'react-helmet-async';
import {
  Plus,
  X,
  Copy,
  Lock,
  Unlock,
  ArrowLeftRight,
  ArrowDownUp,
  SwatchBook,
  Check,
  Undo2,
  Redo2,
  Sparkles,
  Eye,
  Clock,
  Upload,
  Bookmark,
} from 'lucide-react';

import Header from '../header/Header';
import MethodPanel from './MethodPanel';
import AccessibilityPanel from './AccessibilityPanel';
import HistoryPanel from './HistoryPanel';
import ExportPanel from './ExportPanel';
import BookmarkPanel from './BookmarkPanel';
import './ColorGenerator.css';
import { trackEvent } from '../utils/analytics';

import {
  generateRandomPalette,
  getContrastColor,
  generateBridgeColor,
  simulateColorBlindness,
  generateShades,
  generateRichSEO,
  hexToHsl,
} from '../utils/colorUtils';

// Constants
const MAX_HISTORY = 50;
const MAX_COLORS = 8;
const MIN_COL_PX = 128;
const MOBILE_BREAKPOINT = 768;
const MOBILE_SHADE_COUNT = 6;
const DESKTOP_SHADE_COUNT = 20;

// Helpers
const generateId = () => Math.random().toString(36).substring(2, 11);

const createColorObjects = (hexArray) =>
  hexArray.map((hex) => ({
    id: generateId(),
    hex,
    locked: false,
  }));

const isMobileView = () => window.innerWidth <= MOBILE_BREAKPOINT;

const getMaxOpenPanels = () => (isMobileView() ? 1 : 3);

const hexToRgb = (hex) => ({
  r: parseInt(hex.slice(1, 3), 16),
  g: parseInt(hex.slice(3, 5), 16),
  b: parseInt(hex.slice(5, 7), 16),
});

const formatContentSections = (content) => {
  if (!content) return [];
  return content.split('\n\n').map((section, index) => {
    const colonIndex = section.indexOf(':');
    if (colonIndex > 0 && colonIndex < 50) {
      return {
        id: index,
        title: section.substring(0, colonIndex).trim(),
        body: section.substring(colonIndex + 1).trim(),
        hasTitle: true,
      };
    }
    return { id: index, title: '', body: section, hasTitle: false };
  });
};

function ColorGenerator() {
  // Refs
  const containerRef = useRef(null);
  const colorsAreaRef = useRef(null);

  // Layout State
  const [stackColors, setStackColors] = useState(false);

  const isVerticalLayout = useCallback(
    () => isMobileView() || stackColors,
    [stackColors]
  );

  const DragIcon = isVerticalLayout() ? ArrowDownUp : ArrowLeftRight;

  // History State
  const [history, setHistory] = useState(() => [
    { 
      colors: createColorObjects(generateRandomPalette()), 
      visionMode: 'normal' 
    },
  ]);
  const [historyIndex, setHistoryIndex] = useState(0);

  // FIX 1: Create a ref to track the live history index
  const historyIndexRef = useRef(historyIndex);

  // FIX 2: Keep the ref synced with state
  useEffect(() => {
    historyIndexRef.current = historyIndex;
  }, [historyIndex]);

  // Panel State
  const [openPanels, setOpenPanels] = useState([]);

  // Generation Settings
  const [generationMode, setGenerationMode] = useState('auto');
  const [constraints, setConstraints] = useState({
    mood: 'any',
    minContrast: 1.5,
    darkModeFriendly: false,
  });

  // Accessibility
  const [colorBlindMode, setColorBlindMode] = useState('normal');

  // Core Data
  const currentEntry = history[historyIndex] || history[history.length - 1];
  const colors = currentEntry ? (Array.isArray(currentEntry) ? currentEntry : currentEntry.colors) : [];

  // UI State
  const [newColorId, setNewColorId] = useState(null);
  const [removingId, setRemovingId] = useState(null);
  const [copiedId, setCopiedId] = useState(null);
  const [activeShadeId, setActiveShadeId] = useState(null);
  const [editingId, setEditingId] = useState(null); // ID of the color being edited
  const [editValue, setEditValue] = useState('');   // Temporary value of the input

  // Drag State
  const [dragState, setDragState] = useState(null);
  const [isSnapping, setIsSnapping] = useState(false);

  // Computed Values
  const canUndo = historyIndex > 0;
  const canRedo = historyIndex < history.length - 1;
  const canAddMoreColors = colors.length < MAX_COLORS;

  // Panel Helpers
  const isPanelOpen = (name) => openPanels.includes(name);
  const isMethodOpen = isPanelOpen('method');
  const isA11yOpen = isPanelOpen('a11y');
  const isHistoryOpen = isPanelOpen('history');
  const isExportOpen = isPanelOpen('export');
  const isBookmarkOpen = isPanelOpen('bookmark');

  const togglePanel = (panelName) => {
    setOpenPanels((prev) => {
      if (prev.includes(panelName)) {
        return prev.filter((p) => p !== panelName);
      }
      const maxPanels = getMaxOpenPanels();
      let newPanels = [...prev, panelName];
      if (newPanels.length > maxPanels) {
        newPanels = newPanels.slice(-maxPanels);
      }
      return newPanels;
    });
  };

  const closePanel = (panelName) => {
    setOpenPanels((prev) => prev.filter((p) => p !== panelName));
  };

  // URL Helpers
  const getCurrentUrl = useCallback(() => {
    if (typeof window === 'undefined') return '';
    const hexPath = colors.map(c => c.hex.replace('#', '')).join('-');
    return `${window.location.origin}/${hexPath}`;
  }, [colors]);

  const getShareUrl = useCallback(() => {
    const hexes = colors.map((c) => c.hex.replace('#', '')).join('-');
    const params = new URLSearchParams();

    if (generationMode !== 'auto') params.set('mode', generationMode);
    if (constraints.mood !== 'any') params.set('mood', constraints.mood);
    if (constraints.minContrast !== 1.5) params.set('contrast', constraints.minContrast.toString());
    if (constraints.darkModeFriendly) params.set('dark', '1');
    if (colorBlindMode !== 'normal') params.set('vision', colorBlindMode);

    const queryString = params.toString();
    return `${window.location.origin}/${hexes}${queryString ? '?' + queryString : ''}`;
  }, [colors, generationMode, constraints, colorBlindMode]);

  // History Management
  const updateColors = useCallback(
    (newColors) => {
      setHistory((prev) => {
        const currentIndex = historyIndexRef.current;
        const newHistory = prev.slice(0, currentIndex + 1);
        
        // NEW: Store as an object so HistoryPanel can see the vision mode
        newHistory.push({
          colors: newColors,
          visionMode: colorBlindMode // This captures the current state
        });
        
        if (newHistory.length > MAX_HISTORY) {
          newHistory.shift();
          return newHistory;
        }
        return newHistory;
      });
      setHistoryIndex((prev) => {
        const nextIndex = prev + 1;
        return nextIndex >= MAX_HISTORY ? MAX_HISTORY - 1 : nextIndex;
      });
    },
    [historyIndex, colorBlindMode] // Added colorBlindMode to dependencies
  );

  const undo = useCallback(() => {
    if (canUndo) {
      trackEvent('palette_undo');
      setHistoryIndex((prev) => prev - 1);
    }
  }, [canUndo]);

  const redo = useCallback(() => {
    if (canRedo) {
      trackEvent('palette_redo');
      setHistoryIndex((prev) => prev + 1);
    }
  }, [canRedo]);

  const goToHistoryIndex = useCallback(
    (index) => {
      if (index >= 0 && index < history.length) {
        setHistoryIndex(index);
      }
    },
    [history.length]
  );

  // Palette Generation
  const generatePalette = useCallback(
    (count = 5) => {
      const lockedColors = colors.filter((c) => c.locked);
      const unlockedCount = count - lockedColors.length;

      if (unlockedCount <= 0) return;

      // FIX: Calculate a "seed" from the locked colors
      let generationConstraints = { ...constraints };
      
      if (lockedColors.length > 0) {
        // Use the first locked color as the anchor for harmony
        // (You could also average them, but using the first is safer)
        const lockedHsl = hexToHsl(lockedColors[0].hex);
        generationConstraints.baseHue = lockedHsl.h;
      }

      // Pass the updated constraints
      const newPalette = generateRandomPalette(generationMode, unlockedCount, generationConstraints);
      
      const newColors = newPalette.map((hex) => ({
        id: generateId(),
        hex,
        locked: false,
      }));

      if (lockedColors.length === 0) {
        updateColors(newColors);
        return;
      }

      const result = [];
      let newIndex = 0;
      colors.forEach((c) => {
        if (c.locked) {
          result.push({ ...c });
        } else if (newIndex < newColors.length) {
          result.push(newColors[newIndex]);
          newIndex++;
        }
      });
      while (newIndex < newColors.length) {
        result.push(newColors[newIndex]);
        newIndex++;
      }

      updateColors(result);
      setNewColorId(null);
    },
    [colors, generationMode, constraints, updateColors]
  );

  // Color Actions
  const addColorAtIndex = (index) => {
    trackEvent('add_color', { current_count: colors.length });
    if (!canAddMoreColors) return;

    const colorBefore = colors[index].hex;
    const colorAfter = colors[index + 1].hex;
    const newHex = generateBridgeColor(colorBefore, colorAfter);
    const newId = generateId();

    const newColors = [
      ...colors.slice(0, index + 1),
      { id: newId, hex: newHex, locked: false },
      ...colors.slice(index + 1),
    ];

    updateColors(newColors);
    setNewColorId(newId);
    setTimeout(() => setNewColorId(null), 600);
  };

  const removeColor = (id) => {
    trackEvent('remove_color', { current_count: colors.length });
    if (colors.length <= 2) return;

    setRemovingId(id);
    setTimeout(() => {
      updateColors(colors.filter((c) => c.id !== id));
      setRemovingId(null);
    }, 350);
  };

  const toggleLock = (id) => {
    const isLocking = !colors.find(c => c.id === id).locked;
    trackEvent('toggle_lock', { action: isLocking ? 'lock' : 'unlock' });
    updateColors(colors.map((c) => (c.id === id ? { ...c, locked: !c.locked } : c)));
  };

  const copyHex = async (id, hex) => {
    try {
      await navigator.clipboard.writeText(hex);
      setCopiedId(id);
      setTimeout(() => setCopiedId(null), 1500);
    } catch (err) {
      console.error('Failed to copy:', err);
    }
  };

  // --- Hex Editing Handlers ---

  const handleHexClick = (id, currentHex, e) => {
    e.stopPropagation(); // Prevent dragging or other card clicks
    setEditingId(id);
    setEditValue(currentHex.replace('#', '')); // Show without hash for easier typing
  };

  const commitHexChange = (id) => {
    if (!editValue) {
      setEditingId(null);
      return;
    }

    // Validate Hex (allow 3 or 6 chars)
    const validHexPattern = /^([0-9A-F]{3}){1,2}$/i;
    let cleanHex = editValue.replace(/[^0-9A-F]/gi, '').toUpperCase();

    if (validHexPattern.test(cleanHex)) {
      // Expand 3-char hex to 6-char
      if (cleanHex.length === 3) {
        cleanHex = cleanHex.split('').map(char => char + char).join('');
      }
      
      const newFullHex = `#${cleanHex}`;
      
      // Update state: Set new hex AND lock the color
      updateColors(colors.map(c => {
        if (c.id === id) {
          return { ...c, hex: newFullHex, locked: true }; // Lock it!
        }
        return c;
      }));
    } 
    
    // Reset editing state
    setEditingId(null);
    setEditValue('');
  };

  const handleHexKeyDown = (e, id) => {
    if (e.key === 'Enter') {
      e.preventDefault();
      commitHexChange(id);
    } else if (e.key === 'Escape') {
      // Cancel editing
      setEditingId(null);
      setEditValue('');
    }
  };

  // Shade Picker
  const toggleShadePicker = (id) => {
    setActiveShadeId((prev) => (prev === id ? null : id));
  };

  const pickShade = (originalId, newHex) => {
    trackEvent('pick_shade_variation');
    updateColors(colors.map((c) => (c.id === originalId ? { ...c, hex: newHex } : c)));
    setActiveShadeId(null);
  };

  const handleMouseLeave = () => {
    if (window.innerWidth > MOBILE_BREAKPOINT) {
      setActiveShadeId(null);
    }
  };

  // Click Outside Handler for Shade Picker
  useEffect(() => {
    if (!activeShadeId) return;

    const handleClickOutside = (e) => {
      if (e.target.closest('.shade-container')) return;
      setActiveShadeId(null);
    };

    window.addEventListener('mousedown', handleClickOutside);
    window.addEventListener('touchstart', handleClickOutside);

    return () => {
      window.removeEventListener('mousedown', handleClickOutside);
      window.removeEventListener('touchstart', handleClickOutside);
    };
  }, [activeShadeId]);

  // Constants - add this new one
const HEADER_OFFSET = 100; // Height reserved for floating header in stacked mode


// Updated getColumnSize function
const getColumnSize = useCallback(() => {
  if (!containerRef.current) return 0;

  const vertical = isVerticalLayout();
  const isMobile = isMobileView();

  if (vertical) {
    const colorsArea = colorsAreaRef.current;
    if (!colorsArea) return 0;

    const areaHeight = colorsArea.offsetHeight;

    // On desktop stacked mode, the first color has extra padding for the header
    // We need to calculate the "uniform" size for drag calculations
    if (stackColors && !isMobile && colors.length > 0) {
      // Subtract the header offset from total height, then divide evenly
      const effectiveHeight = areaHeight - HEADER_OFFSET;
      return effectiveHeight / colors.length;
    }

    // Mobile - all colors are uniform
    return areaHeight / colors.length;
  } else {
    // Horizontal mode
    let panelWidth = 0;
    if (isMethodOpen) panelWidth += 240;
    if (isA11yOpen) panelWidth += 280;
    if (isHistoryOpen) panelWidth += 260;
    if (isExportOpen) panelWidth += 320;
    if (isBookmarkOpen) panelWidth += 280;

    const availableWidth = containerRef.current.offsetWidth - panelWidth;
    return availableWidth / colors.length;
  }
}, [
  colors.length,
  isMethodOpen,
  isA11yOpen,
  isHistoryOpen,
  isExportOpen,
  isBookmarkOpen,
  isVerticalLayout,
  stackColors,
]);

// Updated handleDragStart to account for header offset
const handleDragStart = (e, id, index) => {
  if (e.type === 'touchstart') e.preventDefault();

  const columnSize = getColumnSize();
  const vertical = isVerticalLayout();
  const isMobile = isMobileView();

  let clientPos;
  if (e.type === 'touchstart') {
    clientPos = vertical ? e.touches[0].clientY : e.touches[0].clientX;
  } else {
    e.preventDefault();
    clientPos = vertical ? e.clientY : e.clientX;
  }

  // In desktop stacked mode, adjust startPos to account for header offset
  // This makes the drag math work correctly
  let adjustedStartPos = clientPos;
  if (stackColors && !isMobile && vertical) {
    // The first color starts after the header offset
    // Normalize the position as if all colors were uniform from the top
    const colorsArea = colorsAreaRef.current;
    if (colorsArea) {
      const areaRect = colorsArea.getBoundingClientRect();
      const relativePos = clientPos - areaRect.top - HEADER_OFFSET;
      adjustedStartPos = areaRect.top + relativePos;
    }
  }

  setDragState({
    id,
    startIndex: index,
    currentIndex: index,
    startPos: adjustedStartPos,
    currentPos: adjustedStartPos,
    columnSize,
    isMobile: vertical,
    isDesktopStacked: stackColors && !isMobile && vertical,
    areaTop: colorsAreaRef.current?.getBoundingClientRect().top || 0,
  });
};

// Updated handleMouseMove to handle desktop stacked mode correctly
const handleMouseMove = useCallback(
  (e) => {
    if (!dragState || isSnapping) return;

    const { startIndex, columnSize, isMobile, isDesktopStacked, areaTop } = dragState;

    let clientPos;
    if (e.type === 'touchmove') {
      clientPos = isMobile ? e.touches[0].clientY : e.touches[0].clientX;
    } else {
      clientPos = isMobile ? e.clientY : e.clientX;
    }

    // Adjust position for desktop stacked mode
    let adjustedCurrentPos = clientPos;
    if (isDesktopStacked) {
      const relativePos = clientPos - areaTop - HEADER_OFFSET;
      adjustedCurrentPos = areaTop + relativePos;
    }

    let delta = adjustedCurrentPos - dragState.startPos;

    // Clamp delta to valid range
    const maxNegativeOffset = -startIndex * columnSize;
    const maxPositiveOffset = (colors.length - 1 - startIndex) * columnSize;
    delta = Math.max(maxNegativeOffset, Math.min(maxPositiveOffset, delta));

    const indexOffset = Math.round(delta / columnSize);
    const newIndex = Math.max(0, Math.min(colors.length - 1, startIndex + indexOffset));

    setDragState((prev) => ({
      ...prev,
      currentPos: adjustedCurrentPos,
      currentIndex: newIndex,
    }));
  },
  [dragState, isSnapping, colors.length]
);

  const handleMouseUp = useCallback(() => {
    if (!dragState) return;

    const { startIndex, currentIndex } = dragState;
    setIsSnapping(true);

    setTimeout(() => {
      if (startIndex !== currentIndex) {
        const newColors = [...colors];
        const [removed] = newColors.splice(startIndex, 1);
        newColors.splice(currentIndex, 0, removed);
        updateColors(newColors);
      }
      setDragState(null);
      setIsSnapping(false);
    }, 250);
  }, [dragState, colors, updateColors]);

  // Drag Event Listeners
  useEffect(() => {
    if (!dragState) return;

    const handleMove = (e) => {
      if (e.type === 'touchmove') e.preventDefault();
      handleMouseMove(e);
    };

    const handleEnd = () => handleMouseUp();

    window.addEventListener('mousemove', handleMove);
    window.addEventListener('mouseup', handleEnd);
    window.addEventListener('touchmove', handleMove, { passive: false });
    window.addEventListener('touchend', handleEnd);
    window.addEventListener('touchcancel', handleEnd);

    document.body.style.cursor = 'grabbing';
    document.body.style.overflow = 'hidden';

    return () => {
      window.removeEventListener('mousemove', handleMove);
      window.removeEventListener('mouseup', handleEnd);
      window.removeEventListener('touchmove', handleMove);
      window.removeEventListener('touchend', handleEnd);
      window.removeEventListener('touchcancel', handleEnd);
      document.body.style.cursor = '';
      document.body.style.overflow = '';
    };
  }, [dragState, handleMouseMove, handleMouseUp]);

// Updated getColumnStyle to handle desktop stacked mode
const getColumnStyle = (index, id) => {
  if (!dragState) return {};

  const { startIndex, currentIndex, startPos, currentPos, columnSize, isMobile, isDesktopStacked } =
    dragState;
  const isDragged = id === dragState.id;
  const transformProp = isMobile ? 'translateY' : 'translateX';

  if (isDragged) {
    if (isSnapping) {
      const snapOffset = (currentIndex - startIndex) * columnSize;
      return {
        transform: `${transformProp}(${snapOffset}px)`,
        zIndex: 100,
        transition: 'transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1)',
      };
    }

    const offset = currentPos - startPos;
    return {
      transform: `${transformProp}(${offset}px)`,
      zIndex: 100,
      transition: 'none',
    };
  }

  // Calculate shift for non-dragged items
  let shift = 0;
  if (startIndex < currentIndex && index > startIndex && index <= currentIndex) {
    shift = -1;
  }
  if (startIndex > currentIndex && index >= currentIndex && index < startIndex) {
    shift = 1;
  }

  return {
    transform: shift !== 0 ? `${transformProp}(${shift * columnSize}px)` : `${transformProp}(0)`,
    transition: 'transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1)',
  };
};

// Updated layout detection - ensure mobile always works correctly
useEffect(() => {
  const el = colorsAreaRef.current;
  if (!el) return;

  const update = () => {
    // On mobile, don't use stackColors - CSS handles the layout
    // stackColors is ONLY for desktop narrow-width scenarios
    if (isMobileView()) {
      setStackColors(false);
      return;
    }

    const w = el.getBoundingClientRect().width;
    const perCol = w / Math.max(1, colors.length);
    setStackColors(perCol < MIN_COL_PX);
  };

  update();

  let ro;
  if (typeof ResizeObserver !== 'undefined') {
    ro = new ResizeObserver(update);
    ro.observe(el);
  } else {
    window.addEventListener('resize', update);
  }

  return () => {
    if (ro) ro.disconnect();
    else window.removeEventListener('resize', update);
  };
}, [colors.length]);

  // URL Parsing on Mount
  useEffect(() => {
    const parseUrlState = () => {
      const path = window.location.pathname.slice(1);
      const params = new URLSearchParams(window.location.search);

      if (path === 'home') return;

      const navEntries = performance.getEntriesByType('navigation');
      const isReload = navEntries.length > 0 && navEntries[0].type === 'reload';
      const wasAlreadyHere = sessionStorage.getItem('ccolorpalette_session');

      if (isReload || wasAlreadyHere) {
        window.history.replaceState({}, '', '/');
        sessionStorage.setItem('ccolorpalette_session', 'true');
        return;
      }

      sessionStorage.setItem('ccolorpalette_session', 'true');

      if (path && path.length > 0) {
        const hexCodes = path
          .split('-')
          .map((h) => {
            const cleaned = h.toUpperCase().replace(/[^0-9A-F]/g, '');
            return cleaned.length === 6 ? `#${cleaned}` : null;
          })
          .filter(Boolean);

        if (hexCodes.length >= 2) {
          const initialColors = hexCodes.map((hex) => ({
            id: generateId(),
            hex,
            locked: false,
          }));
          setHistory([initialColors]);
          setHistoryIndex(0);
        }
      }

      // Parse query params
      const mode = params.get('mode');
      const mood = params.get('mood');
      const contrast = parseFloat(params.get('contrast'));
      const dark = params.get('dark');
      const vision = params.get('vision');

      if (['auto', 'mono', 'analogous', 'complementary', 'splitComplementary', 'triadic'].includes(mode)) {
        setGenerationMode(mode);
      }
      if (['any', 'muted', 'pastel', 'vibrant', 'dark'].includes(mood)) {
        setConstraints((prev) => ({ ...prev, mood }));
      }
      if (!isNaN(contrast) && contrast >= 1 && contrast <= 4.5) {
        setConstraints((prev) => ({ ...prev, minContrast: contrast }));
      }
      if (dark === '1') {
        setConstraints((prev) => ({ ...prev, darkModeFriendly: true }));
      }
      if (['normal', 'protanopia', 'deuteranopia', 'tritanopia', 'achromatopsia'].includes(vision)) {
        setColorBlindMode(vision);
      }
    };

    parseUrlState();
  }, []);

  // Update URL on State Change
  useEffect(() => {
    const hexes = colors.map((c) => c.hex.replace('#', '')).join('-');
    const params = new URLSearchParams();

    if (generationMode !== 'auto') params.set('mode', generationMode);
    if (constraints.mood !== 'any') params.set('mood', constraints.mood);
    if (constraints.minContrast !== 1.5) params.set('contrast', constraints.minContrast.toString());
    if (constraints.darkModeFriendly) params.set('dark', '1');
    if (colorBlindMode !== 'normal') params.set('vision', colorBlindMode);

    const queryString = params.toString();
    window.history.replaceState({}, '', `/${hexes}${queryString ? '?' + queryString : ''}`);
  }, [colors, generationMode, constraints, colorBlindMode]);

  // Expose API
  useEffect(() => {
    window.chromaAPI = {
      undo,
      redo,
      canUndo: () => canUndo,
      canRedo: () => canRedo,
      getShareUrl,
    };
  }, [undo, redo, canUndo, canRedo, getShareUrl]);

  // Keyboard Shortcuts
  useEffect(() => {
    const handleKeyDown = (e) => {
      if (e.code === 'Space') {
        if (document.activeElement instanceof HTMLButtonElement) {
          document.activeElement.blur();
        }
        e.preventDefault();
        generatePalette(colors.length);
        return;
      }

      if ((e.ctrlKey || e.metaKey) && e.key === 'z' && !e.shiftKey) {
        e.preventDefault();
        undo();
      }
      if ((e.ctrlKey || e.metaKey) && (e.key === 'y' || (e.key === 'z' && e.shiftKey))) {
        e.preventDefault();
        redo();
      }
      if (e.key === 'Escape') {
        setOpenPanels([]);
      }
    };

    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [undo, redo, colors.length, generatePalette]);

  // Color Display
  const getDisplayColor = (hex) => {
    if (colorBlindMode === 'normal') return hex;
    return simulateColorBlindness(hex, colorBlindMode);
  };

  // SEO Data
  const currentHexes = useMemo(() => colors.map((c) => c.hex), [colors]);
  const seoData = useMemo(
    () => generateRichSEO(currentHexes, generationMode, constraints.mood),
    [currentHexes, generationMode, constraints.mood]
  );

  const currentCanonical = useMemo(() => {
    if (typeof window === 'undefined') return '';
    const hexPath = colors.map(c => c.hex.replace('#', '')).join('-');
    return `${window.location.origin}/${hexPath}`;
  }, [colors]);
  const contentSections = useMemo(() => formatContentSections(seoData.content), [seoData.content]);

  const ogImageUrl = useMemo(() => {
    if (typeof window === 'undefined') return 'https://ccolorpalette.com/og-image.png'; // Fallback
    const hexPath = colors.map(c => c.hex.replace('#', '')).join('-');
    // Point to the Netlify function
    return `${window.location.origin}/.netlify/functions/og-image?colors=${hexPath}`;
  }, [colors]);

  const structuredData = useMemo(() => {
    const colorItems = colors.map((c, index) => {
      const rgb = hexToRgb(c.hex);
      const hsl = hexToHsl(c.hex);
      return {
        '@type': 'Thing',
        name: `Color ${index + 1}`,
        description: `${c.hex} - RGB(${rgb.r}, ${rgb.g}, ${rgb.b}) - HSL(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`,
        identifier: c.hex,
      };
    });

    return {
      '@context': 'https://schema.org',
      '@type': 'CreativeWork',
      name: seoData.title,
      description: seoData.meta,
      url: currentCanonical,
      creator: { '@type': 'Organization', name: 'CcolorPalette' },
      keywords: seoData.keywords?.join(', ') || '',
      about: colorItems,
      additionalProperty: seoData.traits
        ? [
            { '@type': 'PropertyValue', name: 'Color Harmony', value: seoData.traits.harmony },
            { '@type': 'PropertyValue', name: 'Color Temperature', value: seoData.traits.temperature },
            { '@type': 'PropertyValue', name: 'Saturation Level', value: seoData.traits.saturation },
            { '@type': 'PropertyValue', name: 'Primary Hue', value: seoData.traits.primaryHue },
            { '@type': 'PropertyValue', name: 'Accessibility Score', value: seoData.traits.accessibilityScore },
          ]
        : [],
    };
  }, [colors, seoData, currentCanonical]);

  return (
    <div className="app-wrapper">
      <Helmet>
        <title>{seoData.title} | CcolorPalette</title>
        <meta name="description" content={seoData.meta} />
        <link rel="canonical" href={currentCanonical} />
        {seoData.keywords?.length > 0 && (
          <meta name="keywords" content={seoData.keywords.slice(0, 10).join(', ')} />
        )}
        <meta property="og:image" content={ogImageUrl} />
        <meta property="og:description" content={seoData.meta} />
        <meta property="og:url" content={currentCanonical} />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="CcolorPalette" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:image" content={ogImageUrl} />
        <meta name="twitter:title" content={seoData.title} />
        <meta name="twitter:description" content={seoData.meta} />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        <meta name="robots" content="index, follow" />
        <meta name="author" content="CcolorPalette" />
        <script type="application/ld+json">{JSON.stringify(structuredData)}</script>
      </Helmet>

      <div className="page-section visible">
        <Header
          canUndo={canUndo}
          canRedo={canRedo}
          onUndo={undo}
          onRedo={redo}
          onToggleMethod={() => togglePanel('method')}
          isMethodOpen={isMethodOpen}
          onToggleA11y={() => togglePanel('a11y')}
          isA11yOpen={isA11yOpen}
          onToggleHistory={() => togglePanel('history')}
          isHistoryOpen={isHistoryOpen}
          onToggleExport={() => togglePanel('export')}
          isExportOpen={isExportOpen}
          onToggleBookmark={() => togglePanel('bookmark')}
          isBookmarkOpen={isBookmarkOpen}
          logoColors={colors}
          onLogoClick={() => generatePalette(colors.length)}
        />

        <main className="generator-container" ref={containerRef}>
          {/* Mobile Header */}
          <div className="mobile-header">
            <button className="mobile-hint" onClick={() => generatePalette(colors.length)}>
              Tap to generate
            </button>

            <div className="mobile-actions">
              <button
                className={`mobile-icon-btn ${!canUndo ? 'disabled' : ''}`}
                onClick={undo}
                disabled={!canUndo}
              >
                <Undo2 size={18} />
              </button>
              <button
                className={`mobile-icon-btn ${!canRedo ? 'disabled' : ''}`}
                onClick={redo}
                disabled={!canRedo}
              >
                <Redo2 size={18} />
              </button>

              <div className="mobile-separator" />

              <button
                className={`mobile-icon-btn ${isMethodOpen ? 'active' : ''}`}
                onClick={() => togglePanel('method')}
              >
                <Sparkles size={18} />
              </button>
              <button
                className={`mobile-icon-btn ${isA11yOpen ? 'active' : ''}`}
                onClick={() => togglePanel('a11y')}
              >
                <Eye size={18} />
              </button>
              <button
                className={`mobile-icon-btn ${isHistoryOpen ? 'active' : ''}`}
                onClick={() => togglePanel('history')}
              >
                <Clock size={18} />
              </button>
              <button
                className={`mobile-icon-btn ${isExportOpen ? 'active' : ''}`}
                onClick={() => togglePanel('export')}
              >
                <Upload size={18} />
              </button>
            </div>
          </div>

          {/* Colors Area */}
          <section
            ref={colorsAreaRef}
            className={`colors-area ${stackColors ? 'stacked' : ''}`}
          >
            {colors.map((color, index) => {
              const displayHex = getDisplayColor(color.hex);
              const textColor = getContrastColor(displayHex);
              const isNew = color.id === newColorId;
              const isRemoving = color.id === removingId;
              const isCopied = copiedId === color.id;
              const isDragging = dragState?.id === color.id;
              const isShadePicking = activeShadeId === color.id;
              const columnStyle = getColumnStyle(index, color.id);

              return (
                <React.Fragment key={color.id}>
                  <div
                    className={`color-column ${isNew ? 'color-entering' : ''} ${isRemoving ? 'color-removing' : ''} ${isDragging ? 'is-dragging' : ''} ${dragState && !isDragging ? 'is-shifting' : ''}`}
                    style={{ backgroundColor: displayHex, ...columnStyle }}
                  >
                    {isShadePicking ? (
                      <div className="shade-container" onMouseLeave={handleMouseLeave}>
                        {generateShades(color.hex, isMobileView() ? MOBILE_SHADE_COUNT : DESKTOP_SHADE_COUNT).map(
                          (shadeHex) => (
                            <button
                              key={shadeHex}
                              className="shade-step"
                              style={{ backgroundColor: shadeHex }}
                              onClick={(e) => {
                                e.stopPropagation();
                                pickShade(color.id, shadeHex);
                              }}
                              title={shadeHex}
                            />
                          )
                        )}
                        <button
                          className="shade-close-btn"
                          onClick={(e) => {
                            e.stopPropagation();
                            toggleShadePicker(null);
                          }}
                        >
                          <X size={20} />
                        </button>
                      </div>
                    ) : (
                      <>
                        <div className="color-toolbar" style={{ color: textColor }}>
                          {colors.length > 2 && (
                            <button
                              className="toolbar-btn"
                              onClick={(e) => {
                                e.stopPropagation();
                                removeColor(color.id);
                                e.currentTarget.blur();
                              }}
                              title="Remove"
                              style={{ color: textColor }}
                            >
                              <X size={20} />
                            </button>
                          )}

                          <button
                            className="toolbar-btn"
                            onClick={(e) => {
                              e.stopPropagation();
                              copyHex(color.id, color.hex);
                              e.currentTarget.blur();
                            }}
                            title="Copy hex"
                            style={{ color: textColor }}
                          >
                            {isCopied ? <Check size={20} /> : <Copy size={20} />}
                          </button>

                          <button
                            className={`toolbar-btn ${color.locked ? 'active' : ''}`}
                            onClick={(e) => {
                              e.stopPropagation();
                              toggleLock(color.id);
                              e.currentTarget.blur();
                            }}
                            title={color.locked ? 'Unlock' : 'Lock'}
                            style={{ color: textColor }}
                          >
                            {color.locked ? <Lock size={20} /> : <Unlock size={20} />}
                          </button>

                          <button
                            className={`toolbar-btn ${isShadePicking ? 'active' : ''}`}
                            title="Adjust shade"
                            onClick={(e) => {
                              e.stopPropagation();
                              toggleShadePicker(color.id);
                              e.currentTarget.blur();
                            }}
                            style={{ color: textColor }}
                          >
                            <SwatchBook size={20} />
                          </button>

                          <div
                            className="toolbar-btn drag-handle"
                            title="Drag to reorder"
                            style={{ color: textColor }}
                            onMouseDown={(e) => handleDragStart(e, color.id, index)}
                            onTouchStart={(e) => handleDragStart(e, color.id, index)}
                          >
                            <DragIcon size={20} />
                          </div>
                        </div>

                        <div className="color-content">
                          {editingId === color.id ? (
                            <div className="hex-input-wrapper">
                                <input
                                  autoFocus
                                  className="hex-input"
                                  style={{ color: textColor }}
                                  value={editValue}
                                  onChange={(e) => {
                                    // 1. Strip the '#' and any non-hex characters immediately
                                    let val = e.target.value.replace(/[^0-9A-F]/gi, '').toUpperCase();
                                    
                                    // 2. Limit to 6 characters so it doesn't overflow
                                    if (val.length > 6) val = val.slice(0, 6);
                                    
                                    setEditValue(val);
                                  }}
                                  onBlur={() => commitHexChange(color.id)}
                                  onKeyDown={(e) => handleHexKeyDown(e, color.id)}
                                  onClick={(e) => e.stopPropagation()}
                                />
                            </div>
                          ) : (
                            <h2
                              className={`color-hex ${isCopied ? 'copied' : ''}`}
                              style={{ color: textColor }}
                              onClick={(e) => handleHexClick(color.id, color.hex, e)}
                              title="Click to edit"
                            >
                              {isCopied ? 'Copied!' : color.hex.replace('#', '')}
                            </h2>
                          )}
                        </div>

                        {color.locked && (
                          <div className="lock-indicator" style={{ color: textColor }}>
                            <Lock size={16} />
                          </div>
                        )}
                      </>
                    )}
                  </div>

                  {index < colors.length - 1 && !dragState && canAddMoreColors && (
                    <div className="addColor">
                      <button
                        className="addBtn"
                        onClick={(e) => {
                          addColorAtIndex(index);
                          e.currentTarget.blur();
                        }}
                        aria-label="Add color"
                      >
                        <Plus size={24} strokeWidth={2.5} color="#161616" />
                      </button>
                    </div>
                  )}
                </React.Fragment>
              );
            })}
          </section>

          {/* Panels */}
          <MethodPanel
            isOpen={isMethodOpen}
            onClose={() => closePanel('method')}
            value={generationMode}
            onChange={setGenerationMode}
            constraints={constraints}
            onConstraintsChange={setConstraints}
          />

          <AccessibilityPanel
            isOpen={isA11yOpen}
            onClose={() => closePanel('a11y')}
            colors={colors}
            colorBlindMode={colorBlindMode}
            onColorBlindModeChange={setColorBlindMode}
          />

          <HistoryPanel
            isOpen={isHistoryOpen}
            onClose={() => closePanel('history')}
            history={history}
            currentIndex={historyIndex}
            onSelectPalette={goToHistoryIndex}
          />

          <ExportPanel
            isOpen={isExportOpen}
            onClose={() => closePanel('export')}
            colors={colors}
            generationMode={generationMode}
            constraints={constraints}
            colorBlindMode={colorBlindMode}
          />

          <BookmarkPanel
            isOpen={isBookmarkOpen}
            onClose={() => closePanel('bookmark')}
            currentUrl={getCurrentUrl()}
          />
        </main>
      </div>

      {/* SEO Footer */}
      <footer className="seo-content-footer">
        <div className="seo-content-wrapper">
          <h1 className="seo-main-title">{seoData.title}</h1>

          {seoData.traits && (
            <div className="seo-palette-summary">
              <span className="seo-trait">{seoData.traits.harmony} harmony</span>
              <span className="seo-trait-separator">|</span>
              <span className="seo-trait">{seoData.traits.temperature} temperature</span>
              <span className="seo-trait-separator">|</span>
              <span className="seo-trait">{seoData.traits.saturation} saturation</span>
              <span className="seo-trait-separator">|</span>
              <span className="seo-trait">{seoData.traits.accessibilityScore} accessibility</span>
            </div>
          )}

          
          <div className="seo-related-links">
            <h3 className="seo-section-title">Explore Related Palettes</h3>
            <div>
              {Array.from({ length: 6 }).map((_, i) => {
                // NEW: Use the first color of the CURRENT palette as a "seed"
                // This ensures this page always suggests similar "vibe" palettes
                const baseHex = colors[0].hex; 
                const randomHexes = generateRandomPalette('analogous', 5, { seed: baseHex + i })
                  .map((h) => h.replace('#', ''));
                  
                return (
                  <a key={i} href={`/${randomHexes.join('-')}`}>
                    {/* Use the traits to give the link a better name for SEO */}
                    Similar {seoData.traits?.temperature || 'Modern'} Palette {i + 1}
                  </a>
                );
              })}
            </div>
          </div>
          

          <div className="seo-color-reference">
            <h2 className="seo-section-title">Color Values</h2>
            <div className="seo-color-grid">
              {colors.map((c) => {
                const rgb = hexToRgb(c.hex);
                const hsl = hexToHsl(c.hex);
                return (
                  <div key={c.id} className="seo-color-item">
                    <div className="seo-color-swatch" style={{ backgroundColor: c.hex }} />
                    <div className="seo-color-values">
                      <span className="seo-hex">{c.hex}</span>
                      <span className="seo-rgb">RGB({rgb.r}, {rgb.g}, {rgb.b})</span>
                      <span className="seo-hsl">HSL({Math.round(hsl.h)}, {Math.round(hsl.s)}%, {Math.round(hsl.l)}%)</span>
                    </div>
                  </div>
                );
              })}
            </div>
          </div>

          <article className="seo-article">
            {contentSections.map((section) => (
              <section key={section.id} className="seo-section">
                {section.hasTitle && <h2 className="seo-section-title">{section.title}</h2>}
                <p className="seo-section-body">{section.body}</p>
              </section>
            ))}
          </article>

          {seoData.keywords?.length > 0 && (
            <div className="seo-keywords">
              <span className="seo-keywords-label">Related searches: </span>
              {seoData.keywords.slice(0, 8).map((keyword, index) => (
                <span key={index} className="seo-keyword">
                  {keyword}
                  {index < Math.min(seoData.keywords.length, 8) - 1 && ', '}
                </span>
              ))}
            </div>
          )}
        </div>
      </footer>
    </div>
  );
}

export default ColorGenerator;

--- START OF FILE: src/colorGenerator/ExportPanel.css ---

/* ============================================
   EXPORT PANEL
   ============================================ */

   .export-column {
    flex: 0 0 0px;
    height: 100%;
    background: var(--color-bg-panel);
    overflow: hidden;
    transition: flex-basis var(--transition-panel);
    position: relative;
  }
  
  .export-column.open {
    flex: 0 0 var(--panel-width-xl);
  }
  
  .export-inner {
    width: var(--panel-width-xl);
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: var(--space-20);
  }
  
  .export-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) var(--space-4) var(--space-3);
    border-bottom: 1px solid var(--color-border-subtle);
  }
  
  .export-title {
    font-size: var(--font-base);
    font-weight: 600;
    color: var(--color-text-primary);
  }
  
  .export-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--space-8);
    height: var(--space-8);
    background: none;
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    color: var(--color-text-secondary);
    transition: background-color var(--transition-fast), 
                color var(--transition-fast),
                transform var(--transition-bounce);
  }
  
  .export-close:hover {
    background: var(--color-border-subtle);
    color: var(--color-text-primary);
    transform: scale(1.1);
  }
  
  .export-close:active {
    transform: scale(0.9);
  }
  
  .export-scroll {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: var(--space-4);
  }
  
  .export-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }
  
  .export-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: var(--space-5) var(--space-3);
    background: var(--color-bg-card);
    border: none;
    border-radius: var(--radius-2xl);
    cursor: pointer;
    transition: background-color var(--transition-fast),
                transform var(--transition-bounce), 
                box-shadow var(--transition-base);
  }
  
  .export-option:hover {
    background: var(--color-bg-card);
    transform: scale(1.03);
    box-shadow: var(--shadow-lg);
  }
  
  .export-option:active {
    transform: scale(0.97);
  }
  
  .export-option.copied {
    background: var(--color-text-primary);
  }
  
  .export-option.copied .export-option-icon,
  .export-option.copied .export-option-label {
    color: var(--color-text-white);
  }
  
  .export-option-icon {
    color: var(--color-text-primary);
    transition: color var(--transition-fast);
  }
  
  .export-option-label {
    font-size: var(--font-sm);
    font-weight: 500;
    color: var(--color-text-primary);
    transition: color var(--transition-fast);
  }
  
  /* === PREVIEW === */
  .export-preview {
    margin-top: var(--space-6);
    padding-top: var(--space-5);
    border-top: 1px solid var(--color-border-subtle);
  }
  
  .export-preview-label {
    display: block;
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-faint);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    margin-bottom: var(--space-3);
  }
  
  .export-preview-colors {
    display: flex;
    height: 60px;
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: var(--shadow-md);
  }
  
  .export-preview-color {
    flex: 1;
    transition: flex var(--transition-fast);
  }
  
  .export-preview-colors:hover .export-preview-color:hover {
    flex: 1.5;
  }
  
  .export-preview-hexes {
    display: flex;
    margin-top: var(--space-2);
  }
  
  .export-preview-hex {
    flex: 1;
    text-align: center;
    font-size: var(--font-xs);
    font-weight: 500;
    color: var(--color-text-secondary);
  }
  
  /* === SETTINGS TOGGLE === */
  .export-settings-toggle {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    width: 100%;
    padding: var(--space-3);
    margin-bottom: var(--space-4);
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    font-size: var(--font-xs);
    font-weight: 500;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
  }
  
  .export-settings-toggle:hover {
    background: #f5f5f5;
    color: var(--color-text-primary);
  }
  
  .export-settings-toggle.active {
    background: #f5f5f5;
    color: var(--color-text-primary);
    border-color: var(--color-text-primary);
  }
  
  .export-settings-toggle .chevron {
    margin-left: auto;
    transition: transform var(--transition-base);
  }
  
  .export-settings-toggle .chevron.open {
    transform: rotate(180deg);
  }
  
  /* === SETTINGS PANEL === */
  .export-settings {
    background: var(--color-bg-card);
    border-radius: var(--radius-xl);
    padding: var(--space-4);
    margin-bottom: var(--space-4);
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }
  
  .export-setting label {
    display: block;
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }
  
  .export-setting-options {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }
  
  .export-setting-preview {
    display: block;
    margin-top: var(--space-2);
    font-size: 11px;
    color: var(--color-text-faint);
  }
  
  /* === SCROLLBAR === */
  .export-scroll::-webkit-scrollbar {
    width: 4px;
  }
  
  .export-scroll::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .export-scroll::-webkit-scrollbar-thumb {
    background: #ddd;
    border-radius: 2px;
  }
  
  /* === MOBILE === */
  @media (max-width: 600px) {
    .export-column.open {
      flex: 0 0 var(--panel-width-md);
    }
  
    .export-inner {
      width: var(--panel-width-md);
    }
  
    .export-option {
      padding: var(--space-4) var(--space-3);
    }
  }

--- START OF FILE: src/colorGenerator/ExportPanel.jsx ---

import { useState, useMemo } from 'react';
import {
  X,
  Link,
  Code,
  FileCode,
  Image,
  Braces,
  Check,
  Wind,
  ChevronDown,
  Settings2,
} from 'lucide-react';
import { hexToHsl, simulateColorBlindness } from '../utils/colorUtils';
import '../styles/PanelStyles.css';
import './ExportPanel.css';
import { trackEvent } from '../utils/analytics';
import { submitToIndexNow } from '../utils/seo';

const PANEL_WIDTH = 320;

const NAMING_SCHEMES = {
  numbered: (i) => `color-${i + 1}`,
  semantic: (i) =>
    ['primary', 'secondary', 'tertiary', 'accent', 'highlight', 'muted', 'subtle', 'background', 'surface', 'border'][i] ||
    `color-${i + 1}`,
  palette: (i) =>
    ['base', 'light', 'dark', 'accent-1', 'accent-2', 'neutral-1', 'neutral-2', 'neutral-3', 'neutral-4', 'neutral-5'][i] ||
    `color-${i + 1}`,
};

const getContrastRatio = (hex1, hex2) => {
  const getLuminance = (hex) => {
    const r = parseInt(hex.slice(1, 3), 16) / 255;
    const g = parseInt(hex.slice(3, 5), 16) / 255;
    const b = parseInt(hex.slice(5, 7), 16) / 255;
    const toLinear = (c) =>
      c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
    return 0.2126 * toLinear(r) + 0.7152 * toLinear(g) + 0.0722 * toLinear(b);
  };
  const l1 = getLuminance(hex1);
  const l2 = getLuminance(hex2);
  return ((Math.max(l1, l2) + 0.05) / (Math.min(l1, l2) + 0.05)).toFixed(2);
};

function ExportPanel({
  isOpen,
  onClose,
  colors,
  generationMode,
  constraints,
  colorBlindMode,
}) {
  const [copiedOption, setCopiedOption] = useState(null);
  const [namingScheme, setNamingScheme] = useState('numbered');
  const [showSettings, setShowSettings] = useState(false);
  const [cssFormat, setCssFormat] = useState('vars');
  const [tailwindFormat, setTailwindFormat] = useState('v4');

  // ADD THIS LINE HERE (Ensure it is above the useMemo)
  const [applySimulation, setApplySimulation] = useState(false);

  const rawHexColors = colors.map((c) => c.hex);
  const getName = NAMING_SCHEMES[namingScheme];

  // Apply simulation if toggled AND a mode is selected
  const hexColors = useMemo(() => {
    if (applySimulation && colorBlindMode !== 'normal') {
      return rawHexColors.map(hex => simulateColorBlindness(hex, colorBlindMode));
    }
    return rawHexColors;
  }, [rawHexColors, applySimulation, colorBlindMode]);

  const showCopied = (option) => {
    setCopiedOption(option);
    setTimeout(() => setCopiedOption(null), 2000);
  };

  const getColorData = () =>
    hexColors.map((hex, i) => {
      const hsl = hexToHsl(hex);
      return {
        name: getName(i),
        hex,
        hsl: { h: Math.round(hsl.h), s: Math.round(hsl.s), l: Math.round(hsl.l) },
        hslString: `hsl(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`,
        contrastOnWhite: getContrastRatio(hex, '#FFFFFF'),
        contrastOnBlack: getContrastRatio(hex, '#000000'),
      };
    });

  const getTailwindDescription = () => {
    switch (tailwindFormat) {
      case 'v4': return 'CSS @theme (v4)';
      case 'v3-config': return 'Config extend (v3)';
      case 'v3-layer': return '@layer base (v3)';
      default: return 'Tailwind Config';
    }
  };

  const exportOptions = [
    {
      id: 'url',
      icon: Link,
      label: 'URL',
      description: 'Full state link',
      action: () => {
        const url = window.chromaAPI?.getShareUrl() || window.location.href;
        navigator.clipboard.writeText(url);
        showCopied('url');
      },
    },
    {
      id: 'css',
      icon: FileCode,
      label: 'CSS',
      description: cssFormat === 'vars' ? 'CSS Variables' : 'Utility Classes',
      action: () => {
        let css;
        if (cssFormat === 'vars') {
          css = `:root {\n${hexColors.map((c, i) => `  --${getName(i)}: ${c};`).join('\n')}\n}`;
        } else {
          css = hexColors
            .map((c, i) => `.bg-${getName(i)} { background-color: ${c}; }\n.text-${getName(i)} { color: ${c}; }`)
            .join('\n\n');
        }
        navigator.clipboard.writeText(css);
        showCopied('css');
      },
    },
    {
      id: 'tailwind',
      icon: Wind,
      label: 'Tailwind',
      description: getTailwindDescription(),
      action: () => {
        let config;
        
        if (tailwindFormat === 'v4') {
          // Tailwind v4 CSS-first configuration
          // HELPER: Strip "color-" prefix if present to avoid "--color-color-1"
          const getV4Name = (i) => getName(i).replace(/^color-/, '');
          
          config = `@import "tailwindcss";

@theme {
  /* Usage: bg-${getV4Name(0)}, text-${getV4Name(1)} */
${hexColors.map((c, i) => `  --color-${getV4Name(i)}: ${c};`).join('\n')}
}`;
        } else if (tailwindFormat === 'v3-config') {
          // Tailwind v3 JS Configuration
          config = `// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
${hexColors.map((c, i) => `        '${getName(i)}': '${c}',`).join('\n')}
      },
    },
  },
}`;
        } else {
          // Tailwind v3 CSS Variables + Config
          config = `/* Add to your CSS */
@layer base {
  :root {
${hexColors.map((c, i) => `    --${getName(i)}: ${c};`).join('\n')}
  }
}

/* tailwind.config.js */
module.exports = {
  theme: {
    extend: {
      colors: {
${hexColors.map((c, i) => `        '${getName(i)}': 'var(--${getName(i)})',`).join('\n')}
      },
    },
  },
}`;
        }
        navigator.clipboard.writeText(config);
        showCopied('tailwind');
      },
    },
    {
      id: 'scss',
      icon: Code,
      label: 'SCSS',
      description: 'Variables + Map',
      action: () => {
        const scss = `// Individual variables
${hexColors.map((c, i) => `$${getName(i)}: ${c};`).join('\n')}

// As a map
$palette: (
${hexColors.map((c, i) => `  '${getName(i)}': ${c},`).join('\n')}
);`;
        navigator.clipboard.writeText(scss);
        showCopied('scss');
      },
    },
    {
      id: 'json',
      icon: Braces,
      label: 'JSON',
      description: 'Full metadata',
      action: () => {
        const data = {
          palette: getColorData(),
          settings: {
            harmony: generationMode || 'auto',
            mood: constraints?.mood || 'any',
            minContrast: constraints?.minContrast || 1.5,
            darkModeFriendly: constraints?.darkModeFriendly || false,
          },
          generated: new Date().toISOString(),
        };
        navigator.clipboard.writeText(JSON.stringify(data, null, 2));
        showCopied('json');
      },
    },
    {
      id: 'array',
      icon: Code,
      label: 'JS Object',
      description: 'Named object',
      action: () => {
        const obj = `const palette = {\n${hexColors
          .map((c, i) => `  ${getName(i).replace(/-/g, '_')}: '${c}',`)
          .join('\n')}\n};`;
        navigator.clipboard.writeText(obj);
        showCopied('array');
      },
    },
    {
      id: 'svg',
      icon: FileCode,
      label: 'SVG',
      description: 'Vector graphic',
      action: () => {
        const width = 1200;
        const height = 630;
        const colorWidth = width / hexColors.length;

        const svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${width} ${height}">
${hexColors.map((c, i) => `  <rect x="${i * colorWidth}" y="0" width="${colorWidth}" height="${height}" fill="${c}"/>`).join('\n')}
${hexColors.map((c, i) => {
  const hsl = hexToHsl(c);
  const textColor = hsl.l > 60 ? '#000000' : '#FFFFFF';
  const x = i * colorWidth + colorWidth / 2;
  return `  <text x="${x}" y="${height - 30}" text-anchor="middle" fill="${textColor}" font-family="monospace" font-size="14" font-weight="bold">${c}</text>`;
}).join('\n')}
</svg>`;

        const blob = new Blob([svg], { type: 'image/svg+xml' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `palette-${Date.now()}.svg`;
        a.click();
        URL.revokeObjectURL(url);
        showCopied('svg');
      },
    },
    {
      id: 'png',
      icon: Image,
      label: 'PNG',
      description: 'Social preview',
      action: () => {
        const canvas = document.createElement('canvas');
        canvas.width = 1200;
        canvas.height = 630;
        const ctx = canvas.getContext('2d');
        const colorWidth = canvas.width / hexColors.length;

        hexColors.forEach((color, i) => {
          ctx.fillStyle = color;
          ctx.fillRect(i * colorWidth, 0, colorWidth, canvas.height);
        });

        ctx.font = 'bold 16px monospace';
        ctx.textAlign = 'center';
        hexColors.forEach((color, i) => {
          const hsl = hexToHsl(color);
          ctx.fillStyle = hsl.l > 60 ? '#000000' : '#FFFFFF';
          const x = i * colorWidth + colorWidth / 2;
          ctx.fillText(color, x, canvas.height - 30);
        });

        ctx.font = '12px sans-serif';
        ctx.fillStyle = 'rgba(255,255,255,0.7)';
        ctx.textAlign = 'right';
        ctx.fillText('ccolorpalette.com', canvas.width - 20, canvas.height - 12);

        canvas.toBlob((blob) => {
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = `palette-${Date.now()}.png`;
          a.click();
          URL.revokeObjectURL(url);
        });
        showCopied('png');
      },
    },
  ];

  return (
    <div
      className={`panel-column ${isOpen ? 'open' : ''}`}
      style={{ flexBasis: isOpen ? `${PANEL_WIDTH}px` : '0px' }}
    >
      <div className="panel-inner" style={{ width: `${PANEL_WIDTH}px` }}>
        <div className="panel-header">
          <div className="panel-title">
            <span>Export Palette</span>
          </div>
          <button className="panel-close" onClick={onClose}>
            <X size={20} />
          </button>
        </div>

        <div className="panel-scroll">
          {/* Settings Toggle */}
          <button
            className={`export-settings-toggle ${showSettings ? 'active' : ''}`}
            onClick={() => setShowSettings(!showSettings)}
          >
            <Settings2 size={16} />
            <span>Export Settings</span>
            <ChevronDown size={16} className={`chevron ${showSettings ? 'open' : ''}`} />
          </button>

          {/* Settings Panel */}
          {showSettings && (
            <div className="export-settings">
              <div className="export-setting">
                <label>Naming Scheme</label>
                <div className="export-setting-options">
                  {Object.keys(NAMING_SCHEMES).map((scheme) => (
                    <button
                      key={scheme}
                      className={`panel-btn ${namingScheme === scheme ? 'active' : ''}`}
                      onClick={() => setNamingScheme(scheme)}
                    >
                      {scheme.charAt(0).toUpperCase() + scheme.slice(1)}
                    </button>
                  ))}
                </div>
                <span className="export-setting-preview">
                  e.g., {getName(0)}, {getName(1)}
                </span>
              </div>

              <div className="export-setting">
                <label>CSS Format</label>
                <div className="export-setting-options">
                  <button
                    className={`panel-btn ${cssFormat === 'vars' ? 'active' : ''}`}
                    onClick={() => setCssFormat('vars')}
                  >
                    Variables
                  </button>
                  <button
                    className={`panel-btn ${cssFormat === 'classes' ? 'active' : ''}`}
                    onClick={() => setCssFormat('classes')}
                  >
                    Classes
                  </button>
                </div>
              </div>

              <div className="export-setting">
                <label>Tailwind Version</label>
                <div className="export-setting-options three-col">
                   <button
                    className={`panel-btn ${tailwindFormat === 'v4' ? 'active' : ''}`}
                    onClick={() => setTailwindFormat('v4')}
                    title="CSS @theme variable configuration"
                  >
                    v4 CSS
                  </button>
                  <button
                    className={`panel-btn ${tailwindFormat === 'v3-config' ? 'active' : ''}`}
                    onClick={() => setTailwindFormat('v3-config')}
                    title="Legacy JS config"
                  >
                    v3 Config
                  </button>
                  <button
                    className={`panel-btn ${tailwindFormat === 'v3-layer' ? 'active' : ''}`}
                    onClick={() => setTailwindFormat('v3-layer')}
                    title="Legacy @layer base"
                  >
                    v3 Layer
                  </button>
                </div>
              </div>
              <div className="export-setting">
                <label>Vision Simulation</label>
                <div className="export-setting-options">
                  <button
                    className={`panel-btn ${!applySimulation ? 'active' : ''}`}
                    onClick={() => setApplySimulation(false)}
                  >
                    Raw Colors
                  </button>
                  <button
                    className={`panel-btn ${applySimulation ? 'active' : ''}`}
                    onClick={() => {
                      setApplySimulation(true);
                      trackEvent('enable_colorblind_export', { mode: colorBlindMode });
                    }}
                    // Grey out and disable if vision mode is normal
                    disabled={colorBlindMode === 'normal'}
                    style={{ 
                      opacity: colorBlindMode === 'normal' ? 0.5 : 1,
                    }}
                    title={colorBlindMode === 'normal' ? 'Select a vision mode in Accessibility panel first' : ''}
                  >
                    Simulated
                  </button>
                </div>
                {applySimulation && colorBlindMode !== 'normal' && (
                  <span className="export-setting-preview">
                    Exporting for: {colorBlindMode.charAt(0).toUpperCase() + colorBlindMode.slice(1)}
                  </span>
                )}
              </div>
            </div>
          )}

          {/* Export Grid */}
          <div className="panel-export-grid">
            {exportOptions.map((option) => {
              const Icon = option.icon;
              const isCopied = copiedOption === option.id;

              return (
                <button
                  key={option.id}
                  className={`panel-export-btn ${isCopied ? 'copied' : ''}`}
                  onClick={(e) => {
                    trackEvent('palette_export', { 
                      format: option.id, 
                      tailwind_version: tailwindFormat,
                      naming_scheme: namingScheme 
                    });
                    const currentUrl = window.location.href;
                    submitToIndexNow(currentUrl);
                    option.action();
                    e.currentTarget.blur();
                  }}
                >
                  <div className="panel-export-btn-icon">
                    {isCopied ? <Check size={24} /> : <Icon size={24} />}
                  </div>
                  <span className="panel-export-btn-label">
                    {isCopied ? 'Done!' : option.label}
                  </span>
                  <span className="panel-export-btn-desc">{option.description}</span>
                </button>
              );
            })}
          </div>

          {/* Preview */}
          <div className="panel-preview">
            <label className="panel-label">Preview</label>
            <div className="panel-preview-colors">
              {hexColors.map((color, i) => (
                <div
                  key={i}
                  className="panel-preview-color"
                  style={{ backgroundColor: color }}
                />
              ))}
            </div>
            <div className="panel-preview-hexes">
              {hexColors.map((color, i) => (
                <span key={i} className="panel-preview-hex">
                  {color.replace('#', '')}
                </span>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default ExportPanel;

--- START OF FILE: src/colorGenerator/HistoryPanel.css ---

/* ============================================
   HISTORY PANEL SPECIFICS
   ============================================ */

/* Utility to remove gap in the list so we can manually place dividers */
.panel-list.seamless {
  gap: 0;
  padding: 8px 0;
}

/* === CARD STYLING === */
.panel-card {
  /* Layout */
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: relative;
  
  /* Visuals */
  width: 100%;
  padding: 10px 12px;
  background: transparent;
  border: 2px solid transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease;
}

.panel-card:hover {
  background: rgba(0, 0, 0, 0.03);
}

.panel-card.current {
  background: rgba(0, 0, 0, 0.05);
  border-color: var(--color-text-primary, #1a1a1a);
}

/* === THE DIVIDER (Robust Version) === */
.panel-entry-divider {
  display: block;
  content: '';
  
  /* Size & Shape */
  width: calc(100% - 24px); /* Matches horizontal padding of card */
  min-height: 1px;          /* Forces pixel rendering */
  height: 1px;
  
  /* Color */
  background-color: var(--color-border-subtle, #e5e5e5);
  opacity: 0.8;

  /* Positioning */
  margin: 8px auto;         /* Centers it horizontally */
  flex-shrink: 0;           /* Prevents collapse in flex containers */
}

/* === SIMULATION LABELS & DECORATIONS === */
.panel-card-sim-label {
  display: flex;
  align-items: center;
  gap: 6px;
  padding-left: 2px;
  
  font-size: 11px;
  font-weight: 600;
  color: var(--color-text-muted, #888);
}

.panel-card-sim-label span {
  text-transform: capitalize;
}

.panel-card-decoration {
  display: flex;
  gap: 4px;
  margin-top: 2px;
  padding-left: 2px;
}

.decoration-bar {
  width: 14px;
  height: 3px;
  border-radius: 4px;
  opacity: 0.7;
}

/* === PREVIEW STRIP === */
.panel-preview-colors {
  display: flex;
  width: 100%;
  height: 44px;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  
  /* Fixes corner overflow on some browsers */
  transform: translateZ(0); 
}

.panel-preview-color {
  flex: 1;
  height: 100%;
}

--- START OF FILE: src/colorGenerator/HistoryPanel.jsx ---

import React from 'react';
import { X, Clock, Eye } from 'lucide-react';
import { simulateColorBlindness } from '../utils/colorUtils';
import '../styles/PanelStyles.css';

function HistoryPanel({
  isOpen,
  onClose,
  history,
  currentIndex,
  onSelectPalette,
}) {
  const reversedHistory = [...history].reverse();

  // Helper to safely check if an entry is "Normal" vision
  const checkIsNormal = (entry) => {
    if (!entry) return true; // Default to true for safety
    const mode = entry.visionMode || 'Normal';
    return mode.toLowerCase().includes('normal');
  };

  const renderDecoration = (colors, visionMode) => (
    <div className="panel-card-decoration">
      {colors.slice(0, 3).map((color, i) => (
        <span
          key={i}
          className="decoration-bar"
          style={{ 
            backgroundColor: simulateColorBlindness(color.hex, visionMode.toLowerCase()) 
          }}
        />
      ))}
    </div>
  );

  return (
    <div
      className={`panel-column ${isOpen ? 'open' : ''}`}
      style={{ flexBasis: isOpen ? `260px` : '0px' }}
    >
      <div className="panel-inner" style={{ width: `260px` }}>
        <div className="panel-header">
          <div className="panel-title">
            <Clock size={18} />
            <span>History</span>
          </div>
          <button className="panel-close" onClick={onClose}>
            <X size={20} />
          </button>
        </div>

        <div className="panel-scroll">
          {history.length === 0 ? (
            <div className="panel-empty">
              <p>No history yet</p>
              <span>Press space to generate palettes</span>
            </div>
          ) : (
            // 'seamless' class removes the default gap so "Normal" items touch
            <div className="panel-list seamless">
              {reversedHistory.map((entry, idx) => {
                const actualIndex = history.length - 1 - idx;
                const isCurrent = actualIndex === currentIndex;
                
                const colors = Array.isArray(entry) ? entry : entry.colors;
                const visionMode = entry.visionMode || 'Normal';
                const isNormal = checkIsNormal(entry);

                // LOGIC: Check the next item to decide on divider
                const nextEntry = reversedHistory[idx + 1];
                const nextIsNormal = checkIsNormal(nextEntry);
                
                // Show divider ONLY if we are NOT in a sequence of Normal items
                // i.e., show if Current is Sim OR Next is Sim
                const showDivider = idx < reversedHistory.length - 1 && !(isNormal && nextIsNormal);

                return (
                  <React.Fragment key={idx}>
                    <button
                      className={`panel-card ${isCurrent ? 'current' : ''}`}
                      onClick={(e) => {
                        onSelectPalette(actualIndex);
                        e.currentTarget.blur();
                      }}
                    >
                      {!isNormal && (
                        <div className="panel-card-sim-label">
                          <Eye size={10} />
                          <span>{visionMode}</span>
                        </div>
                      )}
                      
                      <div className="panel-preview-colors">
                        {colors.map((color, colorIdx) => {
                          const displayHex = isNormal
                            ? color.hex 
                            : simulateColorBlindness(color.hex, visionMode.toLowerCase());

                          return (
                            <div
                              key={colorIdx}
                              className="panel-preview-color"
                              style={{ backgroundColor: displayHex }}
                            />
                          );
                        })}
                      </div>

                      {!isNormal && renderDecoration(colors, visionMode)}
                    </button>

                    {/* Conditional Divider */}
                    {showDivider && <div className="panel-entry-divider" />}
                  </React.Fragment>
                );
              })}
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

export default HistoryPanel;

--- START OF FILE: src/colorGenerator/MethodPanel.css ---

/* ============================================
   METHOD PANEL
   ============================================ */

   .method-column {
    flex: 0 0 0px;
    height: 100%;
    background: var(--color-bg-panel);
    overflow: hidden;
    transition: flex-basis var(--transition-panel);
    position: relative;
  }
  
  .method-column.open {
    flex: 0 0 var(--panel-width-sm);
  }
  
  .method-inner {
    width: var(--panel-width-sm);
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: var(--space-20);
  }
  
  .method-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) var(--space-4) var(--space-3);
    border-bottom: 1px solid var(--color-border-subtle);
  }
  
  .method-title {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-primary);
  }
  
  .method-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--space-8);
    height: var(--space-8);
    background: none;
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    color: var(--color-text-secondary);
    transition: background-color var(--transition-fast), 
                color var(--transition-fast),
                transform var(--transition-bounce);
  }
  
  .method-close:hover {
    background: var(--color-border-subtle);
    color: var(--color-text-primary);
    transform: scale(1.1);
  }
  
  .method-close:active {
    transform: scale(0.9);
  }
  
  .method-scroll {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: var(--space-3);
  }
  
  .method-section {
    margin-bottom: var(--space-6);
  }
  
  .method-section-label {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-3);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }
  
  .method-section-label span {
    color: var(--color-text-faint);
    font-weight: 500;
    text-transform: none;
  }
  
  .method-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .method-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: var(--space-3);
    background: var(--color-bg-card);
    border: 2px solid transparent;
    border-radius: var(--radius-xl);
    cursor: pointer;
    text-align: left;
    transition: background-color var(--transition-fast), 
                border-color var(--transition-fast),
                transform var(--transition-bounce);
  }
  
  .method-item:hover {
    transform: scale(1.02);
  }
  
  .method-item:active {
    transform: scale(0.98);
  }
  
  .method-item.selected {
    border-color: var(--color-text-primary);
  }
  
  .method-item-content {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  
  .method-label {
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-primary);
  }
  
  .method-description {
    font-size: var(--font-xs);
    color: var(--color-text-muted);
  }
  
  .method-check {
    width: var(--space-2);
    height: var(--space-2);
    background: var(--color-text-primary);
    border-radius: var(--radius-full);
  }
  
  .method-hint {
    font-size: var(--font-xs);
    color: var(--color-text-muted);
    margin-top: var(--space-2);
    line-height: 1.4;
  }
  
  /* === CONSTRAINT BUTTONS === */
  .constraint-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }
  
  .constraint-btn {
    padding: var(--space-2) var(--space-3);
    background: var(--color-bg-card);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    font-size: var(--font-xs);
    font-weight: 500;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
  }
  
  .constraint-btn:hover {
    color: var(--color-text-primary);
    background: var(--color-bg-hover);
  }
  
  .constraint-btn.active {
    border-color: var(--color-text-primary);
    color: var(--color-text-primary);
    font-weight: 600;
    background: var(--color-bg-card);
  }
  
  /* === SLIDER === */
  .constraint-slider {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    appearance: none;
    background: #ddd;
    cursor: pointer;
    outline: none;
  }
  
  .constraint-slider::-webkit-slider-thumb {
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: var(--radius-full);
    background: var(--color-text-primary);
    cursor: pointer;
    transition: transform var(--transition-fast);
  }
  
  .constraint-slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
  }
  
  .slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-2);
    font-size: var(--font-xs);
    color: var(--color-text-faint);
  }
  
  /* === TOGGLE BUTTON === */
  .toggle-btn {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    width: 100%;
    padding: var(--space-3);
    background: var(--color-bg-card);
    border: 2px solid transparent;
    border-radius: var(--radius-xl);
    cursor: pointer;
    font-size: var(--font-sm);
    font-weight: 500;
    color: var(--color-text-primary);
    text-align: left;
    transition: all var(--transition-fast);
  }
  
  .toggle-btn:hover {
    background: #f5f5f5;
  }
  
  .toggle-btn.active {
    border-color: var(--color-text-primary);
  }
  
  .toggle-indicator {
    width: 40px;
    height: 22px;
    background: #ddd;
    border-radius: 11px;
    position: relative;
    transition: background-color var(--transition-base);
    flex-shrink: 0;
  }
  
  .toggle-indicator::after {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 16px;
    height: 16px;
    background: var(--color-bg-card);
    border-radius: var(--radius-full);
    transition: transform var(--transition-base);
    box-shadow: var(--shadow-sm);
  }
  
  .toggle-btn.active .toggle-indicator {
    background: var(--color-text-primary);
  }
  
  .toggle-btn.active .toggle-indicator::after {
    transform: translateX(18px);
  }
  
  /* === SCROLLBAR === */
  .method-scroll::-webkit-scrollbar {
    width: 4px;
  }
  
  .method-scroll::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .method-scroll::-webkit-scrollbar-thumb {
    background: #ddd;
    border-radius: 2px;
  }
  
  /* === MOBILE === */
  @media (max-width: 600px) {
    .method-column.open {
      flex: 0 0 200px;
    }
  
    .method-inner {
      width: 200px;
    }
  }

--- START OF FILE: src/colorGenerator/MethodPanel.jsx ---

import { X, Sparkles } from 'lucide-react';
import '../styles/PanelStyles.css';
import { trackEvent } from '../utils/analytics';

const HARMONY_MODES = [
  { id: 'auto', label: 'Auto', description: 'Random harmony' },
  { id: 'mono', label: 'Monochromatic', description: 'Single hue variations' },
  { id: 'analogous', label: 'Analogous', description: 'Adjacent hues' },
  { id: 'complementary', label: 'Complementary', description: 'Opposite hues' },
  { id: 'splitComplementary', label: 'Split Comp.', description: 'Opposite + adjacent' },
  { id: 'triadic', label: 'Triadic', description: 'Three-way split' },
];

const MOOD_OPTIONS = [
  { id: 'any', label: 'Any' },
  { id: 'muted', label: 'Muted' },
  { id: 'pastel', label: 'Pastel' },
  { id: 'vibrant', label: 'Vibrant' },
  { id: 'dark', label: 'Dark' },
];

const PANEL_WIDTH = 240;

function MethodPanel({
  isOpen,
  onClose,
  value,
  onChange,
  constraints,
  onConstraintsChange,
}) {
  const handleMoodChange = (mood) => {
    trackEvent('change_mood', { mood });
    onConstraintsChange({ ...constraints, mood });
  };

  const handleContrastChange = (e) => {
    onConstraintsChange({ ...constraints, minContrast: Number(e.target.value) });
  };

  const handleDarkModeToggle = () => {
    onConstraintsChange({ ...constraints, darkModeFriendly: !constraints.darkModeFriendly });
  };

  return (
    <div
      className={`panel-column ${isOpen ? 'open' : ''}`}
      style={{ flexBasis: isOpen ? `${PANEL_WIDTH}px` : '0px' }}
    >
      <div className="panel-inner" style={{ width: `${PANEL_WIDTH}px` }}>
        <div className="panel-header">
          <div className="panel-title">
            <Sparkles size={18} />
            <span>Method</span>
          </div>
          <button className="panel-close" onClick={onClose}>
            <X size={20} />
          </button>
        </div>

        <div className="panel-scroll">
          {/* Harmony Section */}
          <div className="panel-section">
            <label className="panel-label">Harmony</label>
            <div className="panel-list">
              {HARMONY_MODES.map((mode) => (
                <button
                  key={mode.id}
                  className={`panel-list-item ${value === mode.id ? 'selected' : ''}`} // RE-ADD THIS
                  onClick={(e) => {
                    trackEvent('change_harmony', { mode: mode.id });
                    onChange(mode.id);
                    e.currentTarget.blur();
                  }}
                >
                  <div className="panel-list-item-content">
                    <span className="panel-list-item-title">{mode.label}</span>
                    <span className="panel-list-item-desc">{mode.description}</span>
                  </div>
                  {value === mode.id && <div className="panel-check" />}
                </button>
              ))}
            </div>
          </div>

          {/* Mood Section */}
          <div className="panel-section">
            <label className="panel-label">Mood</label>
            <div className="panel-btn-grid">
              {MOOD_OPTIONS.map((mood) => (
                <button
                  key={mood.id}
                  className={`panel-btn ${constraints.mood === mood.id ? 'active' : ''}`}
                  onClick={(e) => {
                    handleMoodChange(mood.id);
                    e.currentTarget.blur();
                  }}
                >
                  {mood.label}
                </button>
              ))}
            </div>
          </div>

          {/* Contrast Section */}
          <div className="panel-section">
            <label className="panel-label">
              Min Adjacent Contrast
              <span>{constraints.minContrast.toFixed(1)}:1</span>
            </label>
            <input
              type="range"
              min="1"
              max="4.5"
              step="0.1"
              value={constraints.minContrast}
              onChange={handleContrastChange}
              className="panel-slider"
            />
            <div className="panel-slider-labels">
              <span>Low</span>
              <span>High</span>
            </div>
          </div>

          {/* Dark Mode Toggle */}
          <div className="panel-section">
            <button
              className={`panel-toggle ${constraints.darkModeFriendly ? 'active' : ''}`}
              onClick={(e) => {
                handleDarkModeToggle();
                e.currentTarget.blur();
              }}
            >
              <span className="panel-toggle-indicator" />
              <span>Dark mode friendly</span>
            </button>
            <p className="panel-hint">
              Ensures colors work well on dark backgrounds
            </p>
          </div>
        </div>
      </div>
    </div>
  );
}

export default MethodPanel;

--- START OF FILE: src/data/paletteDirectory.js ---

export const DIRECTORY_PALETTES = ["2F121F-A21B6A-E32F80-E285B4-F0C7DB","2C4C1A-B5D59D-1AE4AB-F9E4F9-A91A8F","708F1C-D9E949-D3D05F-897DEC-C6C3EF","145042-198972-28E6B2-9CE8D7-EAF8F4","280C21-8A1C50-D3396E-E2909E-F7DDDB","411842-9F1D73-DE3D8C-E38CA6-F2CCD3","3E0D16-EB7F93-EFF6EA-3C8A22-4280DE","1F5E17-2A7B1F-3E9B27-DC71DC-EDCDF3","14473A-1A7B74-2DA5D2-7FB5E8-E1EBF7","3A1C58-501E8D-5C21A8-A97BDF-DCC3EE","4B3E1B-E2CC50-E6CE4C-E3D273-F7F1DD","0C2720-1E8A5E-32D7CB-E673A0-F0C9D4","161A3E-162691-2B4EE2-8093E7-C8D1ED","0F0E2F-234F88-DFE44E-E2DA78-F2EFD3","10404A-1D75A1-4889D9-7992E3-C4C5ED","28180E-904D18-DC6A19-E4AB8F-F7E9DF","0E3A2D-22957A-28DCC4-75E0C9-D4F2ED","0B2B1B-207332-46D044-AAD8A4-DDECD2","3C5214-6E8613-96C932-C6EA76-EBF1DF","4A3A1C-E0CE52-CAE052-BDD399-DEEDD4","2B0E12-EA8CA1-ECF5E7-329726-2D4EDC","144A21-1EA47B-DD37A1-DF7499-F8E0E7","123842-167A80-2BB9E3-F7E0DE-E3A69D","4B401B-E7D47E-237692-E3F2F8-7747DC","311B50-6026AA-F3EEC9-D2D35F-349325","E0E54D-D2E34F-C0CC66-DAE486-F6F8E1","671624-B41723-D85A40-D7F0EE-69DAE7","0C2C30-2189A1-377CD3-90A2EA-C1C2F0","153B15-228740-33CB5E-99D3B4-E2F5F2","581941-A72689-E52664-EBF7EE-207C4B","122D34-26869E-26C5DF-82D9E9-CBECF3","144318-1E7942-ED8EBC-D54697-EDC9E2","4F1727-E53C6D-E797BD-DAF5F0-1D8954","390D19-8F263B-D32C56-E67C9C-EDC6D3","1B483C-187A5E-40C2D9-95CDED-CADCED","0C142A-214493-417BD2-7AA0E5-CCDBF2","0F271C-197C70-30BCC7-8DCDE7-D5E6F1","491022-932132-7DDEB0-24D597-E7F8F3","111138-252F82-265BD3-E9D676-F6EFDB","0F2537-167D9F-46A1D5-DDB185-F2E1D6","19584D-2EBAA6-42D3DE-A21A27-F5DFD8","1A3146-90C7E0-DBD057-7E2223-F8E7E9","162341-1A3A7F-4B6AD9-7CA1E8-C7D5F2","5B1F66-D66EBF-BF277A-D92267-EEBECD","122447-24379B-2228D5-9B85EA-D7C5EC","DDB037-DDDD55-BBC969-EFC792-EBD5CA","225F29-47D16F-9DEAC9-D9F3F3-1D9871","1A2451-786ED9-F2DDCC-E2B26E-85D149","122D36-256C90-2F91D0-8ACADF-D0E6F0","3E1612-912725-C62E2D-E7827A-F7E5E3","154A47-1A7C82-E65D29-E98F94-EECFCE","46162C-7E183A-DC1951-EA9B92-F2D7C8","3F1A0F-8A3926-CCEEEB-70C8E3-3EADD7","0F2810-218237-DB2AA7-EA70D9-F5D4E8","4B171D-8D3B1C-C8ECEA-95DFE3-2C9ECB","3E1A15-8E3D20-97E8E2-CFEFEF-3AB6E5","451441-8B238B-B449D5-BD86E6-CEC6EB","37200E-A6511D-E44F2C-84D4ED-E2F2F8","3B1C0E-E7B998-9ECE2C-27398D-C1C4F1","185740-35CC7B-63DDB3-F6D5E5-A8255D","221142-967EE2-34CC76-F0D9C6-894013","152D39-186791-3998DB-71C3E7-D2E5F0","1E5616-3CCE80-74E1C4-B2E9E6-AEDCB9","361A48-A957E8-B05CE6-BD76E8-D5BCEA","471836-751E35-D8284F-E4F5ED-81DBC7","193E13-28982B-C21ADB-E587DE-F6E4F6","49192E-DC7791-E0F2E1-20802D-1CA9DD","122644-17659C-E9C73C-E4D27C-F2E3D5","0B1A31-224A78-458BDD-95BAE4-D4E3F5","2A0E15-E67BB5-E6A62D-207493-CFE8F1","0F1D29-1B5279-1C94E4-96CCEC-DBE9F6","232A6D-3639CD-5A22CA-8F5CE2-F3E9F8","441020-8A1C47-DD4485-E3799F-EED2DC","10123D-1E18A7-4956DC-7773E1-C4C5ED","13433A-1B9DA5-2D8BD0-91B5E6-CDD9F3","111633-2820A1-8146D2-C37DE9-E8D1F0","244118-3E9926-CA44D6-C56FE7-EFDAF4","270F23-81156E-D341B2-DB7FCC-ECC6E2","29751D-479A29-C02642-C3C6EF-2B58E0","414A1C-E8DD4A-D4DE54-E3D296-F4E5D4","1B1842-391EA7-7431CB-BD8FE0-ECD7F3","324C1A-A5D091-2FDD90-7B2280-EFC4EA","207288-C4F1F0-C4D55D-E4DF7E-D63DD8","0B2233-287C98-1ABFDF-84E8DF-C9F0E7","0F1231-1E3B7F-2C84D2-8CD8E5-DAF1F5","14360E-308524-3FCF6B-90CFA5-D0EEE1","DCB029-D6C65C-C4CE64-EEB195-F8EAE6","173A43-1E5D7E-1E599A-9FBDEA-C0C8F1","122F33-1E887D-34D6C5-E4767D-F7DEE1","39102A-7A203B-D62899-9AE7CE-E2F2E7","6A3017-CB9924-F2D589-E4E97A-E9F3CE","231246-5F1AA4-8E25E3-E78AEB-F5E0F2","14453D-178778-47D592-9DD5AE-E4F4E6","311D12-8B1C21-E05F3D-75EAE8-CEEEF0","0E3212-25922A-3DCF43-9ED6A8-CCE9D0","134E41-25827C-2CC8D5-83C2DD-CBDEF3","145131-258E30-3DC531-9AD194-E1EDD5","391427-962058-D22F76-E984BD-F5D9E7","3A2712-E8D095-48D18B-631F8A-DFC2F0","301846-501680-8032CC-B592E1-D7C1F1","1B6332-21C680-61E3C1-78E1C9-C8E9EA","164E26-30C270-CA87E3-EFD6F0-E38C96","1A4A73-235E86-619626-E7659E-F5E4F1","190E36-381C88-E7E785-BCD839-F9F8E5","226D59-47E0B5-4AE1AF-8CF1DE-C5EAE3","6C3123-906C14-E3CF4F-E6C8A0-F3F5E1","4C181E-9B1D56-E63D93-E08CDB-F7E2F5","4E3B18-9D5425-3A74E1-86C8EA-DEEEF8","0F313C-1A678E-1C6FDD-7487E7-C3C4EF","0E3234-205578-1E84E0-94B4EF-C7CBEA","15244E-253D82-2A2AE4-AC98E3-D3C4ED","183610-299527-49D15F-A2D7B2-D3F2E3","154124-3BCD88-CFC4EE-5B31AF-E59D51","134142-1C8392-35A0E4-98AAE8-C0C5F1","382514-914928-E04B3A-E49490-F4E0E3","2E200C-A96118-DE901E-EEC189-F0E1CC","3A153C-881BA0-9044D6-AD90E5-CBC6EB","391138-821481-D83CE1-E793E6-F4D6F4","5D4514-DC9569-E7C292-4667D7-C1DBEC","311740-621C88-9D46DA-C288E5-DDC7EA","324F17-B2D397-42D088-F4E3F4-9B1A8C","19350D-618B23-AAD225-D6E173-F7F5DE","3C0D16-911A1C-C9F3E2-80EBE7-29DEC2","0F3B24-26985F-3DDC93-87E0B5-D2ECDF","122E34-1F80A5-306DC4-9CB6E3-C7CAEB","503B16-E7C626-D9CF59-DEE5F4-747FEC","241970-2B1CA2-3B25DA-8B79DF-C8C5E9","431032-90274E-DE3962-EC7883-ECCFC6","0F0F40-2C20A4-3F2ED2-8988E7-CAC6EB","134648-1B7597-2697CE-84A3E2-E8ECFA","0F412E-298C90-30B9E5-79C6E5-E1E9F8","1A0E27-531B99-9735E3-BF98E9-D5C3EF","492916-9E6E17-DFBF2A-DCE395-EBF2CC","325214-6D7E23-DCD956-EAE873-F0E2C5","1B4D13-2EA92D-2DB356-92D0A5-C9F4E5","276A20-30BF49-9BD4A4-C65BD4-F5D9F0","12321D-24913B-EF95B6-E12D80-F2C9EC","2D1047-7A1C7F-D646BC-EA87D2-FAE9F2","0F3615-22873E-31C464-8CECD0-D7F4EE","224F14-568322-BCDB29-D6EA73-F5F2E4","371E0D-94451E-DB8948-EBA787-EED4C6","1B0D38-1A1E82-3955D6-89BDEE-D5E6F5","0D2528-1794A5-36C8E3-91DAED-E4F4F6","103F17-2A954B-24D487-95ECC8-E6F6F2","405313-628421-C8DC56-AD82E7-C6C1F1","41123A-9A2885-D145BB-E085D1-F8E1F6","3B151D-E091A3-DCF0E0-1E7930-21CAD8","180D2A-4C1694-982ED7-DD90EB-F6DCF3","144E4F-279F99-47DAAA-94D1AD-E8F5EC","320C24-EA79C2-D99648-C7ECE6-138676","372114-8E3621-E33942-E690A9-F1D6DF","300A11-9B2922-E5683D-E9B981-F8EDDF","421D18-AB301D-E6B295-81D1DC-C9D9ED","114126-25924D-40CF7B-A7D9BB-CFEAD9","132E0B-ACD69F-1EE6B8-F3DCEE-98196C","4A1926-EF939F-E1BB40-1A77A4-D2E3EF","240D27-A51E8D-CB2C8A-E89BB6-F6E7EA","103E1B-A8DAAB-43B4DD-95224B-F1D3DC","42161D-86253B-E83D90-E59BD7-ECCAEC","195754-31A6CB-1D66A4-6E97E9-C4CBED","10382A-1B8A7E-27D6D8-83D6E9-EBF1F9","114628-1E7821-3DCD37-9ECC89-E7F0DB","12374D-1D83A7-45A2D0-6CB3DD-DAECF4","2A7423-26983D-91D09E-A0D6BB-B7EAD7","4D2789-DAC6EC-E3EB8A-C1C969-49CF3F","49143C-972A87-DB20AC-EB8CD7-F2C4E9","411826-A81C28-E63B2C-E1A17A-F6F0E1","3B180E-993729-E25A36-EBA898-F5DBD3","1D4312-2D9726-3DCF3F-9CD5B2-C9ECDB","191645-761EB9-BF7EE3-BB9BEE-E9CAEC","0E2B29-1F6A76-3997D7-9BB3E6-EAEEF9","37151B-9E1E24-36CD7D-97EBD8-C6F1E2","14203F-174A98-277ECC-94E1EB-C8F0F1","3F131C-92284E-DB2F55-A9DABE-E7FAF3","15402D-238B31-E63DA6-E49FD1-F0D3ED","40200E-873A14-E36C30-EA9479-F0DAD2","350D36-982B84-D03474-ED819B-F9E6E9","142A43-16527D-3A85E8-ECC095-F4ECDF","123F32-25969A-45ABD3-76C0E0-E4ECF6","211549-471DA8-7E3BCF-BFD398-EDF4E5","3A5214-587920-CCDB57-E7D480-F9F3E5","142943-1C759F-39B4D8-88DFE0-CEF0E7","0D202F-1C2CA5-4365D3-E0B88E-F2E3CD","52246E-9B20B0-8625CF-90D147-E3EED7","15330D-388C23-32C94C-A1D7AC-CBEFE1","0F300C-279D37-50D37C-6FE7BA-DCF6EE","2A5214-89A21F-A141D3-BC7CDE-DDC4ED","361A49-59288D-8526DC-C181E4-E0C1F0","1D0E26-431D7C-7527DA-ADD69F-EFF5E2","215E56-40C0D0-79BEE3-2B669C-E9EBF7","31102B-7D1A6B-DD2CD3-E377CF-F7E7F4","2F1026-E698D0-A6D920-1B829D-E4F2F7","6C1B5F-D02561-E062AF-E59BD6-F8DFE3","2B0A1F-9A1771-DC46D6-C96FE9-E0C0F1","144717-88CC97-262394-CDC3EF-D63F21","3E0E15-851423-D8263D-E1737B-F7E0E4","2A102E-7418A7-C744E1-B1DBAA-D1E9CB","0B1629-164C98-3080E2-EEBC91-EEDFCC","103210-21832C-32CA49-9CD49C-D0EBD4","122530-1C76A9-3BA8E8-75C3E6-E5F2F9","2E1A0C-E3BF96-DFC6EC-471F7E-41D07A","11432E-9FD6B9-D12336-8A1B82-EED0EB","134942-177084-3BA2D5-9DC4E7-C7CBEB","270D2F-7C1D9B-A225CF-C671E5-EBD1F1","D2C660-E2DB50-DBD057-E1E34F-EAECB7","141B52-202D79-1F4EE3-E3D579-F5F1DF","101345-8E9EE7-A73DD4-557C1F-DCE9CB","391534-821B7C-CF3BBA-E99BE3-F9E4F8","123B4C-276F8C-1A8FDB-8ECCE6-CCE0EE","246F44-259359-35CEB4-29C6BC-B8DCE6","4D1129-811763-DE21C8-CE80E4-E8CDF3","0B2D0C-369E28-E89BD7-F5D2F5-D838BF","3A5214-308722-C192E8-E7CFF1-B747D8","0D1F34-1F3581-1D26D6-9989E6-D3C1F1","134B15-248F2D-E244A3-E391CF-F6DFED","102A31-8CE3E7-F1CCF2-871F7C-E1EA48","1B0A2A-522691-712DDD-B7D49B-EAF2E2","34123D-9F18AC-CE29B0-E777AE-ECCCDB","384C1A-C0D6A0-32C75F-F0E0F6-7A1785","0A2B23-218440-45D4B3-E982B4-F9E8EE","121D3D-204E93-326FE4-91AAE2-CEDAEE","113C3A-19AB7E-50D379-AADAB0-D4ECD5","491B31-E879AC-A6D350-1A65AB-E7F0F9","103924-259467-33E1E5-8BD8E7-EBF5F9","366824-A0D59D-9ED5B1-87CCA7-D9F3E9","2E0F27-932590-B133CD-C77CDF-D4C3EE","1B523B-2FBE4E-2BE0A8-9D2553-F3DFE5","355214-59771D-A4CB2B-DEE586-EFE0C6","571854-D63F95-BF1861-E37EA6-F0C3C5","32220F-9B831A-B9DC25-C8E190-EEF5E7","1F5861-1F7086-2BA2B2-4AB7D4-C3E6F0","451541-831E6C-DA309D-E47591-F4CCCC","2C0D0B-A04F26-E08F3B-E4CA7E-EFE9C9","120C36-261E85-4B32DE-A594E3-CDC7EB","35190C-7E2521-82B5E0-49B8D6-DEEDF5","879B24-AADD20-B1CF90-EBF5E9-C8BA6A","0F202C-94D6EA-DBCE57-791D28-F9E4E9","161338-3B209A-893AD0-CE8EE4-E5C8ED","371216-872C18-DE6E26-E2B374-F5EDD2","4A1A1F-87254D-E628A8-EE8ACE-FAE7F9","0C1435-402A97-713ED0-B897E3-EACEF4","4C391A-957F24-DCECF4-749FE0-3354DD","1F5763-23848A-28AFD3-34A8C9-C2ECF1","101B47-1E3F76-30A2E5-70D4EB-C7EBE8","472B15-7F4523-E18237-E8AE7D-F1D8CE","1C4661-3175D8-E6B9BC-E0513A-EBEB93","907D1F-CAC268-E1872E-E7B890-EED9D2","151A3B-275096-358ED3-83C4DF-C8EEEF","0B1F30-224591-3571CD-F5E1DB-EBAE80","1F0F31-63169B-C847D8-E979D8-F7DCEC","134C52-2A8B96-37C8D8-82D0E3-E1F2F4","48192D-811C50-DF293F-78E9B5-E6F7F4","11392E-238976-22BCDB-8EC5E2-DEECF6","4F4317-B6D742-DBE64C-BBD194-D7E8CA","1B3E56-2C47E2-809DEB-8A88EA-CEC0F2","0A2925-98E3D5-3055DB-A13D17-EDDACE","6D2739-7F1A3A-549A26-E6F0DD-99C0EA","164633-92EBC7-3476D0-922029-F6DBDE","394E18-638114-92CD36-C2E47E-EFF4E6","151C3D-1D358E-1D2C99-8696E4-C3C6EF","5B1D58-8322A1-E3A1F0-28A144-D7EEDA","491129-A8173D-DD4762-ED8E7E-F1D2C3","331853-4B1C7E-7A36CA-8959D9-D8C6EB","774F1D-835F1B-C98820-D8AF76-F7EFDD","48181E-EA82A5-DFB828-157088-E3F2F8","534813-845618-2553D2-97BBE6-E8F0F7","43134F-701F89-B11ED9-D182E9-E9D2F3","2B0A2D-792166-D9216F-E384A7-F9E6E9","321813-962B20-DA3C59-DD81A8-F7DFEF","391231-891956-D1455C-E89AA6-F2D2CD","481020-E58A8E-DBD457-166D97-E6F0F7","62203A-DE315C-DC7B72-EABCAB-ECD1C2","1C4311-3C7B1F-BC84E7-A027DF-EED9F2","541945-DB74B7-B0D9A5-DAEED6-81E7D5","4B391B-925E24-CD882C-E5B97B-F6EDDF","4A1B4F-9F1959-DE5CB7-E47FAF-EBC9D1","310F3F-7C1997-D037C5-DC77C2-F5DAE9","0F2339-185DA3-2244D1-8188DC-CDC5EC","0D1B33-1B3DA8-3F38DD-8F75DF-D3C7EA","3C1040-891C87-D746DB-E395EB-F8E9FA","460F0F-9A2043-DA348A-E589C3-F8E8F4","D4AA2A-E6DC4C-D5CF5D-E9B795-F7EAE8","124D51-207286-3995DD-94BDE9-C9D5F0","0B2D1B-1E7A2E-EDCDDB-E76FAD-D030B8","0E3912-208031-31C542-9DD5A2-E8F5EA","421730-871D8C-DA45D5-A5D8AD-CBE9CE","0C272D-198BAA-3071D3-7394E2-C2C1F1","30120E-7E2218-E54B26-E2A591-F8E6E3","3F1527-841821-D87546-EC9E99-F3DAC7","4C381A-80531B-D89433-E1BF86-F7F2E8","1E4115-47B02C-A2CF8E-A7D092-EBF5E7","48221B-C24528-F1CAA1-B6E3E8-76CCDF","0C2839-265F99-3991DA-91CCED-DDEBF5","2D781E-31A329-7BC577-ACD9A6-E4F3E3","431024-9D272B-CC4A62-904023-EFD2C3","0B1433-174784-4F9BD5-E2BD77-F3E5D1","10332B-19AA94-36E1BB-7AE4D9-D8F2EC","382414-E8BE97-924BD5-E0F4EC-21824B","162D3E-216783-28B7D1-87E4D0-E6F7F0","311C12-E59D81-E2F3E5-26964A-682CD6","331313-E39B9A-B0D626-175D9D-E0ECF6","1D102F-A477E0-52D147-DFDD53-FAFAE7","340F1C-781D37-DF4545-ECAE96-F1DFCF","49162C-931D80-D727C3-CF91E9-E6D3EF","184B30-1C785B-E87BC4-EEC8DD-D52167","534513-975D2B-CE5336-E98370-EFC3C8","0D0E26-264095-2A68D6-81B6DC-D9F0F7","0F1031-321F91-7A3AD2-BF8AED-F7EBF8","3D0E37-DD7BD3-F2F4DA-698817-48D5D7","12363C-2A8495-35BCD3-7FE3E4-DAF0F2","4A1735-811F39-DD2D2C-E79D9C-F5E2DC","402511-B94017-EEB497-346CC7-C6DCEB","6B4822-832116-E29A67-BDDFE6-1D7AAD","0F0B2E-233D88-F6F6E4-E9CB86-DDCB55","D1C761-A7CA82-E9EB94-E1F398-EEF5E8","2F0E28-902279-E23EB7-E882D2-F3CCEA","422719-82681E-E6992B-88C7EE-C7D0F3","350D23-7F142E-71E8B0-21DBA5-DBF6F0","461015-842030-DA3146-E58990-F6E0E3","0F272C-1A7C96-2ED0E7-92DEE8-E4F2F6","4D1434-E0576B-E6798E-BAE2CC-20D4B3","31122B-972276-E123AD-E38ED5-F2D8EE","8BA31F-BAE433-C3D55D-D5E57C-EEF1D7","330C14-A1381E-D66B2D-DF9E73-EFE3CA","511213-90203C-E04379-E080B6-F3DAEC","11310C-1F7D1F-52D477-94D1AC-D9F4E7","404E18-A8CB2B-CDE34F-D6E47F-EEF2D3","341321-7D1943-E51D89-DE8AB3-F9E5EE","19501F-32B03D-962245-9F2BDA-F1E0F7","20133E-B370E9-E5D04D-ECECCB-41CF46","15163E-241EA2-3E3BDB-969AED-C6C9EC","371149-5B1A7F-D730D3-A9D59D-E2F1DE","2D4A1C-1E7823-40CF4B-98D3A9-C5EFDC","31143C-61299B-6125D8-8669EA-C0C7F1","451034-9C1A6B-D8268C-E276BD-ECCAE0","24143F-A12DBA-B868EC-AC75EB-ECC9ED","0F2F2E-1C897D-3FD68E-92D0A8-D9EFDD","0D2D10-249130-44D045-9ED6A4-E6F4E9","0F2B34-257D98-2DB4E5-79CCE7-E4F1F8","2D1111-8F181F-DA3035-E98781-EDC7C5","4F1334-991F79-D230E6-BD7AE5-D6C6EB","261235-4D167E-8228CA-BB8FEA-DCC6EC","11402F-198060-3AD1AE-E97D8B-F7E0E8","461046-69197D-AD3FD4-AD87E1-CFC4EE","17204E-321C98-6239CF-B86DE8-DDC5ED","195869-1C7297-2668C2-365ACF-C0C2F1","4C161B-842324-E2233E-DE8B91-F2D8DB","180B31-AE95E4-DA2B83-308F25-CFEBCF","16422E-7EDAB2-6A2FD3-965027-F2E0D0","401A48-8E1987-D43FA2-DF84A8-F2DCE0","133C26-1F7A49-46D18A-92E4C1-E6F4EC","4F4217-826F14-B9D63D-B4CD8B-ECF4E6","121A33-204777-1CC1E3-94E3EC-CBEDE9","1B686E-24B7CD-66DDE7-8EDCEC-D7F4F4","1F3F65-352DCA-9172DF-D4C0F1-7781EB","10142D-2D237C-4429E1-B683ED-DBC3EF","321A10-933816-3477DA-73B7E8-C2DCF2","0B2921-82EDD1-3442DA-8B3818-F2E4D5","143138-17797D-2DC6B4-8CEAC7-E3F3EA","3C0F1C-811237-D8276E-E48EB0-FAEAF0","3B1111-8F2724-DE3156-96E5E6-EAF8F3","10173B-1B479E-3B97DD-74CCE5-E4F5F6","0E3A21-7CDABD-961CD8-EFD8C7-845B1C","26112D-C084DE-D71C4A-218342-E8F5EB","195C31-63D6AC-57DBC7-278790-B6E0E8","3D180F-9A2418-DE4C34-E58E72-F5D2CF","3F1037-9B2892-B73BD2-C68AE7-D4C5ED","0D2E37-1F89A0-3CC7DC-94DCED-DFF1F4","1C5E6B-22A5B8-33B2C9-60C5EA-CFE8EF","521216-802820-DA7F26-E4CB9C-EFEAD1","3B1431-951A4F-E7386D-EA6B75-F9EBE6","0D172B-174F91-1DACD8-97ECEE-C9EBE3","3C1742-622091-571CDB-A789EC-C8C5ED","502912-905E1B-D49030-E6D97E-EFF2CB","441135-851F75-C832AF-E583CD-F3DAEF","511540-891F69-DF2AA3-D2ECD4-A4D8B2","236B21-2FBB4C-2FBB72-22997F-C6ECE4","4A1C30-E53CD1-EAA5C3-C7E7CF-25A86E","314D19-6A9926-CADB57-DFE481-F8F4E2","3E1621-991C3F-D9375D-DE7593-F2D7DC","2B0B14-9B1B3C-E8396C-EA7093-F9E8EC","122849-94B8EE-F1C4E2-80155F-9ACF40","290D3C-6F229B-9747DE-B576E9-D8C1F0","0D3219-259434-D8217C-EA79D5-EECAE2","1A2A49-1F2796-4139D0-8A76E6-D6C5EC","4F3115-9D3F21-D69A3F-9ACAE4-E3EFF9","39143D-9C2490-DE42D2-B3DAA9-D0E9CB","22102C-541994-6C20DE-7977E6-C5CAEC","1A4745-199D72-31E690-A2D7AE-CBE8CA","0D1D29-1F4D9E-D75E28-E1B18E-FAF4EA","601F2E-A62364-D31A2C-C7E7D5-9CEEC7","451128-931968-CAEFE0-A4D8B2-44D07E","462D19-8C2F19-E54F3B-E899A3-F2C6D7","124E4A-268985-3BA6D1-EC8182-F9E8E9","0D351E-22784A-F2D3DB-EB74C7-D63797","56221D-D22930-DD8C88-EA9790-F1CDCF","122948-1D367C-3146E6-A38AE6-CDC3EE","153546-12848B-ABE7E8-A02D19-F6DFDE","421038-9F1686-E11DB8-E86BCE-F1C6E4","4B1C4A-BF209F-B6228C-E36183-E8BBBE","1A4010-B0D59E-F1C7D7-952651-344CD3","D8B247-EBC17A-EED7C9-D2DA58-C4D45E","4D1626-E6556D-E8F5ED-93D1AE-23BEDD","493015-7B251E-E51F39-E39EB2-F0D2DD","BFD062-D3DE54-DFE475-E8F0A2-EFEFC5","2C0C34-5E2097-7141D6-9991E7-D4DBF5","154C1E-1F7D28-32C74B-AADAB1-E0F2E2","1E5768-256BA1-9EDAF0-DA8960-F6EAE6","7F681D-CBD65C-979BE2-C6C7EC-3F19DE","13223E-8099E4-F3E2DF-7C3718-D2EA48","170B2E-283391-BAD744-CDE47F-F8F7E4","3D4F17-587C1F-491FDD-A080EB-D4C4EE","123C43-226993-DD1F32-E9898A-ECCCC8","582192-D1C2F0-49D25E-DAE59E-D1CD61","0A222C-27778D-2B8DDB-E1B381-F3DACD","2D0E37-822995-B945D7-D795E2-E6CEED","362113-E3B491-92C331-E1E9F7-1F3577","3E0F42-B558DB-C896E3-E7F4E5-A2CA84","17424A-95DBEA-7D1C49-F0D6DD-CE7D29","5F7E20-76CF3E-AFD7A2-D7EDD4-CED260","0D232D-1E628B-E69898-F7E9E9-D8682F","75202C-E8746F-EDB19E-E8D4B7-DA9347","1A4717-2D9029-9D22D2-DA89E4-F1DFF6","310C0F-EB919F-4499DC-279A51-E2F2E8","12342A-16989A-3FD1DA-89C1EC-E3EDF7","200B2A-641E75-E63AE4-9BCF8F-E2F2E3","0F3E2E-20B1C3-1C97BD-94F0D9-D1E1F1","271A0D-7E4C18-D59037-E6BD96-F8F0E4","161C45-7396EA-41C531-8E1F2C-F3CDD3","114227-22884D-E03BAF-E87FC2-F3D2EC","1E0A2B-CB8DE1-E3375B-1E7A27-D9EFE0","342310-814213-D28727-94D8E5-CFE1EF","172F3E-2587A0-3FDEDE-7DDBC4-D7F3E7","461024-871E5B-E235D1-DF9BE8-DFC6EB","120E26-292183-1A55E2-809DE7-E7F2F9","12494B-1F7A75-37DFE8-81D8DC-CAF2F2","114424-258D47-45D07C-8FCFA6-CFEAD8","1B0F43-4518A2-8A34CF-D1E66C-DFEBD1","6F471C-E5C56E-DED254-C3D65C-E3EED8","0F3A48-235C94-2789DC-DB9678-F7EAE0","701F22-DF3C32-22A769-B9E8D5-1C598F","280D1A-971965-D6408A-EA9AC3-F2C8DF","134121-33CC66-BEBAE7-ACA3E5-D6784E","174E1F-338722-81D34E-C0E37A-F0F2DB","303BD3-8297EB-C1C6F1-E5E04D-D5C85D","D3C25F-DDD455-C5D35F-C1C3F0-A89CE6","61421D-D88E26-DFA360-EBC694-F8F1E8","20491A-24913F-4BD277-76DCAC-CAF3E5","1A483F-17849A-20D8AA-E68474-F6DCDF","36130C-89391D-98EBE9-D1F1F1-20D7E3","1E4511-548C23-BF2DE1-BF93E4-ECD6F2","0E371E-A3D7BD-EACCF2-751982-D93D5D","4F4117-9F7921-D79B2C-E4C389-EEE5C9","574719-E1DA51-76A017-6BBD2F-EBF5E8","131D53-233698-204ED7-F0E1CD-EFDF93","0A1D2D-1C427D-2576DA-F7E8E1-EFB896","3B121C-911636-DD2057-E17C8D-F2D7DF","14371D-1F7C3C-46D16D-8DCE9F-E4F4E8","1F0D2E-631897-802CCE-BA76E9-DDC2F0","341324-7F1F57-DC20C9-D47EDB-E5CFF0","182141-2131A2-3C50E4-7A8AE9-D3D9F2","134241-1CA092-239BD8-E29C87-F6E8E3","25665E-22C29D-45CAB1-33E0C0-B7E6DE","144250-2ED7DA-59BBDD-B5201D-EEC2BB","638425-C4CF63-C3C5EF-837EDB-5E41E4","5E211D-BE4231-DB403E-DC614C-F6DCDA","432215-8E2517-D48D4D-7DD6E9-DAEFF5","143C45-1D6E7A-31ADC3-73D0E2-D0EBF0","1F0C2B-491D8A-BA3BE6-ACCE8E-EDF5E9","2A0E13-E981AC-1BB8DA-2C993C-E0F2E0","162B42-195F98-2A45CC-EDB682-F5EEE4","345214-C7E72C-DADB57-D4C1F0-977AE7","341546-8F20CA-228730-7C9B24-E3EDB4","133A40-238269-37DEB8-9ED5B1-DCF0DE","0E2235-1C659F-4397D7-87B6DF-E0EDF6","451E19-8D4A24-94EAE8-24C6DD-EAF4F8","341558-8B2393-A82496-B773EA-F8E7F4","4C3218-98421E-2037C7-58E7D4-E7F9F4","133724-1F7D6B-29CAD3-86C4DE-CADEEC","36173F-5A248A-491DD8-8171E7-D8DDF3","144E48-14808E-1AA5DA-83AFE8-D9E2F4","14173F-1D4A91-DCD156-E5C184-F1E8D3","44181B-97292B-D9454A-EA827C-F4DEE0","113713-22872A-4AD258-A0D69E-D4ECD6","1F134E-17249A-2855D9-759FE4-E8F2F7","D0D65C-D7DF53-D5E052-D9DD55-E6ECB8","15391D-96D2A0-E42D4C-81248A-EDD6F2","280C27-821882-D448D1-E99AE5-F4E3F6","1A4B15-237B1F-3BCE5F-9CE4C4-DEF5F0","1F4A67-97D6EF-E7CE4B-E65B78-E9B0BE","112D45-1E3BA5-DA823E-E7B873-F6EDDA","153F1C-24903F-DC81B5-D12393-ECC6E6","2E0A1C-E680AE-3470DC-458421-E3EED7","12173F-2C2497-7A4ADB-B873EB-EFDDF7","15113E-18409D-D9B840-EBD693-F2E8CD","16374F-76B0DC-8A152E-EFD0D1-E6CD4C","391516-77211F-DF373D-E78691-F6D5D9","3F1349-BB8FE2-31C53C-E1ECCB-C7D75B","0C332E-229B84-1FE3BB-6EE7D9-E5F7F5","4F2161-C130E0-CF68E5-CA91E5-EBD0F1"];

--- START OF FILE: src/header/Header.css ---

/* ============================================
   HEADER
   ============================================ */

.header {
  position: fixed;
  top: var(--space-5);
  left: var(--space-5);
  right: var(--space-5);
  z-index: 1000;
  background: var(--color-bg-card);
  border-radius: var(--radius-2xl);
  padding: var(--space-3) var(--space-4);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: var(--shadow-md);
}

/* === LEFT SECTION === */
.leftSection {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.logoContainer {
  text-decoration: none; /* Removes the underline */
  color: inherit; /* Prevents it from turning the default link blue */
  display: flex;
  align-items: center;
  gap: var(--space-3);
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--space-2) var(--space-3);
  margin: calc(var(--space-2) * -1) calc(var(--space-1) * -1);
  border-radius: var(--radius-lg);
  transition: background-color var(--transition-fast);
}

.logoContainer:hover {
  background: rgba(0, 0, 0, 0.04);
}

.logoMark {
  display: flex;
  gap: 3px;
}

.logoSwatch {
  width: 6px;
  height: 18px;
  border-radius: 2px;
  transition: background-color 0.3s ease;
}

.logoText {
  font-weight: 700;
  font-size: var(--font-base);
  color: var(--color-text-primary);
}

.logoGradient {
  background: linear-gradient(135deg, #6366f1 0%, #f755b9 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hint {
  font-size: var(--font-sm);
  color: var(--color-text-faint);
  user-select: none;
}

/* === RIGHT SECTION === */
.rightSection {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.iconBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  border-radius: var(--radius-xl);
  cursor: pointer;
  color: #444;
  transition: background-color var(--transition-fast), 
              color var(--transition-fast), 
              opacity var(--transition-fast),
              transform var(--transition-bounce);
  outline: none;
}

.iconBtn:hover:not(.disabled) {
  background: var(--color-bg-hover);
  color: var(--color-text-primary);
  transform: scale(1.05);
}

.iconBtn:active:not(.disabled) {
  transform: scale(0.95);
}

.iconBtn.disabled {
  opacity: 0.3;
  user-select: none;
}

.iconBtn.active {
  background: var(--color-bg-hover);
  color: var(--color-text-primary);
}

.iconBtn:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}

.separator {
  width: 1px;
  height: 24px;
  background: var(--color-border);
  margin: 0 var(--space-2);
}

/* === BOOKMARK TOOLTIP === */
.bookmark-wrapper {
  position: relative;
}

.bookmark-tooltip {
  position: absolute;
  top: calc(100% + var(--space-3));
  right: 0;
  background: var(--color-bg-dark);
  color: var(--color-text-white);
  border-radius: var(--radius-2xl);
  padding: var(--space-4);
  min-width: 220px;
  box-shadow: var(--shadow-xl);
  z-index: 1000;
  animation: tooltipFadeIn 0.2s ease;
}

.bookmark-tooltip::before {
  content: '';
  position: absolute;
  top: -6px;
  right: var(--space-4);
  width: 12px;
  height: 12px;
  background: var(--color-bg-dark);
  transform: rotate(45deg);
  border-radius: 2px;
}

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.bookmark-tooltip-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.bookmark-tooltip-title {
  font-size: var(--font-sm);
  font-weight: 600;
}

.bookmark-tooltip-shortcut {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-sm);
}

.bookmark-tooltip-shortcut kbd {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  height: 24px;
  padding: 0 var(--space-2);
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-md);
  font-family: inherit;
  font-size: var(--font-xs);
  font-weight: 600;
}

.bookmark-tooltip-hint {
  font-size: var(--font-xs);
  color: rgba(255, 255, 255, 0.6);
  margin-top: var(--space-1);
}

.bookmark-tooltip-close {
  position: absolute;
  top: var(--space-2);
  right: var(--space-2);
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  font-size: 18px;
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.bookmark-tooltip-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: white;
}

/* === COMPACT MODE === */
.header.compact {
  left: auto;
  right: var(--space-5);
  width: max-content;
  padding: var(--space-2) var(--space-3);
  justify-content: flex-end;
}

.header.compact .hint,
.header.compact .logoText {
  display: none;
}

.header.compact .leftSection {
  gap: var(--space-2);
}

.header.compact .rightSection {
  gap: 2px;
}

.header.compact .separator {
  margin: 0 var(--space-2);
  height: 20px;
}

.header.compact .iconBtn {
  width: 36px;
  height: 36px;
  border-radius: var(--radius-xl);
}

.header.compact .logoSwatch {
  width: 5px;
  height: 16px;
}

.header.compact .logoContainer {
  padding: var(--space-2);
  margin: 0;
}

/* === CTA BUTTON === */
.header-cta-btn {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  background-color: var(--color-text-primary);
  color: var(--color-text-white);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-lg);
  font-size: 0.9rem;
  font-weight: 600;
  text-decoration: none;
  transition: transform var(--transition-fast), opacity var(--transition-fast);
}

.header-cta-btn:hover {
  transform: translateY(-1px);
  opacity: 0.9;
}

/* === LANDING MODE === */
.header.landing-mode {
  position: sticky;
  top: 0;
  background: var(--color-bg-card);
  box-shadow: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  padding: var(--space-3) var(--space-6);
  border-radius: 0;
}

.landing-nav {
  display: flex;
  align-items: center;
  gap: var(--space-6);
}

.nav-link {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--color-text-primary);
  text-decoration: none;
  transition: opacity var(--transition-base);
}

.nav-link:hover {
  opacity: 0.7;
}

.landing-icons {
  display: flex;
  gap: var(--space-2);
  margin-left: var(--space-2);
  padding-left: var(--space-4);
  border-left: 1px solid var(--color-border);
}

/* === MOBILE === */
@media (max-width: 768px) {
  .header {
    display: none;
  }

  .bookmark-tooltip {
    right: -60px;
    min-width: 200px;
    display: none;
  }

  .bookmark-tooltip::before {
    right: 76px;
    display: none;
  }
}

--- START OF FILE: src/header/Header.jsx ---

import { Link } from 'react-router-dom';
import {
  Undo2,
  Redo2,
  Clock,
  Upload,
  Sparkles,
  Eye,
  Bookmark,
} from 'lucide-react';
import './Header.css';

const DEFAULT_LOGO_COLORS = [
  { hex: '#0B2B29' },
  { hex: '#21A479' },
  { hex: '#95D2A6' },
];

function Header({
  isLanding = false,
  canUndo = false,
  canRedo = false,
  onUndo,
  onRedo,
  onToggleMethod,
  isMethodOpen = false,
  onToggleA11y,
  isA11yOpen = false,
  onToggleHistory,
  isHistoryOpen = false,
  onToggleExport,
  isExportOpen = false,
  onToggleBookmark,
  isBookmarkOpen = false,
  logoColors = [],
}) {
  const displayLogoColors = isLanding ? DEFAULT_LOGO_COLORS : logoColors;

  return (
    <header className={`header ${isLanding ? 'landing-mode' : ''}`}>
      <div className="leftSection">
        <Link to="/home" className="logoContainer" title="Go to Home">
          <div className="logoMark">
            {displayLogoColors.slice(0, 3).map((color, i) => (
              <span
                key={i}
                className="logoSwatch"
                style={{ backgroundColor: color.hex }}
              />
            ))}
          </div>
          <span className="logoText">CColorPalette</span>
        </Link>

        {!isLanding && (
          <span className="hint">Press spacebar to generate</span>
        )}
      </div>

      <div className="rightSection">
        {isLanding ? (
          <nav className="landing-nav">
            {/* Future navigation links */}
          </nav>
        ) : (
          <>
            <button
              className={`iconBtn ${!canUndo ? 'disabled' : ''}`}
              onClick={onUndo}
              disabled={!canUndo}
              title="Undo (Ctrl+Z)"
            >
              <Undo2 size={20} />
            </button>

            <button
              className={`iconBtn ${!canRedo ? 'disabled' : ''}`}
              onClick={onRedo}
              disabled={!canRedo}
              title="Redo (Ctrl+Y)"
            >
              <Redo2 size={20} />
            </button>

            <div className="separator" />

            <button
              className={`iconBtn ${isMethodOpen ? 'active' : ''}`}
              onClick={onToggleMethod}
              title="Generation Method"
            >
              <Sparkles size={20} />
            </button>

            <button
              className={`iconBtn ${isA11yOpen ? 'active' : ''}`}
              onClick={onToggleA11y}
              title="Accessibility"
            >
              <Eye size={20} />
            </button>

            <button
              className={`iconBtn ${isHistoryOpen ? 'active' : ''}`}
              onClick={onToggleHistory}
              title="History"
            >
              <Clock size={20} />
            </button>

            <button
              className={`iconBtn ${isExportOpen ? 'active' : ''}`}
              onClick={onToggleExport}
              title="Export"
            >
              <Upload size={20} />
            </button>

            <button
              className={`iconBtn ${isBookmarkOpen ? 'active' : ''}`}
              onClick={onToggleBookmark}
              title="Bookmark"
            >
              <Bookmark size={20} />
            </button>
          </>
        )}
      </div>
    </header>
  );
}

export default Header;

--- START OF FILE: src/header/ModeDropdown.css ---

/* ============================================
   MODE DROPDOWN
   ============================================ */

   .modeDropdown {
    position: relative;
  }
  
  .modeIconBtn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: none;
    border: none;
    border-radius: var(--radius-xl);
    cursor: pointer;
    color: #444;
    transition: background-color var(--transition-fast), color var(--transition-fast);
  }
  
  .modeIconBtn:hover {
    background: var(--color-bg-hover);
    color: var(--color-text-primary);
  }
  
  .modeIconBtn.active {
    background: var(--color-bg-hover);
    color: var(--color-text-primary);
  }
  
  .modeDropdownMenu {
    position: absolute;
    top: calc(100% + var(--space-2));
    right: 0;
    min-width: 200px;
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-dropdown);
    padding: var(--space-2);
    z-index: 1000;
    animation: dropdownFadeIn var(--transition-fast);
  }
  
  @keyframes dropdownFadeIn {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .modeDropdownHeader {
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-faint);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    padding: var(--space-2) var(--space-3) var(--space-3);
  }
  
  .modeDropdownItem {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 2px;
    width: 100%;
    padding: var(--space-3);
    background: transparent;
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: background var(--transition-fast);
    outline: none;
  }
  
  .modeDropdownItem:hover {
    background: rgba(0, 0, 0, 0.05);
  }
  
  .modeDropdownItem.selected {
    background: rgba(0, 0, 0, 0.08);
  }
  
  .modeLabel {
    font-size: var(--font-sm);
    font-weight: 500;
    color: var(--color-text-primary);
  }
  
  .modeDescription {
    font-size: var(--font-xs);
    color: var(--color-text-muted);
  }

--- START OF FILE: src/header/ModeDropdown.jsx ---

import { useState, useRef, useEffect } from 'react';
import { SlidersHorizontal } from 'lucide-react';
import './ModeDropdown.css';

const MODES = [
  { id: 'auto', label: 'Auto', description: 'Random harmony' },
  { id: 'mono', label: 'Monochromatic', description: 'Single hue' },
  { id: 'analogous', label: 'Analogous', description: 'Adjacent hues' },
  { id: 'complementary', label: 'Complementary', description: 'Opposite hues' },
  { id: 'splitComplementary', label: 'Split Comp.', description: 'Opposite + adjacent' },
  { id: 'triadic', label: 'Triadic', description: 'Three-way split' },
];

function ModeDropdown({ value, onChange }) {
  const [isOpen, setIsOpen] = useState(false);
  const dropdownRef = useRef(null);

  const currentMode = MODES.find((m) => m.id === value) || MODES[0];

  useEffect(() => {
    if (!isOpen) return;

    const handleClickOutside = (e) => {
      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {
        setIsOpen(false);
      }
    };

    const handleKeyDown = (e) => {
      if (e.key === 'Escape') setIsOpen(false);
    };

    document.addEventListener('mousedown', handleClickOutside);
    document.addEventListener('keydown', handleKeyDown);

    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
      document.removeEventListener('keydown', handleKeyDown);
    };
  }, [isOpen]);

  const handleSelect = (modeId) => {
    onChange(modeId);
    setIsOpen(false);
  };

  return (
    <div className="modeDropdown" ref={dropdownRef}>
      <button
        className={`modeIconBtn ${isOpen ? 'active' : ''}`}
        onClick={() => setIsOpen(!isOpen)}
        title={`Mode: ${currentMode.label}`}
      >
        <SlidersHorizontal size={20} />
      </button>

      {isOpen && (
        <div className="modeDropdownMenu">
          <div className="modeDropdownHeader">Generate Method</div>
          {MODES.map((mode) => (
            <button
              key={mode.id}
              className={`modeDropdownItem ${mode.id === value ? 'selected' : ''}`}
              onClick={() => handleSelect(mode.id)}
            >
              <span className="modeLabel">{mode.label}</span>
              <span className="modeDescription">{mode.description}</span>
            </button>
          ))}
        </div>
      )}
    </div>
  );
}

export default ModeDropdown;

--- START OF FILE: src/index.css ---

/* ============================================
   DESIGN SYSTEM - COLOR PALETTE GENERATOR
   ============================================ */

   /*@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');*/
   @import url('https://fonts.googleapis.com/css2?family=Elms+Sans:wght@400;500;600;700&display=swap');
   :root {
     /* === COLORS === */
     --color-bg-dark: #161616;
     --color-bg-panel: #f8f8f8;
     --color-bg-card: #ffffff;
     --color-bg-hover: #f0f0f0;
     
     --color-text-primary: #161616;
     --color-text-secondary: #666666;
     --color-text-muted: #888888;
     --color-text-faint: #999999;
     --color-text-white: #ffffff;
     
     --color-border: rgba(0, 0, 0, 0.08);
     --color-border-subtle: rgba(0, 0, 0, 0.06);
     --color-border-strong: rgba(0, 0, 0, 0.12);
     
     --color-success-bg: #dcfce7;
     --color-success-text: #166534;
     --color-error-bg: #fee2e2;
     --color-error-text: #991b1b;
     
     /* === SPACING (4px grid) === */
     --space-1: 4px;
     --space-2: 8px;
     --space-3: 12px;
     --space-4: 16px;
     --space-5: 20px;
     --space-6: 24px;
     --space-8: 32px;
     --space-10: 40px;
     --space-12: 48px;
     --space-20: 80px;
     
     /* === TYPOGRAPHY === */
     --font-family: 'Elms Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
     --font-mono: 'SF Mono', 'Fira Code', 'Fira Mono', monospace;
     
     --font-xs: 0.75rem;    /* 12px */
     --font-sm: 0.875rem;   /* 14px */
     --font-base: 1rem;     /* 16px */
     --font-lg: 1.25rem;    /* 20px */
     --font-xl: 1.5rem;     /* 24px */
     --font-2xl: 2rem;      /* 32px */
     --font-3xl: 3rem;      /* 48px */
     
     --leading-tight: 1.2;
     --leading-normal: 1.5;
     --tracking-tight: -0.02em;
     --tracking-wide: 0.5px;
     
     /* === RADIUS === */
     --radius-sm: 4px;
     --radius-md: 6px;
     --radius-lg: 8px;
     --radius-xl: 10px;
     --radius-2xl: 12px;
     --radius-full: 9999px;
     
     /* === SHADOWS === */
     --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
     --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.1);
     --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.1);
     --shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.12);
     --shadow-dropdown: 0 4px 24px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(0, 0, 0, 0.04);
     
     /* === TRANSITIONS === */
     --transition-fast: 150ms ease;
     --transition-base: 200ms ease;
     --transition-bounce: 200ms cubic-bezier(0.34, 1.56, 0.64, 1);
     --transition-panel: 400ms cubic-bezier(0.34, 1.16, 0.64, 1);
     --transition-spring: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
     
     /* === SIZES === */
     --header-height: 60px;
     --panel-width-sm: 240px;
     --panel-width-md: 260px;
     --panel-width-lg: 280px;
     --panel-width-xl: 300px;
     
     /* === VIEWPORT === */
     --vh: 1vh;
   }
   
   /* === RESET === */
   *,
   *::before,
   *::after {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
   }
   
   html {
     height: 100%;
   }
   
   body {
     font-family: var(--font-family);
     font-size: var(--font-base);
     line-height: var(--leading-normal);
     color: var(--color-text-white);
     background-color: var(--color-bg-dark);
     -webkit-font-smoothing: antialiased;
     -moz-osx-font-smoothing: grayscale;
     height: 100%;
     min-height: 100vh;
     min-height: 100dvh;
     min-height: -webkit-fill-available;
     overscroll-behavior: none;
   }
   
   #root {
     height: 100%;
     min-height: 100vh;
     min-height: 100dvh;
     min-height: -webkit-fill-available;
   }
   
   /* === BASE ELEMENTS === */
   button,
   input,
   select,
   textarea {
     font-family: inherit;
     font-size: inherit;
   }
   
   button {
     -webkit-user-select: none;
     user-select: none;
   }
   
   button:focus {
     outline: none;
   }
   
   button:focus-visible {
     outline: 2px solid var(--color-text-primary);
     outline-offset: 2px;
   }
   
   h1 { font-size: var(--font-3xl); line-height: var(--leading-tight); }
   h2 { font-size: var(--font-2xl); line-height: var(--leading-tight); }
   h3 { font-size: var(--font-xl); line-height: var(--leading-tight); }
   small { font-size: var(--font-sm); }
   
   /* === APP WRAPPER === */
   .app-wrapper {
     height: 100vh;
     height: 100dvh;
     overflow: hidden;
     -ms-overflow-style: none;
     scrollbar-width: none;
   }
   
   .app-wrapper::-webkit-scrollbar {
     display: none;
   }
   
   /* === PAGE SECTIONS === */
   .page-section {
     height: 100vh;
     height: 100dvh;
     width: 100%;
     position: absolute;
     top: 0;
     left: 0;
     overflow: hidden;
     transition: opacity 0.4s ease, visibility 0.4s ease;
   }
   
   .page-section.hidden {
     opacity: 0;
     visibility: hidden;
     pointer-events: none;
   }
   
   .page-section.visible {
     opacity: 1;
     visibility: visible;
     pointer-events: auto;
   }
   
   .page-section.landing-page {
     overflow-y: auto;
   }
   
   /* === NAV CHEVRON === */
   .nav-chevron {
     position: fixed;
     bottom: var(--space-5);
     left: 50%;
     transform: translateX(-50%);
     z-index: 50;
     display: flex;
     flex-direction: column;
     align-items: center;
     gap: var(--space-1);
     background: none;
     border: none;
     cursor: pointer;
     padding: var(--space-2) var(--space-4);
     border-radius: var(--radius-lg);
     transition: var(--transition-base);
     opacity: 0.5;
   }
   
   .nav-chevron:hover {
     opacity: 1;
     background: rgba(255, 255, 255, 0.1);
   }
   
   .nav-chevron-label {
     font-size: 11px;
     font-weight: 500;
     color: rgba(255, 255, 255, 0.7);
   }
   
   .nav-chevron-icon {
     color: rgba(255, 255, 255, 0.7);
     animation: chevronBounce 2s ease-in-out infinite;
   }
   
   .nav-chevron:hover .nav-chevron-icon {
     animation: none;
   }
   
   @keyframes chevronBounce {
     0%, 100% { transform: translateY(0); }
     50% { transform: translateY(3px); }
   }
   
   .nav-chevron.on-light {
     opacity: 0.4;
   }
    
   .nav-chevron.on-light:hover {
     opacity: 1;
     background: rgba(0, 0, 0, 0.05);
   }
   
   .nav-chevron.on-light .nav-chevron-label {
     color: rgba(0, 0, 0, 0.5);
   }
   
   .nav-chevron.on-light .nav-chevron-icon {
     color: rgba(0, 0, 0, 0.4);
   }
   
   .nav-chevron.on-light:hover .nav-chevron-label,
   .nav-chevron.on-light:hover .nav-chevron-icon {
     color: rgba(0, 0, 0, 0.8);
   }
   
   .nav-chevron.up .nav-chevron-icon {
     transform: rotate(180deg);
     animation: chevronBounceUp 2s ease-in-out infinite;
   }
   
   @keyframes chevronBounceUp {
     0%, 100% { transform: rotate(180deg) translateY(0); }
     50% { transform: rotate(180deg) translateY(3px); }
   }
   
   /* === SR ONLY === */
   .sr-only {
     position: absolute;
     width: 1px;
     height: 1px;
     padding: 0;
     margin: -1px;
     overflow: hidden;
     clip: rect(0, 0, 0, 0);
     white-space: nowrap;
     border-width: 0;
     pointer-events: none;
   }
   
   /* === MOBILE NAV CHEVRON === */
   @media (max-width: 768px) {
     .nav-chevron {
       bottom: calc(var(--space-3) + env(safe-area-inset-bottom, 0px));
       padding: var(--space-2) var(--space-3);
     }
   
     .nav-chevron-label {
       font-size: 10px;
     }
   
     .nav-chevron.panels-open {
       opacity: 0;
       pointer-events: none;
       transform: translateX(-50%) translateY(20px);
     }
   }

--- START OF FILE: src/main.jsx ---

import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

--- START OF FILE: src/pages/Explore/ExplorePage.css ---

.explore-page {
    min-height: 100vh;
    background: var(--color-bg-card);
  }
  
  .explore-header {
    position: sticky;
    top: 0;
    z-index: 50;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--color-border-subtle);
    padding: var(--space-3) 0;
  }
  
  .explore-main {
    padding: var(--space-12) 0;
  }
  
  .explore-hero {
    text-align: center;
    margin-bottom: var(--space-12);
  }
  
  .search-wrapper {
    max-width: 500px;
    margin: var(--space-8) auto 0;
    position: relative;
  }
  
  .search-input {
    width: 100%;
    padding: var(--space-3) var(--space-4) var(--space-3) var(--space-10);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-full);
    font-size: var(--font-base);
    background: var(--color-bg-panel);
  }
  
  .search-icon {
    position: absolute;
    left: var(--space-3);
    top: 50%;
    transform: translateY(-50%);
    color: var(--color-text-muted);
  }
  
  /* THE GRID - Optimized for many items */
  .explore-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: var(--space-4);
    /* Performance optimization for huge lists */
    content-visibility: auto; 
    contain-intrinsic-size: 100px; 
  }
  
  .mini-card {
    display: flex;
    flex-direction: column;
    border-radius: var(--radius-lg);
    overflow: hidden;
    text-decoration: none;
    background: var(--color-bg-panel);
    border: 1px solid var(--color-border-subtle);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  
  .mini-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-border);
  }
  
  .mini-preview {
    height: 80px;
    display: flex;
    width: 100%;
  }
  
  .mini-stripe {
    flex: 1;
    height: 100%;
  }
  
  .mini-label {
    padding: var(--space-2) var(--space-3);
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--color-text-secondary);
    text-align: center;
  }
  
  .explore-footer {
    text-align: center;
    padding: var(--space-8);
    border-top: 1px solid var(--color-border-subtle);
    color: var(--color-text-muted);
    font-size: var(--font-xs);
  }

--- START OF FILE: src/pages/Explore/ExplorePage.jsx ---

import React, { useState, useMemo, useEffect } from 'react';
import { Link } from 'react-router-dom';
import { ArrowLeft, Search } from 'lucide-react';
import { DIRECTORY_PALETTES } from '../../data/paletteDirectory';
import logo from '../../assets/Frame4ico.png';
import './ExplorePage.css';
import { trackEvent } from '../../utils/analytics';

function ExplorePage() {
  const [searchTerm, setSearchTerm] = useState('');

  // Simple filter to let users find hex codes if they want
  const filteredPalettes = useMemo(() => {
    if (!searchTerm) return DIRECTORY_PALETTES;
    const term = searchTerm.toUpperCase().replace('#', '');
    return DIRECTORY_PALETTES.filter(p => p.includes(term));
  }, [searchTerm]);

  useEffect(() => {
    if (searchTerm.length > 2) {
      const timer = setTimeout(() => {
        trackEvent('search_directory', { term: searchTerm });
      }, 1000);
      return () => clearTimeout(timer);
    }
  }, [searchTerm]);

  return (
    <div className="explore-page">
      {/* Simple Header */}
      <header className="explore-header">
        <div className="header-container">
          <Link to="/" className="header-logo">
             <img src={logo} alt="CColorPalette" className="header-logo-img" />
             <span className="header-logo-text">CColorPalette</span>
          </Link>
          <Link to="/" className="btn-secondary btn-small">
            <ArrowLeft size={16} />
            <span>Back to Generator</span>
          </Link>
        </div>
      </header>

      <main className="explore-main">
        <div className="section-container">
          <div className="explore-hero">
            <h1 className="section-title">Explore All Palettes</h1>
            <p className="section-subtitle">
              Browse our complete directory of {DIRECTORY_PALETTES.length} curated color combinations.
            </p>
            
            {/* Search Bar */}
            <div className="search-wrapper">
              <Search className="search-icon" size={20} />
              <input 
                type="text" 
                placeholder="Search hex code (e.g. E63946)..." 
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
                className="search-input"
              />
            </div>
          </div>

          <div className="explore-grid">
            {filteredPalettes.map((paletteString) => {
              const colors = paletteString.split('-');
              return (
                <a 
                  key={paletteString} 
                  href={`/${paletteString}`}
                  className="mini-card"
                  target="_blank" // Optional: open in new tab so they don't lose place
                  rel="noopener noreferrer"
                >
                  <div className="mini-preview">
                    {colors.map((hex, i) => (
                      <div 
                        key={i} 
                        style={{ backgroundColor: `#${hex}` }} 
                        className="mini-stripe"
                      />
                    ))}
                  </div>
                  <span className="mini-label">#{colors[0]}...</span>
                </a>
              );
            })}
          </div>

          {filteredPalettes.length === 0 && (
            <div className="empty-state">
              <p>No palettes found matching "{searchTerm}"</p>
            </div>
          )}
        </div>
      </main>

      {/* Simple Footer */}
      <footer className="explore-footer">
        <p> 2026 CColorPalette Directory</p>
      </footer>
    </div>
  );
}

export default ExplorePage;

--- START OF FILE: src/pages/LandingPage/LandingPage.css ---

/* ============================================
   LANDING PAGE STYLES
   ============================================ */

   .landing-page {
    min-height: 100vh;
    background: var(--color-bg-card);
  }
  
  /* ============================================
     HEADER
     ============================================ */
  .landing-header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--color-border-subtle);
    transition: box-shadow var(--transition-fast);
  }

  /* Add shadow when scrolled */
  .landing-header.scrolled {
    box-shadow: var(--shadow-md);
  }

  .header-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-3) var(--space-6);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-6);
  }
  
/* ============================================
   HEADER LOGO
   ============================================ */

   .header-logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-decoration: none;
  }
  
  .header-logo-img {
    width: 32px;
    height: 32px;
    object-fit: contain;
  }
  
  .header-logo-text {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-primary);
  }
  
  /* Remove the old logo-mark styles or keep them as fallback */
  .header-logo-mark {
    display: none; /* Hide the old colored bars */
  }
  
  .header-logo-mark span {
    width: 6px;
    height: 18px;
    border-radius: 2px;
  }
  
  .header-logo-text {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-primary);
  }
  
  .header-nav {
    display: flex;
    align-items: center;
    gap: var(--space-6);
  }
  
  .header-nav-link {
    font-size: var(--font-sm);
    font-weight: 500;
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: color var(--transition-fast);
  }
  
  .header-nav-link:hover {
    color: var(--color-text-primary);
  }
  
  .header-actions {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }
  
  .btn-small {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-sm);
  }
  
  .mobile-menu-toggle {
    display: none;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: none;
    border: none;
    border-radius: var(--radius-lg);
    color: var(--color-text-primary);
    cursor: pointer;
  }
  
  .mobile-nav {
    display: none;
    flex-direction: column;
    gap: var(--space-2);
    padding: var(--space-4) var(--space-6);
    border-top: 1px solid var(--color-border-subtle);
    background: var(--color-bg-card);
  }
  
  .mobile-nav-link {
    display: block;
    padding: var(--space-3);
    font-size: var(--font-base);
    font-weight: 500;
    color: var(--color-text-secondary);
    text-decoration: none;
    border-radius: var(--radius-lg);
    transition: background var(--transition-fast), color var(--transition-fast);
  }
  
  .mobile-nav-link:hover {
    background: var(--color-bg-panel);
    color: var(--color-text-primary);
  }
  
  .btn-full {
    width: 100%;
    justify-content: center;
    margin-top: var(--space-2);
  }
  
  @media (max-width: 768px) {
    .header-nav {
      display: none;
    }
  
    .header-actions .btn-primary {
      display: none;
    }
  
    .mobile-menu-toggle {
      display: flex;
    }
  
    .mobile-nav {
      display: flex;
    }
  }
  
  /* ============================================
     SECTION FOUNDATIONS
     ============================================ */
  
  .section-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-6);
  }
  
  .section-header {
    text-align: center;
    max-width: 720px;
    margin: 0 auto var(--space-12);
  }
  
  .section-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    background: var(--color-bg-panel);
    border-radius: var(--radius-full);
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-secondary);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    margin-bottom: var(--space-4);
  }
  
  .section-title {
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 800;
    color: var(--color-text-primary);
    line-height: 1.1;
    letter-spacing: var(--tracking-tight);
    margin-bottom: var(--space-4);
  }
  
  .section-subtitle {
    font-size: var(--font-lg);
    color: var(--color-text-secondary);
    line-height: var(--leading-normal);
    max-width: 600px;
    margin: 0 auto;
  }
  
  /* ============================================
     HERO SECTION
     ============================================ */
  
  .hero-section {
    padding: var(--space-12) 0;
    background: linear-gradient(180deg, var(--color-bg-card) 0%, var(--color-bg-panel) 100%);
  }
  
  .hero-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 var(--space-6);
    text-align: center;
  }
  
  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    background: var(--color-text-primary);
    color: var(--color-text-white);
    border-radius: var(--radius-full);
    font-size: var(--font-xs);
    font-weight: 600;
    margin-bottom: var(--space-6);
  }
  
  .hero-title {
    font-size: clamp(2.5rem, 8vw, 4.5rem);
    font-weight: 800;
    color: var(--color-text-primary);
    line-height: 1.05;
    letter-spacing: -0.03em;
    margin-bottom: var(--space-6);
  }
  
  .hero-title-accent {
    background: linear-gradient(135deg, #6366f1 0%, #ec4899 50%, #f59e0b 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .hero-subtitle {
    font-size: var(--font-xl);
    color: var(--color-text-secondary);
    line-height: var(--leading-normal);
    max-width: 560px;
    margin: 0 auto var(--space-8);
  }
  
  .hero-buttons {
    display: flex;
    gap: var(--space-4);
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: var(--space-6);
  }
  
  .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-4) var(--space-6);
    background: var(--color-text-primary);
    color: var(--color-text-white);
    border: none;
    border-radius: var(--radius-xl);
    font-size: var(--font-base);
    font-weight: 600;
    cursor: pointer;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    text-decoration: none;
  }
  
  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }
  
  .btn-primary:active {
    transform: translateY(0);
  }
  
  .btn-large {
    padding: var(--space-4) var(--space-8);
    font-size: var(--font-lg);
    border-radius: var(--radius-2xl);
  }
  
  .btn-secondary {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-4) var(--space-6);
    background: var(--color-bg-card);
    color: var(--color-text-primary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    font-size: var(--font-base);
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: background var(--transition-fast), border-color var(--transition-fast);
  }
  
  .btn-secondary:hover {
    background: var(--color-bg-panel);
    border-color: var(--color-border-strong);
  }
  
  .hero-hint {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    font-size: var(--font-sm);
    color: var(--color-text-muted);
  }
  
  .hero-hint kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 var(--space-2);
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-family: var(--font-mono);
    font-size: var(--font-xs);
    font-weight: 600;
    box-shadow: 0 2px 0 var(--color-border);
  }
  
  /* Hero Screenshot */
  .hero-screenshot {
    max-width: 1000px;
    margin: var(--space-12) auto 0;
    padding: 0 var(--space-6);
  }
  
  .screenshot-browser {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    background: var(--color-text-primary);
    border-radius: var(--radius-2xl) var(--radius-2xl) 0 0;
  }
  
  .browser-dots {
    display: flex;
    gap: var(--space-2);
  }
  
  .browser-dots span {
    width: 12px;
    height: 12px;
    border-radius: var(--radius-full);
    background: rgba(255, 255, 255, 0.2);
  }
  
  .browser-url {
    flex: 1;
    padding: var(--space-2) var(--space-3);
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    font-size: var(--font-xs);
    font-family: var(--font-mono);
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
  }
  
  .screenshot-image {
    background: var(--color-bg-panel);
    border-radius: 0 0 var(--radius-2xl) var(--radius-2xl);
    overflow: hidden;
    box-shadow: var(--shadow-xl);
  }
  
  .screenshot-placeholder {
    aspect-ratio: 16 / 9;
    display: flex;
    align-items: stretch;
  }
  
  .placeholder-colors {
    display: flex;
    width: 100%;
  }
  
  .placeholder-colors > div {
    flex: 1;
  }
  
  /* ============================================
     STATS SECTION
     ============================================ */
  
  .stats-section {
    padding: var(--space-8) 0;
    background: var(--color-text-primary);
  }
  
  .stats-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 var(--space-6);
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: var(--space-6);
  }
  
  .stat-item {
    text-align: center;
  }
  
  .stat-value {
    display: block;
    font-size: var(--font-3xl);
    font-weight: 800;
    color: var(--color-text-white);
    line-height: 1;
  }
  
  .stat-label {
    font-size: var(--font-sm);
    color: rgba(255, 255, 255, 0.6);
    margin-top: var(--space-1);
  }

  /* ============================================
   TRENDING PALETTES SECTION
   ============================================ */

.trending-section {
  padding: var(--space-20) 0;
  background: var(--color-bg-panel); /* Slight contrast from hero */
}

.trending-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: var(--space-6);
  margin-bottom: var(--space-8);
}

.palette-card {
  display: flex;
  flex-direction: column;
  background: var(--color-bg-card);
  border-radius: var(--radius-xl);
  overflow: hidden;
  text-decoration: none;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  border: 1px solid var(--color-border-subtle);
  height: 180px; /* Fixed height for uniformity */
}

.palette-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-border);
}

.palette-preview {
  flex: 1;
  display: flex;
  width: 100%;
}

.palette-stripe {
  flex: 1;
  height: 100%;
}

/* Specific logic to make the first and last colors slightly wider 
   looks better visually */
.palette-stripe:first-child {
  flex: 1.2;
}
.palette-stripe:last-child {
  flex: 1.2;
}

.palette-info {
  padding: var(--space-3) var(--space-4);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--color-bg-card);
  border-top: 1px solid var(--color-border-subtle);
}

.palette-name {
  font-family: var(--font-mono);
  font-size: var(--font-xs);
  color: var(--color-text-secondary);
  font-weight: 500;
}

.palette-arrow {
  color: var(--color-text-muted);
  transition: transform var(--transition-fast), color var(--transition-fast);
}

.palette-card:hover .palette-arrow {
  color: var(--color-text-primary);
  transform: translateX(4px);
}

@media (max-width: 768px) {
  .trending-grid {
    grid-template-columns: repeat(2, 1fr); /* 2 columns on mobile */
    gap: var(--space-4);
  }
  
  .palette-card {
    height: 140px; /* Shorter on mobile */
  }
}

@media (max-width: 480px) {
  .trending-grid {
    grid-template-columns: 1fr; /* 1 column on very small screens */
  }
}
  
  /* ============================================
     FEATURES SECTION
     ============================================ */
  
  .features-section {
    padding: var(--space-20) 0;
  }
  
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-6);
  }
  
  .feature-card {
    padding: var(--space-6);
    background: var(--color-bg-panel);
    border-radius: var(--radius-2xl);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  }
  
  .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }
  
  .feature-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: var(--color-bg-card);
    border-radius: var(--radius-xl);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
  }
  
  .feature-title {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
  }
  
  .feature-description {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    line-height: var(--leading-normal);
  }
  
  /* ============================================
     HOW IT WORKS SECTION
     ============================================ */
  
  .how-it-works-section {
    padding: var(--space-20) 0;
    background: var(--color-bg-panel);
  }
  
  .steps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-8);
    margin-bottom: var(--space-12);
  }
  
  .step-card {
    position: relative;
    text-align: center;
    padding: var(--space-8) var(--space-6);
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
  }
  
  .step-number {
    position: absolute;
    top: -16px;
    left: 50%;
    transform: translateX(-50%);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-text-primary);
    color: var(--color-text-white);
    border-radius: var(--radius-full);
    font-size: var(--font-sm);
    font-weight: 700;
  }
  
  .step-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 64px;
    margin: 0 auto var(--space-4);
    background: var(--color-bg-panel);
    border-radius: var(--radius-2xl);
    color: var(--color-text-primary);
  }
  
  .step-title {
    font-size: var(--font-xl);
    font-weight: 700;
    color: var(--color-text-primary);
    margin-bottom: var(--space-3);
  }
  
  .step-description {
    font-size: var(--font-base);
    color: var(--color-text-secondary);
    line-height: var(--leading-normal);
  }
  
  .cta-center {
    text-align: center;
  }
  
  /* ============================================
     EXPORT SECTION
     ============================================ */
  
  .export-section {
    padding: var(--space-20) 0;
  }
  
  .export-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-6);
  }
  
  .export-card {
    padding: var(--space-5);
    background: var(--color-bg-panel);
    border-radius: var(--radius-2xl);
  }
  
  .export-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
  }
  
  .export-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: var(--color-bg-card);
    border-radius: var(--radius-lg);
    color: var(--color-text-primary);
  }
  
  .export-title {
    font-size: var(--font-base);
    font-weight: 700;
    color: var(--color-text-primary);
  }
  
  .export-description {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    line-height: var(--leading-normal);
    margin-bottom: var(--space-4);
  }
  
  .export-example {
    position: relative;
    background: var(--color-text-primary);
    border-radius: var(--radius-lg);
    overflow: hidden;
  }
  
  .export-example pre {
    margin: 0;
    padding: var(--space-4);
    overflow-x: auto;
  }
  
  .export-example code {
    font-family: var(--font-mono);
    font-size: var(--font-xs);
    color: rgba(255, 255, 255, 0.9);
    white-space: pre;
  }
  
  .copy-btn {
    position: absolute;
    top: var(--space-2);
    right: var(--space-2);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: var(--radius-md);
    color: rgba(255, 255, 255, 0.7);
    cursor: pointer;
    transition: background var(--transition-fast), color var(--transition-fast);
  }
  
  .copy-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    color: var(--color-text-white);
  }
  
  /* ============================================
     ACCESSIBILITY SECTION
     ============================================ */
  
  .accessibility-section {
    padding: var(--space-20) 0;
    background: var(--color-bg-panel);
  }
  
  .a11y-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-12);
    align-items: center;
  }
  
  .a11y-text .section-badge {
    text-align: left;
  }
  
  .a11y-text .section-title {
    text-align: left;
  }
  
  .a11y-text .section-subtitle {
    text-align: left;
    margin: 0 0 var(--space-8) 0;
    max-width: none;
  }
  
  .a11y-features {
    list-style: none;
    margin: 0 0 var(--space-8) 0;
    padding: 0;
  }
  
  .a11y-features li {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    margin-bottom: var(--space-4);
    font-size: var(--font-base);
    color: var(--color-text-secondary);
  }
  
  .a11y-features li svg {
    flex-shrink: 0;
    color: #22c55e;
    margin-top: 2px;
  }
  
  .a11y-visual {
    display: flex;
    justify-content: center;
  }
  
  .a11y-preview {
    width: 100%;
    max-width: 320px;
  }
  
  .a11y-panel-mock {
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
    overflow: hidden;
    box-shadow: var(--shadow-xl);
  }
  
  .panel-mock-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-border-subtle);
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-primary);
  }
  
  .contrast-mock {
    padding: var(--space-4);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }
  
  .contrast-item-mock {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    background: var(--color-bg-panel);
    border-radius: var(--radius-lg);
  }
  
  .swatch-mock {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: var(--font-sm);
    flex-shrink: 0;
  }
  
  .contrast-info-mock {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  
  .contrast-hex-mock {
    font-size: var(--font-xs);
    font-family: var(--font-mono);
    color: var(--color-text-primary);
  }
  
  .contrast-ratio-mock {
    font-size: var(--font-xs);
    color: var(--color-text-muted);
  }
  
  .badge-mock {
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    font-size: 10px;
    font-weight: 700;
  }
  
  .badge-mock.pass {
    background: #dcfce7;
    color: #166534;
  }
  
  /* ============================================
     COLOR THEORY SECTION
     ============================================ */
  
  .theory-section {
    padding: var(--space-20) 0;
  }
  
  .theory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-6);
  }
  
  .theory-card {
    padding: var(--space-6);
    background: var(--color-bg-panel);
    border-radius: var(--radius-2xl);
  }
  
  .theory-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: var(--color-bg-card);
    border-radius: var(--radius-xl);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
  }
  
  .theory-title {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-primary);
    margin-bottom: var(--space-1);
  }
  
  .theory-subtitle {
    display: block;
    font-size: var(--font-sm);
    color: var(--color-text-muted);
    margin-bottom: var(--space-4);
  }
  
  .theory-content {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    line-height: var(--leading-loose);
    white-space: pre-line;
  }
  
/* ============================================
   USE CASES SECTION (continued)
   ============================================ */

   .use-cases-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-5);
  }
  
  .use-case-card {
    padding: var(--space-5);
    background: var(--color-bg-card);
    border-radius: var(--radius-xl);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  }
  
  .use-case-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }
  
  .use-case-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: var(--color-bg-panel);
    border-radius: var(--radius-lg);
    color: var(--color-text-primary);
    margin-bottom: var(--space-3);
  }
  
  .use-case-title {
    font-size: var(--font-base);
    font-weight: 700;
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
  }
  
  .use-case-description {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    line-height: var(--leading-normal);
  }
  
/* ============================================
   COMPARISON SECTION - FIXED OVERFLOW
   ============================================ */

   .comparison-section {
    padding: var(--space-20) 0;
    /* Prevent this section from causing page overflow */
    overflow: hidden;
  }
  
  .comparison-table-wrapper {
    position: relative;
    max-width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    
    /* Add padding so shadows don't get clipped */
    padding-bottom: var(--space-2);
    margin-bottom: calc(var(--space-2) * -1);
  }
  
  /* Scroll hint shadows - fade indicators */
  .comparison-table-wrapper::before,
  .comparison-table-wrapper::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 24px;
    pointer-events: none;
    z-index: 2;
    opacity: 0;
    transition: opacity var(--transition-fast);
  }
  
  .comparison-table-wrapper::before {
    left: 0;
    background: linear-gradient(to right, var(--color-bg-card) 0%, transparent 100%);
  }
  
  .comparison-table-wrapper::after {
    right: 0;
    background: linear-gradient(to left, var(--color-bg-card) 0%, transparent 100%);
  }
  
  /* Show right shadow by default on mobile (indicates scrollable) */
  @media (max-width: 768px) {
    .comparison-table-wrapper::after {
      opacity: 1;
    }
  }
  
  .comparison-table {
    width: 100%;
    min-width: 600px;
    border-collapse: collapse;
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
    overflow: hidden;
    box-shadow: var(--shadow-md);
  }
  
  .comparison-table th,
  .comparison-table td {
    padding: var(--space-4);
    text-align: center;
    border-bottom: 1px solid var(--color-border-subtle);
    white-space: nowrap;
  }
  
  .comparison-table th {
    background: var(--color-bg-panel);
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-secondary);
  }
  
  .comparison-table th:first-child {
    text-align: left;
    position: sticky;
    left: 0;
    z-index: 1;
    background: var(--color-bg-panel);
  }
  
  .comparison-table td:first-child {
    text-align: left;
    position: sticky;
    left: 0;
    z-index: 1;
    background: var(--color-bg-card);
  }
  
  .comparison-table td.feature-cell {
    color: var(--color-text-primary);
    font-weight: 500;
    white-space: normal;
    min-width: 180px;
  }
  
  .comparison-table tr:last-child td {
    border-bottom: none;
  }
  
  .comparison-table tbody tr:hover td {
    background: var(--color-bg-panel);
  }
  
  .comparison-table tbody tr:hover td:first-child {
    background: var(--color-bg-panel);
  }
  
  .table-brand {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    white-space: nowrap;
  }
  
  .table-brand.ours {
    font-weight: 700;
    color: var(--color-text-primary);
  }
  
  .check-yes {
    color: #22c55e;
  }
  
  .check-no {
    color: #d1d5db;
  }

  /* Mobile adjustments */
@media (max-width: 768px) {
  .comparison-table th,
  .comparison-table td {
    padding: var(--space-3);
    font-size: var(--font-xs);
  }

  .comparison-table td.feature-cell {
    min-width: 140px;
    font-size: var(--font-xs);
  }

  .comparison-table th:first-child,
  .comparison-table td:first-child {
    /* Add shadow to sticky column to indicate it's floating */
    box-shadow: 2px 0 4px rgba(0, 0, 0, 0.05);
  }
}
  
  @media (max-width: 768px) {
    .scroll-hint {
      display: block;
    }
  }
  
  .comparison-table {
    width: 100%;
    min-width: 700px;
    border-collapse: collapse;
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
    overflow: hidden;
    box-shadow: var(--shadow-md);
  }
  
  .comparison-table th,
  .comparison-table td {
    padding: var(--space-4);
    text-align: center;
    border-bottom: 1px solid var(--color-border-subtle);
  }
  
  .comparison-table th {
    background: var(--color-bg-panel);
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-secondary);
  }
  
  .comparison-table th:first-child,
  .comparison-table td:first-child {
    text-align: left;
    font-weight: 500;
  }
  
  .comparison-table td.feature-cell {
    color: var(--color-text-primary);
    font-weight: 500;
  }
  
  .comparison-table tr:last-child td {
    border-bottom: none;
  }
  
  .comparison-table tbody tr:hover {
    background: var(--color-bg-panel);
  }
  
  .table-brand {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
  }
  
  .table-brand.ours {
    font-weight: 700;
    color: var(--color-text-primary);
  }
  
  .check-yes {
    color: #22c55e;
  }
  
  .check-no {
    color: #d1d5db;
  }
  
  /* ============================================
     FAQ SECTION
     ============================================ */
  
  .faq-section {
    padding: var(--space-20) 0;
    background: var(--color-bg-panel);
  }
  
  .faq-list {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .faq-item {
    margin-bottom: var(--space-3);
    background: var(--color-bg-card);
    border-radius: var(--radius-xl);
    overflow: hidden;
  }
  
  .faq-question {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: var(--space-5);
    background: none;
    border: none;
    text-align: left;
    font-size: var(--font-base);
    font-weight: 600;
    color: var(--color-text-primary);
    cursor: pointer;
    gap: var(--space-4);
  }
  
  .faq-question:hover {
    background: var(--color-bg-panel);
  }
  
  .faq-chevron {
    flex-shrink: 0;
    color: var(--color-text-muted);
    transition: transform var(--transition-base);
  }
  
  .faq-item.open .faq-chevron {
    transform: rotate(180deg);
  }
  
  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
  }
  
  .faq-item.open .faq-answer {
    max-height: 500px;
  }
  
  .faq-answer p {
    padding: 0 var(--space-5) var(--space-5);
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    line-height: var(--leading-loose);
  }
  
  /* ============================================
     SEO CONTENT SECTION - IMPROVED
     ============================================ */
  
  .seo-content-section {
    padding: var(--space-20) 0;
    background: var(--color-bg-card);
    border-top: 1px solid var(--color-border-subtle);
  }
  
  .seo-header {
    text-align: center;
    max-width: 800px;
    margin: 0 auto var(--space-12);
  }
  
  .seo-main-title {
    font-size: clamp(1.5rem, 4vw, 2rem);
    font-weight: 800;
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
  }
  
  .seo-intro {
    font-size: var(--font-base);
    color: var(--color-text-secondary);
    line-height: var(--leading-loose);
  }
  
  .seo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-6);
    margin-bottom: var(--space-12);
  }
  
  .seo-card {
    padding: var(--space-6);
    background: var(--color-bg-panel);
    border-radius: var(--radius-2xl);
  }
  
  .seo-card-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: var(--color-bg-card);
    border-radius: var(--radius-lg);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
  }
  
  .seo-card-title {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-primary);
    margin-bottom: var(--space-3);
  }
  
  .seo-card-content {
    font-size: var(--font-sm);
    color: var(--color-text-secondary);
    line-height: var(--leading-loose);
  }
  
  .seo-keywords-section {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }
  
  .seo-keywords-section h3 {
    font-size: var(--font-base);
    font-weight: 600;
    color: var(--color-text-muted);
    margin-bottom: var(--space-4);
  }
  
  .seo-keywords-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    justify-content: center;
  }
  
  .seo-keyword-tag {
    display: inline-block;
    padding: var(--space-2) var(--space-3);
    background: var(--color-bg-panel);
    border-radius: var(--radius-full);
    font-size: var(--font-xs);
    color: var(--color-text-secondary);
    transition: background var(--transition-fast), color var(--transition-fast);
  }
  
  .seo-keyword-tag:hover {
    background: var(--color-text-primary);
    color: var(--color-text-white);
  }
  
  /* ============================================
     FINAL CTA SECTION
     ============================================ */
  
  .final-cta-section {
    padding: var(--space-20) 0;
    background: var(--color-text-primary);
    text-align: center;
  }
  
  .cta-content {
    max-width: 600px;
    margin: 0 auto;
  }
  
  .cta-title {
    font-size: clamp(2rem, 5vw, 2.5rem);
    font-weight: 800;
    color: var(--color-text-white);
    margin-bottom: var(--space-4);
  }
  
  .cta-subtitle {
    font-size: var(--font-lg);
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: var(--space-8);
  }
  
  .btn-cta {
    background: var(--color-bg-card);
    color: var(--color-text-primary);
  }
  
  .btn-cta:hover {
    background: var(--color-bg-panel);
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
  }
  
  .cta-hint {
    display: block;
    margin-top: var(--space-4);
    font-size: var(--font-sm);
    color: rgba(255, 255, 255, 0.5);
  }
  
  /* ============================================
     FOOTER
     ============================================ */
  
  .landing-footer {
    padding: var(--space-12) 0 var(--space-8);
    background: var(--color-text-primary);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .footer-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-6);
  }
  
  .footer-main {
    display: flex;
    justify-content: space-between;
    gap: var(--space-12);
    margin-bottom: var(--space-8);
  }
  
  .footer-brand {
    max-width: 300px;
  }
  
/* ============================================
   FOOTER LOGO
   ============================================ */

   .footer-logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
  }
  
  .footer-logo-img {
    width: 32px;
    height: 32px;
    object-fit: contain;
  }
  
  .footer-logo-text {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-white);
  }
  
  /* Hide old footer logo mark */
  .footer-logo-mark {
    display: none;
  }
  
  .footer-logo-mark span {
    width: 6px;
    height: 18px;
    border-radius: 2px;
  }
  
  .footer-logo-text {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-white);
  }
  
  .footer-tagline {
    font-size: var(--font-sm);
    color: rgba(255, 255, 255, 0.6);
    line-height: var(--leading-normal);
  }
  
  .footer-links {
    display: flex;
    gap: var(--space-12);
  }
  
  .footer-column h4 {
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--color-text-white);
    margin-bottom: var(--space-4);
  }
  
  .footer-column a {
    display: block;
    font-size: var(--font-sm);
    color: rgba(255, 255, 255, 0.6);
    text-decoration: none;
    margin-bottom: var(--space-2);
    transition: color var(--transition-fast);
  }
  
  .footer-column a:hover {
    color: var(--color-text-white);
  }
  
  .footer-bottom {
    padding-top: var(--space-8);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
  }
  
  .footer-bottom p {
    font-size: var(--font-xs);
    color: rgba(255, 255, 255, 0.4);
  }
  
  /* ============================================
     MOBILE RESPONSIVE
     ============================================ */
  
  @media (max-width: 768px) {
    .hero-section {
      padding: var(--space-8) 0;
    }
  
    .hero-title {
      font-size: 2.5rem;
    }
  
    .hero-subtitle {
      font-size: var(--font-base);
    }
  
    .hero-buttons {
      flex-direction: column;
      align-items: center;
    }
  
    .btn-primary,
    .btn-secondary {
      width: 100%;
      max-width: 300px;
      justify-content: center;
    }
  
    .btn-large {
      padding: var(--space-4) var(--space-6);
      font-size: var(--font-base);
    }
  
    .hero-hint {
      display: none;
    }
  
    .hero-screenshot {
      padding: 0 var(--space-4);
    }
  
    .stats-container {
      justify-content: center;
    }
  
    .stat-item {
      min-width: 100px;
    }
  
    .a11y-content {
      grid-template-columns: 1fr;
      gap: var(--space-8);
    }
  
    .a11y-text .section-badge,
    .a11y-text .section-title,
    .a11y-text .section-subtitle {
      text-align: center;
    }
  
    .a11y-text .btn-primary {
      display: flex;
      margin: 0 auto;
    }
  
    .a11y-features {
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }
  
    .comparison-table th,
    .comparison-table td {
      padding: var(--space-3);
      font-size: var(--font-xs);
    }
  
    .footer-main {
      flex-direction: column;
      gap: var(--space-8);
    }
  
    .footer-brand {
      max-width: none;
      text-align: center;
    }
  
    .footer-logo {
      justify-content: center;
    }
  
    .footer-links {
      justify-content: center;
      flex-wrap: wrap;
      gap: var(--space-8);
    }
  
    .footer-column {
      text-align: center;
      min-width: 120px;
    }
  
    .seo-grid {
      grid-template-columns: 1fr;
    }
  
    .theory-grid {
      grid-template-columns: 1fr;
    }
  }
  
  @media (max-width: 480px) {
    .section-container {
      padding: 0 var(--space-4);
    }
  
    .section-title {
      font-size: 1.75rem;
    }
  
    .features-grid,
    .use-cases-grid,
    .export-grid {
      grid-template-columns: 1fr;
    }
  
    .steps-grid {
      grid-template-columns: 1fr;
    }
  
    .hero-title {
      font-size: 2rem;
    }
  
    .footer-links {
      flex-direction: column;
      align-items: center;
    }
  }

--- START OF FILE: src/pages/LandingPage/LandingPage.jsx ---

import React, { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import logo from '../../assets/Frame4ico.png';
import { trackEvent } from '../../utils/analytics';
import {
  // Only import icons we actually use
  Sparkles,
  Zap,
  Palette,
  Lock,
  Download,
  Eye,
  Accessibility,
  Share2,
  History,
  Shuffle,
  Code,
  FileCode,
  Image,
  Braces,
  Wind,
  Copy,
  Check,
  ArrowRight,
  ArrowDown,
  Globe,
  Paintbrush,
  Smartphone,
  Megaphone,
  Home,
  Camera,
  Film,
  BarChart3,
  Gamepad2,
  ShoppingBag,
  BookOpen,
  GraduationCap,
  Move,
  Plus,
  Sliders,
  Blend,
  CircleDot,
  Layers,
  Contrast,
  Triangle,
  GitBranch,
  Keyboard,
  ChevronDown,
  CheckCircle,
  XCircle,
  Link2,
  Menu,
  X,
  ExternalLink,
  SwatchBook,
} from 'lucide-react';
import './LandingPage.css';

// FAQ Data
const FAQ_DATA = [
  {
    question: "What is CColorPalette and how does it work?",
    answer: "CColorPalette is a free online color palette generator that creates beautiful, harmonious color schemes instantly. Simply press spacebar or tap the generate button to create a new palette. The tool uses advanced color theory algorithms to ensure every palette is visually appealing and professionally balanced. You can lock colors you like, adjust individual shades, check accessibility compliance, and export to CSS, Tailwind, JSON, SVG, PNG, and more."
  },
  {
    question: "How do I generate a new color palette?",
    answer: "Generating a new palette is incredibly simple. On desktop, press the spacebar anywhere on the page. On mobile, tap the 'Tap to generate' button at the top of the screen. Each press creates a completely new, harmonious color combination. If you find colors you like, click the lock icon to keep them while regenerating the rest."
  },
  {
    question: "Can I customize the color generation method?",
    answer: "Yes! Open the Method panel to choose from six harmony modes: Auto (random harmony), Monochromatic (single hue variations), Analogous (adjacent hues), Complementary (opposite hues), Split Complementary (opposite + adjacent), and Triadic (three-way split). You can also set mood preferences (Pastel, Vibrant, Muted, Dark) and adjust contrast requirements."
  },
  {
    question: "What export formats does CColorPalette support?",
    answer: "CColorPalette supports comprehensive export options: CSS Custom Properties (variables), Tailwind CSS configuration, SCSS variables and maps, JSON with full metadata, JavaScript objects, SVG vector graphics, and PNG images optimized for social media sharing. Each format includes proper naming conventions and can be customized before export."
  },
  {
    question: "Is CColorPalette free to use?",
    answer: "Yes, CColorPalette is completely free to use with no signup required. All features including palette generation, accessibility checking, export options, and URL sharing are available at no cost. We believe professional color tools should be accessible to everyone."
  },
  {
    question: "How does the accessibility checker work?",
    answer: "The accessibility panel shows WCAG 2.1 contrast ratios for text on each color against both black and white backgrounds. It displays pass/fail badges for AA and AAA compliance levels. It also shows contrast ratios between adjacent colors in your palette. Additionally, you can simulate how your palette appears to people with different types of color blindness including Protanopia, Deuteranopia, Tritanopia, and Achromatopsia."
  },
  {
    question: "Can I save and share my color palettes?",
    answer: "Absolutely! Every palette has a unique URL that encodes all your colors. Simply bookmark the page or copy the URL to save your work. You can share this URL with anyone, and they'll see your exact palette. The URL format is clean and readable, using hex codes separated by dashes (e.g., /A1B2C3-D4E5F6-...)."
  },
  {
    question: "How do I adjust a specific color in my palette?",
    answer: "Click the shade picker icon (SwatchBook) on any color to reveal a range of lighter and darker variations. Hover or tap to preview shades, then click to select. This lets you fine-tune individual colors while maintaining harmony with the rest of your palette."
  },
  {
    question: "Can I reorder colors in my palette?",
    answer: "Yes! Use the drag handle (arrows icon) on any color to drag and drop it to a new position. On mobile, simply drag colors up or down. The palette URL updates automatically to reflect the new order."
  },
  {
    question: "What color spaces does CColorPalette use?",
    answer: "CColorPalette generates colors using HSL (Hue, Saturation, Lightness) for optimal harmony while providing exports in HEX, RGB, HSL, and OKLCH formats. The internal algorithms apply vibrancy corrections to avoid muddy colors and ensure perceptually pleasing results across all hue ranges."
  },
  {
    question: "How many colors can I have in a palette?",
    answer: "Palettes support 2 to 8 colors. Start with the default 5 colors, then use the + buttons between colors to add more, or the X button on individual colors to remove them. The minimum is 2 colors to maintain a functional palette."
  },
  {
    question: "Does CColorPalette work offline?",
    answer: "CColorPalette is a web application that works entirely in your browser. While you need an internet connection to load the page initially, the color generation and all features work client-side, meaning the app remains responsive even with a slow connection."
  },
  {
    question: "Can I use CColorPalette for commercial projects?",
    answer: "Yes! All palettes generated with CColorPalette can be used freely in personal and commercial projects without attribution. The colors you create are yours to use however you like."
  },
  {
    question: "What makes CColorPalette different from other color tools?",
    answer: "CColorPalette combines instant generation (just press spacebar) with professional features: multiple harmony modes, accessibility checking, color blindness simulation, shade picking, and comprehensive export options. The URL-based saving means no accounts or logins needed. The interface is clean and distraction-free, letting you focus on finding the perfect colors."
  },
  {
    question: "How does the undo/redo feature work?",
    answer: "CColorPalette maintains a history of up to 50 palette states. Use Ctrl+Z (or Cmd+Z on Mac) to undo, and Ctrl+Y (or Cmd+Shift+Z) to redo. You can also open the History panel to see visual thumbnails of all your previous palettes and click any to restore it."
  },
];

// Color theory content sections
const COLOR_THEORY_SECTIONS = [
  {
    id: 'harmony',
    icon: Blend,
    title: 'Color Harmony',
    subtitle: 'The Science of Colors That Work Together',
    content: `Color harmony refers to the pleasing arrangement of colors that creates a sense of order and aesthetic appeal. When colors are harmonious, they create visual coherence and balance that feels natural to the human eye.

The foundation of color harmony lies in the color wheel, a circular diagram that shows relationships between colors. Colors positioned in specific geometric relationships on the wheel naturally complement each other, creating different types of harmonies that evoke distinct emotional responses.`
  },
  {
    id: 'monochromatic',
    icon: CircleDot,
    title: 'Monochromatic Harmony',
    subtitle: 'Variations of a Single Hue',
    content: `Monochromatic color schemes use variations of a single hue, created by adjusting saturation and lightness values. This approach guarantees harmony because all colors share the same base hue.

Monochromatic palettes are elegant, sophisticated, and easy to create. They work exceptionally well for minimalist designs, text-heavy layouts, and brands seeking a refined, understated aesthetic.`
  },
  {
    id: 'analogous',
    icon: Layers,
    title: 'Analogous Harmony',
    subtitle: 'Adjacent Colors on the Wheel',
    content: `Analogous color schemes combine colors that sit next to each other on the color wheel, typically spanning 60-90 degrees. These combinations feel natural and organic because they're often found together in nature.

The key to successful analogous palettes is choosing one dominant color and using the others as accents. This creates depth and richness while maintaining harmony.`
  },
  {
    id: 'complementary',
    icon: Contrast,
    title: 'Complementary Harmony',
    subtitle: 'Opposite Colors Create Energy',
    content: `Complementary colors sit directly opposite each other on the color wheel, creating maximum contrast and visual tension. When placed side by side, they intensify each other, making both appear more vibrant.

This high contrast makes complementary schemes attention-grabbing and energetic. They're excellent for call-to-action elements, sports branding, and any design that needs to stand out.`
  },
  {
    id: 'triadic',
    icon: Triangle,
    title: 'Triadic Harmony',
    subtitle: 'Three Colors in Perfect Balance',
    content: `Triadic color schemes use three colors equally spaced around the color wheel, forming an equilateral triangle. This creates a balanced yet vibrant palette with more variety than analogous schemes.

Triadic palettes are playful, rich, and visually stimulating. They work well for children's products, creative industries, and designs requiring diverse color options.`
  },
  {
    id: 'split-complementary',
    icon: GitBranch,
    title: 'Split Complementary',
    subtitle: 'Contrast with More Flexibility',
    content: `Split complementary schemes take one base color and pair it with the two colors adjacent to its complement. This provides the visual interest of complementary contrast with more nuance.

This approach is often considered the best of both worldsit offers contrast without the intense tension of pure complementary colors.`
  },
];

// Use case data
const USE_CASES = [
  {
    icon: Globe,
    title: 'Web Design',
    description: 'Create cohesive color systems for websites. Export directly to CSS variables or Tailwind configuration.',
  },
  {
    icon: Paintbrush,
    title: 'Brand Identity',
    description: 'Develop distinctive brand color palettes that communicate your values and resonate with your audience.',
  },
  {
    icon: Smartphone,
    title: 'App Design',
    description: 'Design accessible, engaging color schemes for iOS, Android, and cross-platform applications.',
  },
  {
    icon: Megaphone,
    title: 'Marketing',
    description: 'Create eye-catching palettes for social media graphics, advertisements, and promotional content.',
  },
  {
    icon: Home,
    title: 'Interior Design',
    description: 'Explore color combinations for rooms, furniture, and decor. Visualize before committing.',
  },
  {
    icon: Camera,
    title: 'Photography',
    description: 'Develop color grading presets and plan styled shoots with harmonious background palettes.',
  },
  {
    icon: Film,
    title: 'Video & Film',
    description: 'Create color scripts for video production, motion graphics, and film color correction.',
  },
  {
    icon: BarChart3,
    title: 'Data Visualization',
    description: 'Generate accessible, distinguishable color scales for charts, graphs, and infographics.',
  },
  {
    icon: Gamepad2,
    title: 'Game Design',
    description: 'Design immersive game palettes for environments, characters, and UI elements.',
  },
  {
    icon: ShoppingBag,
    title: 'E-commerce',
    description: 'Create product photography backgrounds and seasonal promotional color themes.',
  },
  {
    icon: BookOpen,
    title: 'Publishing',
    description: 'Develop consistent color schemes for books, magazines, and digital publications.',
  },
  {
    icon: GraduationCap,
    title: 'Education',
    description: 'Create engaging, accessible palettes for educational materials and e-learning platforms.',
  },
];

// Feature data
const FEATURES = [
  {
    icon: Zap,
    title: 'Instant Generation',
    description: 'Press spacebar to generate beautiful color palettes instantly. No waiting, no complexity.',
  },
  {
    icon: Lock,
    title: 'Lock Colors',
    description: 'Found a color you love? Lock it in place while regenerating the rest of your palette.',
  },
  {
    icon: SwatchBook,
    title: 'Shade Picker',
    description: 'Fine-tune any color with the shade picker. Choose from 20 lighter and darker variations.',
  },
  {
    icon: Accessibility,
    title: 'Accessibility Checker',
    description: 'Check WCAG contrast ratios instantly. Ensure your palettes work for everyone.',
  },
  {
    icon: Eye,
    title: 'Color Blindness Simulation',
    description: 'Preview how your palette appears to people with different types of color vision.',
  },
  {
    icon: Sparkles,
    title: 'Harmony Modes',
    description: 'Choose from 6 color harmony modes: Auto, Monochromatic, Analogous, Complementary, Split, Triadic.',
  },
  {
    icon: Download,
    title: 'Export Anywhere',
    description: 'Export to CSS, Tailwind, SCSS, JSON, JavaScript, SVG, and PNG formats.',
  },
  {
    icon: Share2,
    title: 'URL Sharing',
    description: 'Every palette has a unique URL. Share or bookmark to save your work instantly.',
  },
  {
    icon: History,
    title: 'History & Undo',
    description: 'Browse up to 50 previous palettes. Undo and redo with keyboard shortcuts.',
  },
  {
    icon: Move,
    title: 'Drag to Reorder',
    description: 'Drag and drop colors to rearrange them in any order you prefer.',
  },
  {
    icon: Plus,
    title: 'Add & Remove Colors',
    description: 'Create palettes with 2 to 8 colors. Add bridge colors between existing ones.',
  },
  {
    icon: Sliders,
    title: 'Mood Controls',
    description: 'Set mood preferences: Pastel, Vibrant, Muted, or Dark. Control minimum contrast.',
  },
];

// Export formats data
const EXPORT_FORMATS = [
  {
    icon: FileCode,
    title: 'CSS Variables',
    description: 'Export as CSS custom properties ready for your stylesheets.',
    example: `:root {\n  --color-1: #E63946;\n  --color-2: #F1FAEE;\n}`,
  },
  {
    icon: Wind,
    title: 'Tailwind CSS',
    description: 'Generate Tailwind config or @layer base declarations.',
    example: `colors: {\n  'primary': '#E63946',\n  'secondary': '#F1FAEE',\n}`,
  },
  {
    icon: Code,
    title: 'SCSS Variables',
    description: 'Export as SCSS variables and maps for Sass projects.',
    example: `$primary: #E63946;\n$secondary: #F1FAEE;`,
  },
  {
    icon: Braces,
    title: 'JSON',
    description: 'Full metadata export with hex, RGB, HSL values.',
    example: `{\n  "palette": [\n    {"hex": "#E63946"}\n  ]\n}`,
  },
  {
    icon: FileCode,
    title: 'JavaScript',
    description: 'Export as a JavaScript object for your codebase.',
    example: `const palette = {\n  primary: '#E63946',\n};`,
  },
  {
    icon: Image,
    title: 'PNG Image',
    description: 'Download as a 1200x630 PNG for social sharing.',
    example: null,
  },
  {
    icon: FileCode,
    title: 'SVG Graphic',
    description: 'Vector graphic for Figma, Sketch, or Illustrator.',
    example: null,
  },
  {
    icon: Link2,
    title: 'URL Link',
    description: 'Copy the palette URL to share or bookmark.',
    example: null,
  },
];

// Competitor comparison
const COMPARISONS = [
  { feature: 'Instant spacebar generation', ccolorpalette: true, coolors: true, adobe: false, paletton: false },
  { feature: 'No account required', ccolorpalette: true, coolors: true, adobe: false, paletton: true },
  { feature: 'URL-based palette saving', ccolorpalette: true, coolors: true, adobe: false, paletton: false },
  { feature: 'Color blindness simulation', ccolorpalette: true, coolors: true, adobe: false, paletton: false },
  { feature: 'WCAG contrast checking', ccolorpalette: true, coolors: true, adobe: false, paletton: false },
  { feature: 'Tailwind CSS export', ccolorpalette: true, coolors: false, adobe: false, paletton: false },
  { feature: 'Shade/tint picker', ccolorpalette: true, coolors: true, adobe: false, paletton: true },
  { feature: 'Harmony mode selection', ccolorpalette: true, coolors: false, adobe: true, paletton: true },
  { feature: 'Mobile-optimized UI', ccolorpalette: true, coolors: true, adobe: false, paletton: false },
  { feature: 'Completely free', ccolorpalette: true, coolors: false, adobe: false, paletton: true },
];

// SEO content sections with icons
const SEO_SECTIONS = [
  {
    icon: Palette,
    title: 'What is a Color Palette Generator?',
    content: 'A color palette generator is a tool that creates coordinated sets of colors that work well together. These tools use color theory principleslike complementary, analogous, and triadic harmoniesto produce combinations that are visually pleasing and professionally balanced. Color palette generators save hours of manual experimentation and help ensure consistent, cohesive designs.',
  },
  {
    icon: Zap,
    title: 'Why Use CColorPalette?',
    content: 'CColorPalette stands out from alternatives like Coolors, Adobe Color, and Paletton by combining speed, simplicity, and professional features. With instant spacebar generation, no account requirements, comprehensive accessibility checking, and exports to CSS, Tailwind, JSON, and image formats, CColorPalette provides everything you need without unnecessary complexity.',
  },
  {
    icon: Sparkles,
    title: 'Color Palette Generation Methods',
    content: 'The tool supports six harmony modes: Auto randomly selects a harmony for variety, Monochromatic creates variations of a single hue, Analogous uses adjacent colors on the color wheel, Complementary pairs opposite colors for maximum contrast, Split Complementary offers balanced contrast with more flexibility, and Triadic distributes three colors evenly around the wheel.',
  },
  {
    icon: Accessibility,
    title: 'Accessibility and Color Blindness',
    content: 'Creating accessible color palettes is essential for inclusive design. CColorPalette includes built-in WCAG contrast checking that instantly calculates contrast ratios and displays pass/fail badges for AA and AAA compliance. The color blindness simulator lets you preview how your palette appears to people with Protanopia, Deuteranopia, Tritanopia, and Achromatopsia.',
  },
  {
    icon: Code,
    title: 'Export Formats for Developers',
    content: 'CColorPalette exports to formats that integrate directly into your workflow. CSS Custom Properties can be dropped into any stylesheet. Tailwind CSS configuration generates ready-to-use color definitions. SCSS exports include both individual variables and palette maps. JSON exports contain full metadata including hex, RGB, and HSL values.',
  },
  {
    icon: Link2,
    title: 'URL-Based Palette Saving',
    content: 'Every palette generates a unique URL that encodes all your colors. The format is human-readable, using hex codes separated by dashes (e.g., /E63946-F1FAEE-A8DADC). This means you can bookmark palettes, share them via any medium, and return to your exact colors without creating an account.',
  },
];

// Stats
const STATS = [
  { value: '', label: 'Possible Palettes' },
  { value: '8', label: 'Max Colors' },
  { value: '6', label: 'Harmony Modes' },
  { value: '8', label: 'Export Formats' },
];

// Navigation links
const NAV_LINKS = [
  { href: '#features', label: 'Features' },
  { href: '#how-it-works', label: 'How It Works' },
  { href: '#export', label: 'Export' },
  { href: '#accessibility', label: 'Accessibility' },
  { href: '#faq', label: 'FAQ' },
];

const TRENDING_PALETTES = [
  "4E1730-992852-D8243A-DB8F7B-F2D7C7",
  "111F4B-2165A0-21A2D5-73D1E8-D9F4F2",
  "385214-76A219-A5E423-80AE4B-EFF4E6",
  "3E140F-74371F-D58F23-EEE08F-EFEFD2",
  "290E1A-9A276A-E32EB0-E696ED-ECD3F3",
  "144B24-249040-38CE94-F7E3F1-E2719D",
  "102A38-22978B-46D3C4-71E7C3-CDE9DB",
  "2A0F16-7F232C-E6253A-DE7E87-EECAD0",
  "310B12-A02821-DF5341-CCEBEC-7FD5DC",
  "335115-608F24-D2DC56-E3DC7B-F0EDD1",
  "102A18-289A5E-41D597-6CEADC-DAF1F5",
  "445018-7B9723-B8D94E-E3F09D-EAF2CE",
  "0E1D35-16629D-3EB2E1-8CE8E7-D9F5F4",
  "39121B-87204B-A72649-4CE0CD",
  "103C0F-2AA02C-78C57C-EDF7ED",
  "3C1112-6D301A-BB502A-D36327-E1B56F-E8DA8D-F9F7EB"
];

function LandingPage() {
  const navigate = useNavigate();
  const [openFaq, setOpenFaq] = useState(null);
  const [copiedExample, setCopiedExample] = useState(null);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const toggleFaq = (index) => {
    setOpenFaq(openFaq === index ? null : index);
  };

  const copyExample = async (code, index) => {
    try {
      await navigator.clipboard.writeText(code);
      setCopiedExample(index);
      setTimeout(() => setCopiedExample(null), 2000);
    } catch (err) {
      console.error('Failed to copy:', err);
    }
  };

  const scrollToSection = (href) => {
    setMobileMenuOpen(false);
    const element = document.querySelector(href);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
    }
  };

  return (
    <div className="landing-page">
      {/* Header */}
      <header className="landing-header">
        <div className="header-container">
        <Link to="/" className="header-logo">
          <img src={logo} alt="CColorPalette" className="header-logo-img" />
          <span className="header-logo-text">CColorPalette</span>
        </Link>

          {/* Desktop Navigation */}
          <nav className="header-nav">
            {NAV_LINKS.map((link) => (
              <a
                key={link.href}
                href={link.href}
                className="header-nav-link"
                onClick={(e) => {
                  e.preventDefault();
                  scrollToSection(link.href);
                }}
              >
                {link.label}
              </a>
            ))}
          </nav>

          <div className="header-actions">
            <button className="btn-primary btn-small" onClick={() => navigate('/')}>
              <Palette size={16} />
              <span>Open Generator</span>
            </button>

            {/* Mobile Menu Toggle */}
            <button
              className="mobile-menu-toggle"
              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
              aria-label="Toggle menu"
            >
              {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
            </button>
          </div>
        </div>

        {/* Mobile Navigation */}
        {mobileMenuOpen && (
          <nav className="mobile-nav">
            {NAV_LINKS.map((link) => (
              <a
                key={link.href}
                href={link.href}
                className="mobile-nav-link"
                onClick={(e) => {
                  e.preventDefault();
                  scrollToSection(link.href);
                }}
              >
                {link.label}
              </a>
            ))}
            <button className="btn-primary btn-full" onClick={() => navigate('/')}>
              <Palette size={18} />
              <span>Open Generator</span>
            </button>
          </nav>
        )}
      </header>

      {/* Hero Section */}
      <section className="hero-section">
        <div className="hero-container">
          <div className="hero-badge">
            <Sparkles size={14} />
            <span>Free Color Palette Generator</span>
          </div>

          <h1 className="hero-title">
            Create Beautiful Color Palettes
            <span className="hero-title-accent"> in Seconds</span>
          </h1>

          <p className="hero-subtitle">
            The fastest way to generate harmonious color schemes for web design,
            branding, UI/UX, and creative projects. Press spacebar to generate.
            No signup required.
          </p>

          <div className="hero-buttons">
          <button className="btn-primary btn-large" onClick={() => {
            trackEvent('cta_click', { location: 'hero_main' });
            navigate('/');
          }}>
              <Palette size={20} />
              <span>Open Generator</span>
            </button>
            <a href="#features" className="btn-secondary btn-large" onClick={(e) => { e.preventDefault(); scrollToSection('#features'); }}>
              <span>Learn More</span>
              <ArrowDown size={18} />
            </a>
          </div>

          <div className="hero-hint">
            <Keyboard size={16} />
            <span>Press <kbd>Space</kbd> to generate  <kbd>L</kbd> to lock  <kbd>Ctrl+Z</kbd> to undo</span>
          </div>
        </div>

        {/* Hero Screenshot */}
        <div className="hero-screenshot">
          <div className="screenshot-browser">
            <div className="browser-dots">
              <span></span>
              <span></span>
              <span></span>
            </div>
            <div className="browser-url">ccolorpalette.com/E63946-F1FAEE-A8DADC-457B9D-1D3557</div>
          </div>
          <div className="screenshot-image">
            <div className="screenshot-placeholder">
              <div className="placeholder-colors">
                <div style={{ backgroundColor: '#E63946' }}></div>
                <div style={{ backgroundColor: '#F1FAEE' }}></div>
                <div style={{ backgroundColor: '#A8DADC' }}></div>
                <div style={{ backgroundColor: '#457B9D' }}></div>
                <div style={{ backgroundColor: '#1D3557' }}></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Stats Bar */}
      <section className="stats-section">
        <div className="stats-container">
          {STATS.map((stat, index) => (
            <div key={index} className="stat-item">
              <span className="stat-value">{stat.value}</span>
              <span className="stat-label">{stat.label}</span>
            </div>
          ))}
        </div>
      </section>

      {/* === NEW: Trending Palettes Section === */}
      <section className="trending-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">Inspiration</span>
            <h2 className="section-title">Trending Color Palettes</h2>
            <p className="section-subtitle">
              Hand-picked color combinations to jumpstart your next project.
            </p>
          </div>

          <div className="trending-grid">
            {TRENDING_PALETTES.map((paletteString, index) => {
              // Split the string into individual hex codes
              const colors = paletteString.split('-');
              
              return (
                <a 
                  key={index} 
                  href={`/${paletteString}`}
                  className="palette-card" // Keep this for styling!
                  aria-label={`Open palette ${paletteString}`} // Keep this for accessibility!
                  onClick={() => trackEvent('trending_palette_click', { palette: paletteString })} // Add this for data!
                >
                  <div className="palette-preview">
                    {colors.map((hex, i) => (
                      <div 
                        key={i} 
                        className="palette-stripe" 
                        style={{ backgroundColor: `#${hex}` }} 
                      />
                    ))}
                  </div>
                  <div className="palette-info">
                    <span className="palette-name">#{colors[0]}</span>
                    <div className="palette-arrow">
                      <ArrowRight size={16} />
                    </div>
                  </div>
                </a>
              );
            })}
          </div>
          
          <div className="cta-center" style={{ marginTop: 'var(--space-8)' }}>
             <a href="/explore" className="btn-secondary">Browse All Palettes</a>
          </div>
        </div>
      </section>
      {/* === END NEW SECTION === */}

      {/* Features Section */}
      <section id="features" className="features-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">Features</span>
            <h2 className="section-title">Everything You Need to Create Perfect Palettes</h2>
            <p className="section-subtitle">
              Professional color tools designed for speed and simplicity. No learning curve, no clutter, just colors.
            </p>
          </div>

          <div className="features-grid">
            {FEATURES.map((feature, index) => (
              <div key={index} className="feature-card">
                <div className="feature-icon">
                  <feature.icon size={24} />
                </div>
                <h3 className="feature-title">{feature.title}</h3>
                <p className="feature-description">{feature.description}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* How It Works Section */}
      <section id="how-it-works" className="how-it-works-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">How It Works</span>
            <h2 className="section-title">Generate Palettes in Three Simple Steps</h2>
            <p className="section-subtitle">
              From inspiration to export in under 30 seconds. It's really that easy.
            </p>
          </div>

          <div className="steps-grid">
            <div className="step-card">
              <div className="step-number">1</div>
              <div className="step-icon">
                <Shuffle size={32} />
              </div>
              <h3 className="step-title">Generate</h3>
              <p className="step-description">
                Press spacebar or tap the generate button. A new harmonious palette appears instantly.
                Keep generating until you find colors that inspire you.
              </p>
            </div>

            <div className="step-card">
              <div className="step-number">2</div>
              <div className="step-icon">
                <Sliders size={32} />
              </div>
              <h3 className="step-title">Customize</h3>
              <p className="step-description">
                Lock colors you love, adjust shades, choose harmony modes, and fine-tune your palette.
                Drag to reorder. Add or remove colors as needed.
              </p>
            </div>

            <div className="step-card">
              <div className="step-number">3</div>
              <div className="step-icon">
                <Download size={32} />
              </div>
              <h3 className="step-title">Export</h3>
              <p className="step-description">
                Copy CSS, Tailwind config, JSON, or download as PNG/SVG. Share via URL or bookmark.
                Your palette is ready for any project.
              </p>
            </div>
          </div>

          <div className="cta-center">
            <button className="btn-primary btn-large" onClick={() => navigate('/')}>
              <Zap size={20} />
              <span>Try It Now  It's Free</span>
            </button>
          </div>
        </div>
      </section>

      {/* Export Formats Section */}
      <section id="export" className="export-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">Export Formats</span>
            <h2 className="section-title">Export to Any Format You Need</h2>
            <p className="section-subtitle">
              From CSS variables to social media images, export your palette in the format that works for your workflow.
            </p>
          </div>

          <div className="export-grid">
            {EXPORT_FORMATS.map((format, index) => (
              <div key={index} className="export-card">
                <div className="export-header">
                  <div className="export-icon">
                    <format.icon size={20} />
                  </div>
                  <h3 className="export-title">{format.title}</h3>
                </div>
                <p className="export-description">{format.description}</p>
                {format.example && (
                  <div className="export-example">
                    <pre><code>{format.example}</code></pre>
                    <button
                      className="copy-btn"
                      onClick={() => copyExample(format.example, index)}
                      aria-label="Copy code"
                    >
                      {copiedExample === index ? <Check size={14} /> : <Copy size={14} />}
                    </button>
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Accessibility Section */}
      <section id="accessibility" className="accessibility-section">
        <div className="section-container">
          <div className="a11y-content">
            <div className="a11y-text">
              <span className="section-badge">Accessibility</span>
              <h2 className="section-title">Design for Everyone</h2>
              <p className="section-subtitle">
                Built-in accessibility tools help you create palettes that work for all users,
                including those with color vision deficiencies.
              </p>

              <ul className="a11y-features">
                <li>
                  <CheckCircle size={20} />
                  <span><strong>WCAG Contrast Checking</strong>  Instant pass/fail ratings for text accessibility</span>
                </li>
                <li>
                  <CheckCircle size={20} />
                  <span><strong>Color Blindness Simulation</strong>  Preview Protanopia, Deuteranopia, Tritanopia, Achromatopsia</span>
                </li>
                <li>
                  <CheckCircle size={20} />
                  <span><strong>Adjacent Contrast</strong>  Ensure neighboring colors are distinguishable</span>
                </li>
                <li>
                  <CheckCircle size={20} />
                  <span><strong>AA & AAA Compliance</strong>  Meet international web accessibility standards</span>
                </li>
              </ul>

              <button className="btn-primary" onClick={() => navigate('/')}>
                <Eye size={20} />
                <span>Check Accessibility</span>
              </button>
            </div>

            <div className="a11y-visual">
              <div className="a11y-preview">
                <div className="a11y-panel-mock">
                  <div className="panel-mock-header">
                    <Eye size={16} />
                    <span>Accessibility</span>
                  </div>
                  <div className="contrast-mock">
                    <div className="contrast-item-mock">
                      <div className="swatch-mock" style={{ backgroundColor: '#E63946', color: '#fff' }}>Aa</div>
                      <div className="contrast-info-mock">
                        <span className="contrast-hex-mock">#E63946</span>
                        <span className="contrast-ratio-mock">4.5:1</span>
                      </div>
                      <div className="badge-mock pass">AA</div>
                    </div>
                    <div className="contrast-item-mock">
                      <div className="swatch-mock" style={{ backgroundColor: '#457B9D', color: '#fff' }}>Aa</div>
                      <div className="contrast-info-mock">
                        <span className="contrast-hex-mock">#457B9D</span>
                        <span className="contrast-ratio-mock">5.2:1</span>
                      </div>
                      <div className="badge-mock pass">AA</div>
                    </div>
                    <div className="contrast-item-mock">
                      <div className="swatch-mock" style={{ backgroundColor: '#1D3557', color: '#fff' }}>Aa</div>
                      <div className="contrast-info-mock">
                        <span className="contrast-hex-mock">#1D3557</span>
                        <span className="contrast-ratio-mock">12.8:1</span>
                      </div>
                      <div className="badge-mock pass">AAA</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Color Theory Section */}
      <section id="theory" className="theory-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">Color Theory</span>
            <h2 className="section-title">Understanding Color Harmony</h2>
            <p className="section-subtitle">
              Learn the principles behind beautiful color combinations. CColorPalette applies these
              rules automatically, but understanding them helps you make better creative decisions.
            </p>
          </div>

          <div className="theory-grid">
            {COLOR_THEORY_SECTIONS.map((section) => (
              <div key={section.id} className="theory-card">
                <div className="theory-icon">
                  <section.icon size={24} />
                </div>
                <h3 className="theory-title">{section.title}</h3>
                <span className="theory-subtitle">{section.subtitle}</span>
                <p className="theory-content">{section.content}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Use Cases Section */}
      <section id="use-cases" className="use-cases-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">Use Cases</span>
            <h2 className="section-title">Colors for Every Creative Project</h2>
            <p className="section-subtitle">
              Whether you're designing a website, building a brand, or decorating a room,
              CColorPalette helps you find the perfect colors.
            </p>
          </div>

          <div className="use-cases-grid">
            {USE_CASES.map((useCase, index) => (
              <div key={index} className="use-case-card">
                <div className="use-case-icon">
                  <useCase.icon size={24} />
                </div>
                <h3 className="use-case-title">{useCase.title}</h3>
                <p className="use-case-description">{useCase.description}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Comparison Section */}
      <section id="comparison" className="comparison-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">Comparison</span>
            <h2 className="section-title">How CColorPalette Compares</h2>
            <p className="section-subtitle">
              See how we stack up against other popular color tools.
            </p>
          </div>

          <div className="comparison-table-wrapper">
            {/* Removed the scroll-hint divs - using CSS pseudo-elements instead */}
            <table className="comparison-table">
              <thead>
                <tr>
                  <th>Feature</th>
                  <th>
                    <div className="table-brand ours">
                      <Palette size={16} />
                      CColorPalette
                    </div>
                  </th>
                  <th>Coolors</th>
                  <th>Adobe Color</th>
                  <th>Paletton</th>
                </tr>
              </thead>
              <tbody>
                {COMPARISONS.map((row, index) => (
                  <tr key={index}>
                    <td className="feature-cell">{row.feature}</td>
                    <td>
                      {row.ccolorpalette ? (
                        <CheckCircle size={18} className="check-yes" />
                      ) : (
                        <XCircle size={18} className="check-no" />
                      )}
                    </td>
                    <td>
                      {row.coolors ? (
                        <CheckCircle size={18} className="check-yes" />
                      ) : (
                        <XCircle size={18} className="check-no" />
                      )}
                    </td>
                    <td>
                      {row.adobe ? (
                        <CheckCircle size={18} className="check-yes" />
                      ) : (
                        <XCircle size={18} className="check-no" />
                      )}
                    </td>
                    <td>
                      {row.paletton ? (
                        <CheckCircle size={18} className="check-yes" />
                      ) : (
                        <XCircle size={18} className="check-no" />
                      )}
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </section>

      {/* FAQ Section */}
      <section id="faq" className="faq-section">
        <div className="section-container">
          <div className="section-header">
            <span className="section-badge">FAQ</span>
            <h2 className="section-title">Frequently Asked Questions</h2>
            <p className="section-subtitle">
              Everything you need to know about using CColorPalette.
            </p>
          </div>

          <div className="faq-list">
            {FAQ_DATA.map((faq, index) => (
              <div
                key={index}
                className={`faq-item ${openFaq === index ? 'open' : ''}`}
              >
                <button
                  className="faq-question"
                  onClick={() => toggleFaq(index)}
                >
                  <span>{faq.question}</span>
                  <ChevronDown size={20} className="faq-chevron" />
                </button>
                <div className="faq-answer">
                  <p>{faq.answer}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* SEO Content Section - Improved Layout */}
      <section className="seo-content-section">
        <div className="section-container">
          <div className="seo-header">
            <h2 className="seo-main-title">About CColorPalette: The Free Online Color Palette Generator</h2>
            <p className="seo-intro">
              CColorPalette is a free, browser-based color palette generator designed for designers, developers,
              artists, and anyone who works with color. Unlike traditional color pickers that require manual
              selection, CColorPalette generates complete, harmonious color schemes with a single keypress.
            </p>
          </div>

          <div className="seo-grid">
            {SEO_SECTIONS.map((section, index) => (
              <div key={index} className="seo-card">
                <div className="seo-card-icon">
                  <section.icon size={20} />
                </div>
                <h3 className="seo-card-title">{section.title}</h3>
                <p className="seo-card-content">{section.content}</p>
              </div>
            ))}
          </div>

          <div className="seo-keywords-section">
            <h3>Related Topics</h3>
            <div className="seo-keywords-list">
              {[
                'color palette generator',
                'color scheme creator',
                'hex color picker',
                'CSS color variables',
                'Tailwind CSS colors',
                'WCAG contrast checker',
                'color blindness simulator',
                'accessible color palette',
                'color harmony',
                'complementary colors',
                'analogous colors',
                'web design colors',
                'brand color palette',
                'UI color scheme',
              ].map((keyword, index) => (
                <span key={index} className="seo-keyword-tag">{keyword}</span>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Final CTA Section */}
      <section className="final-cta-section">
        <div className="section-container">
          <div className="cta-content">
            <h2 className="cta-title">Ready to Create Beautiful Colors?</h2>
            <p className="cta-subtitle">
              Start generating palettes in seconds. No signup. No limits. Completely free.
            </p>
            <button className="btn-primary btn-large btn-cta" onClick={() => navigate('/')}>
              <Palette size={24} />
              <span>Open Color Generator</span>
              <ArrowRight size={20} />
            </button>
            <span className="cta-hint">Press spacebar to generate your first palette</span>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="landing-footer">
        <div className="footer-container">
          <div className="footer-main">
            <div className="footer-brand">
            <div className="footer-logo">
              <img src={logo} alt="CColorPalette" className="footer-logo-img" />
              <span className="footer-logo-text">CColorPalette</span>
            </div>
              <p className="footer-tagline">
                The free color palette generator for designers and developers.
              </p>
            </div>

            <div className="footer-links">
              <div className="footer-column">
                <h4>Product</h4>
                <Link to="/">Generator</Link>
                <a href="#features" onClick={(e) => { e.preventDefault(); scrollToSection('#features'); }}>Features</a>
                <a href="#faq" onClick={(e) => { e.preventDefault(); scrollToSection('#faq'); }}>FAQ</a>
              </div>
              <div className="footer-column">
                <h4>Resources</h4>
                <a href="#theory" onClick={(e) => { e.preventDefault(); scrollToSection('#theory'); }}>Color Theory</a>
                <a href="#use-cases" onClick={(e) => { e.preventDefault(); scrollToSection('#use-cases'); }}>Use Cases</a>
                <a href="#export" onClick={(e) => { e.preventDefault(); scrollToSection('#export'); }}>Export Formats</a>
              </div>
              <div className="footer-column">
                <h4>Legal</h4>
                <a href="/privacy">Privacy Policy</a>
                <a href="/terms">Terms of Service</a>
              </div>
            </div>
          </div>

          <div className="footer-bottom">
            <p>&copy; {new Date().getFullYear()} CColorPalette. All rights reserved.</p>
          </div>
        </div>
      </footer>
    </div>
  );
}

export default LandingPage;

--- START OF FILE: src/pages/Legal/Legal.css ---

/* ============================================
   LEGAL PAGES (Privacy Policy, Terms of Service)
   ============================================ */

   .legal-page {
    min-height: 100vh;
    background: var(--color-bg-card);
    display: flex;
    flex-direction: column;
  }
  
  /* ============================================
     HEADER
     ============================================ */
  
  .legal-header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: var(--color-bg-card);
    border-bottom: 1px solid var(--color-border-subtle);
  }
  
  .legal-header-container {
    max-width: 900px;
    margin: 0 auto;
    padding: var(--space-4) var(--space-6);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .legal-logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-decoration: none;
  }
  
  .legal-logo-mark {
    display: flex;
    gap: 3px;
  }
  
  .legal-logo-mark span {
    width: 6px;
    height: 18px;
    border-radius: 2px;
  }
  
  .legal-logo-text {
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--color-text-primary);
  }
  
  .legal-back-link {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-sm);
    font-weight: 500;
    color: var(--color-text-secondary);
    text-decoration: none;
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-lg);
    transition: background var(--transition-fast), color var(--transition-fast);
  }
  
  .legal-back-link:hover {
    background: var(--color-bg-panel);
    color: var(--color-text-primary);
  }
  
  /* ============================================
     HERO
     ============================================ */
  
  .legal-hero {
    padding: var(--space-12) 0;
    background: var(--color-bg-panel);
    text-align: center;
  }
  
  .legal-hero-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 0 var(--space-6);
  }
  
  .legal-hero-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 64px;
    background: var(--color-bg-card);
    border-radius: var(--radius-2xl);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
    box-shadow: var(--shadow-md);
  }
  
  .legal-hero-title {
    font-size: clamp(2rem, 5vw, 2.5rem);
    font-weight: 800;
    color: var(--color-text-primary);
    margin-bottom: var(--space-3);
  }
  
  .legal-hero-subtitle {
    font-size: var(--font-lg);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-4);
  }
  
  .legal-hero-meta {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-sm);
    color: var(--color-text-muted);
  }
  
  /* ============================================
     TABLE OF CONTENTS
     ============================================ */
  
  .legal-toc {
    padding: var(--space-6) 0;
    background: var(--color-bg-card);
    border-bottom: 1px solid var(--color-border-subtle);
    position: sticky;
    top: 57px; /* Header height */
    z-index: 50;
  }
  
  .legal-toc-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 var(--space-6);
  }
  
  .legal-toc-title {
    font-size: var(--font-xs);
    font-weight: 600;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    margin-bottom: var(--space-3);
  }
  
  .legal-toc-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    list-style: none;
    margin: 0;
    padding: 0;
  }
  
  .legal-toc-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: var(--color-bg-panel);
    border-radius: var(--radius-full);
    font-size: var(--font-xs);
    font-weight: 500;
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: background var(--transition-fast), color var(--transition-fast);
  }
  
  .legal-toc-link:hover {
    background: var(--color-text-primary);
    color: var(--color-text-white);
  }
  
  /* ============================================
     CONTENT
     ============================================ */
  
  .legal-content {
    flex: 1;
    padding: var(--space-12) 0;
  }
  
  .legal-content-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 var(--space-6);
  }
  
  .legal-section {
    margin-bottom: var(--space-12);
    scroll-margin-top: 140px; /* Account for sticky header + TOC */
  }
  
  .legal-section:last-child {
    margin-bottom: 0;
  }
  
  .legal-section-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-4);
    padding-bottom: var(--space-4);
    border-bottom: 1px solid var(--color-border-subtle);
  }
  
  .legal-section-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: var(--color-bg-panel);
    border-radius: var(--radius-lg);
    color: var(--color-text-primary);
    flex-shrink: 0;
  }
  
  .legal-section-title {
    font-size: var(--font-xl);
    font-weight: 700;
    color: var(--color-text-primary);
  }
  
  .legal-section-content {
    padding-left: 52px; /* Align with title after icon */
  }
  
  .legal-section-content p {
    font-size: var(--font-base);
    color: var(--color-text-secondary);
    line-height: var(--leading-loose);
    margin-bottom: var(--space-4);
  }
  
  .legal-section-content p:last-child {
    margin-bottom: 0;
  }
  
  .legal-subsection-title {
    font-size: var(--font-base);
    font-weight: 700;
    color: var(--color-text-primary);
    margin-top: var(--space-6);
    margin-bottom: var(--space-3);
  }
  
  .legal-subsection-title:first-child {
    margin-top: 0;
  }
  
  .legal-list {
    margin: 0 0 var(--space-4) 0;
    padding-left: var(--space-5);
  }
  
  .legal-list li {
    font-size: var(--font-base);
    color: var(--color-text-secondary);
    line-height: var(--leading-loose);
    margin-bottom: var(--space-2);
  }
  
  .legal-list li:last-child {
    margin-bottom: 0;
  }
  
  .legal-list-ordered {
    list-style-type: decimal;
  }
  
  .legal-emphasis {
    font-size: var(--font-sm);
    color: var(--color-text-primary);
    background: var(--color-bg-panel);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border-left: 4px solid var(--color-text-primary);
  }
  
  /* ============================================
     FOOTER
     ============================================ */
  
  .legal-footer {
    padding: var(--space-8) 0;
    background: var(--color-bg-panel);
    border-top: 1px solid var(--color-border-subtle);
  }
  
  .legal-footer-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 var(--space-6);
    text-align: center;
  }
  
  .legal-footer-links {
    display: flex;
    justify-content: center;
    gap: var(--space-6);
    margin-bottom: var(--space-4);
  }
  
  .legal-footer-links a {
    font-size: var(--font-sm);
    font-weight: 500;
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: color var(--transition-fast);
  }
  
  .legal-footer-links a:hover {
    color: var(--color-text-primary);
  }
  
  .legal-footer-copyright {
    font-size: var(--font-xs);
    color: var(--color-text-muted);
  }
  
  /* ============================================
     MOBILE RESPONSIVE
     ============================================ */
  
  @media (max-width: 768px) {
    .legal-header-container {
      padding: var(--space-3) var(--space-4);
    }
  
    .legal-logo-text {
      font-size: var(--font-base);
    }
  
    .legal-back-link span {
      display: none;
    }
  
    .legal-hero {
      padding: var(--space-8) 0;
    }
  
    .legal-hero-title {
      font-size: 1.75rem;
    }
  
    .legal-hero-subtitle {
      font-size: var(--font-base);
    }
  
    .legal-toc {
      padding: var(--space-4) 0;
      position: relative;
      top: auto;
    }
  
    .legal-toc-list {
      gap: var(--space-1);
    }
  
    .legal-toc-link {
      padding: var(--space-1) var(--space-2);
      font-size: 10px;
    }
  
    .legal-toc-link svg {
      display: none;
    }
  
    .legal-content {
      padding: var(--space-8) 0;
    }
  
    .legal-section {
      scroll-margin-top: 80px;
    }
  
    .legal-section-header {
      flex-direction: column;
      align-items: flex-start;
      gap: var(--space-2);
    }
  
    .legal-section-icon {
      width: 36px;
      height: 36px;
    }
  
    .legal-section-icon svg {
      width: 18px;
      height: 18px;
    }
  
    .legal-section-title {
      font-size: var(--font-lg);
    }
  
    .legal-section-content {
      padding-left: 0;
    }
  
    .legal-section-content p,
    .legal-list li {
      font-size: var(--font-sm);
    }
  
    .legal-footer-links {
      flex-direction: column;
      gap: var(--space-3);
    }
  }
  
  @media (max-width: 480px) {
    .legal-content-container,
    .legal-hero-container,
    .legal-toc-container,
    .legal-footer-container {
      padding: 0 var(--space-4);
    }
  }

--- START OF FILE: src/pages/Legal/PrivacyPolicy.jsx ---

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { Link } from 'react-router-dom';
import logo from '../../assets/Frame4ico.png';
import {
  Shield,
  Eye,
  Database,
  Cookie,
  Share2,
  Lock,
  Mail,
  Calendar,
  ExternalLink,
  ArrowLeft,
  Palette,
} from 'lucide-react';
import './Legal.css';

const LAST_UPDATED = 'January 5, 2026';

const SECTIONS = [
  {
    id: 'introduction',
    icon: Shield,
    title: 'Introduction',
    content: `Welcome to CColorPalette ("we," "our," or "us"). We are committed to protecting your privacy and being transparent about how we handle information when you use our color palette generator tool.

This Privacy Policy explains what information we collect, how we use it, and your rights regarding your data. By using CColorPalette, you agree to the terms outlined in this policy.

CColorPalette is designed with privacy in mind. We don't require user accounts, don't collect personal information, and don't track individual users across sessions.`,
  },
  {
    id: 'information-we-collect',
    icon: Database,
    title: 'Information We Collect',
    content: `**Information You Provide**

CColorPalette does not require you to create an account or provide any personal information to use our service. We do not collect:
- Names or email addresses
- Payment information
- User accounts or passwords
- Personal identifiers

**Automatically Collected Information**

When you visit CColorPalette, we may automatically collect certain technical information:
- Browser type and version
- Operating system
- Device type (desktop, mobile, tablet)
- Referring website (if applicable)
- Pages visited and features used
- Approximate geographic location (country/region level only)

This information is collected in aggregate form and cannot be used to identify individual users.

**URL Data**

Your color palettes are encoded in the URL (e.g., /E63946-F1FAEE-A8DADC). This allows you to bookmark and share palettes. We do not store or track which palettes individual users create or view.`,
  },
  {
    id: 'how-we-use-information',
    icon: Eye,
    title: 'How We Use Information',
    content: `We use the limited information we collect for the following purposes:

**Service Improvement**
- Understanding which features are most popular
- Identifying and fixing bugs or performance issues
- Optimizing the user experience across different devices and browsers

**Analytics**
- Measuring overall website traffic and usage patterns
- Understanding how users interact with our tool
- Making data-driven decisions about new features

**Security**
- Protecting against malicious activity
- Maintaining the integrity of our service

We do NOT use your information to:
- Build individual user profiles
- Target advertising
- Sell or share data with third parties for marketing
- Track you across other websites`,
  },
  {
    id: 'cookies',
    icon: Cookie,
    title: 'Cookies and Local Storage',
    content: `**Cookies**

CColorPalette uses minimal cookies. We may use:
- Essential cookies required for the website to function
- Analytics cookies to understand aggregate usage (if applicable)

We do not use:
- Advertising or tracking cookies
- Third-party marketing cookies
- Cross-site tracking cookies

**Local Storage**

CColorPalette may use your browser's local storage to:
- Remember your session preferences (like panel states)
- Store your palette history temporarily for the undo/redo feature

This data is stored only in your browser and is not transmitted to our servers. You can clear this data at any time through your browser settings.

**Managing Cookies**

You can control cookies through your browser settings. Note that disabling cookies may affect some functionality of the website.`,
  },
  {
    id: 'data-sharing',
    icon: Share2,
    title: 'Data Sharing and Third Parties',
    content: `**We Do Not Sell Your Data**

CColorPalette does not sell, rent, or trade any user information to third parties.

**Service Providers**

We may use third-party services to help operate our website:
- Hosting providers (to serve the website)
- Analytics services (to understand aggregate usage)
- Content delivery networks (to improve performance)

These providers only have access to aggregate, non-personally identifiable information and are contractually obligated to protect any data they process.

**Legal Requirements**

We may disclose information if required by law or if we believe disclosure is necessary to:
- Comply with legal obligations
- Protect our rights or property
- Prevent fraud or security issues
- Protect the safety of users or the public`,
  },
  {
    id: 'data-security',
    icon: Lock,
    title: 'Data Security',
    content: `We take reasonable measures to protect the limited information we collect:

- Our website uses HTTPS encryption for all connections
- We regularly update our software and dependencies
- We follow security best practices in our development process
- We limit access to any collected data to authorized personnel only

Since CColorPalette doesn't collect personal information or require user accounts, the risk of data breaches affecting individual users is minimal.

**Your Responsibility**

When you share a palette URL, anyone with that URL can view the palette. Be mindful of this when sharing links that may contain color schemes for confidential projects.`,
  },
  {
    id: 'your-rights',
    icon: Shield,
    title: 'Your Rights',
    content: `Depending on your location, you may have certain rights regarding your data:

**General Rights**
- Access: Request information about data we collect
- Deletion: Request deletion of any data we may have
- Opt-out: Decline non-essential cookies and analytics

**For EU/EEA Residents (GDPR)**
- Right to access, rectify, or erase personal data
- Right to restrict or object to processing
- Right to data portability
- Right to withdraw consent

**For California Residents (CCPA)**
- Right to know what personal information is collected
- Right to delete personal information
- Right to opt-out of sale of personal information
- Right to non-discrimination for exercising rights

Since CColorPalette doesn't collect personal information, most of these rights are automatically satisfied. If you have any concerns, please contact us.`,
  },
  {
    id: 'childrens-privacy',
    icon: Shield,
    title: "Children's Privacy",
    content: `CColorPalette is a general-audience tool and is not directed at children under 13 years of age. We do not knowingly collect personal information from children.

Since we don't collect personal information from any users, there is no special risk to children using our service. However, parents and guardians should supervise their children's internet use as a general practice.

If you believe we have inadvertently collected information from a child, please contact us immediately.`,
  },
  {
    id: 'changes',
    icon: Calendar,
    title: 'Changes to This Policy',
    content: `We may update this Privacy Policy from time to time to reflect changes in our practices or for legal, operational, or regulatory reasons.

When we make changes:
- We will update the "Last Updated" date at the top of this policy
- For significant changes, we may provide additional notice on our website
- Continued use of CColorPalette after changes constitutes acceptance of the updated policy

We encourage you to review this Privacy Policy periodically to stay informed about how we protect your information.`,
  },
  {
    id: 'contact',
    icon: Mail,
    title: 'Contact Us',
    content: `If you have questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:

**Email:** privacy@ccolorpalette.com

**Response Time:** We aim to respond to all privacy-related inquiries within 30 days.

For general questions about using CColorPalette, please visit our FAQ section on the homepage.`,
  },
];

function PrivacyPolicy() {
  return (
    <div className="legal-page">
      <Helmet>
        <title>Privacy Policy | CColorPalette</title>
        <meta
          name="description"
          content="Privacy Policy for CColorPalette - Learn how we protect your privacy and handle data on our free color palette generator."
        />
        <link rel="canonical" href="https://ccolorpalette.com/privacy" />
      </Helmet>

      {/* Header */}
      <header className="legal-header">
        <div className="legal-header-container">
            <Link to="/home" className="header-logo">
                <img src={logo} alt="CColorPalette" className="header-logo-img" />
                <span className="header-logo-text">CColorPalette</span>
            </Link>

          <Link to="/home" className="legal-back-link">
            <ArrowLeft size={18} />
            <span>Back to Home</span>
          </Link>
        </div>
      </header>

      {/* Hero */}
      <section className="legal-hero">
        <div className="legal-hero-container">
          <div className="legal-hero-icon">
            <Shield size={32} />
          </div>
          <h1 className="legal-hero-title">Privacy Policy</h1>
          <p className="legal-hero-subtitle">
            Your privacy matters to us. Learn how CColorPalette handles your data.
          </p>
          <div className="legal-hero-meta">
            <Calendar size={14} />
            <span>Last updated: {LAST_UPDATED}</span>
          </div>
        </div>
      </section>

      {/* Table of Contents */}
      <nav className="legal-toc">
        <div className="legal-toc-container">
          <h2 className="legal-toc-title">Contents</h2>
          <ul className="legal-toc-list">
            {SECTIONS.map((section) => (
              <li key={section.id}>
                <a href={`#${section.id}`} className="legal-toc-link">
                  <section.icon size={14} />
                  <span>{section.title}</span>
                </a>
              </li>
            ))}
          </ul>
        </div>
      </nav>

      {/* Content */}
      <main className="legal-content">
        <div className="legal-content-container">
          {SECTIONS.map((section) => (
            <section key={section.id} id={section.id} className="legal-section">
              <div className="legal-section-header">
                <div className="legal-section-icon">
                  <section.icon size={20} />
                </div>
                <h2 className="legal-section-title">{section.title}</h2>
              </div>
              <div className="legal-section-content">
                {section.content.split('\n\n').map((paragraph, index) => {
                  if (paragraph.startsWith('**') && paragraph.endsWith('**')) {
                    return (
                      <h3 key={index} className="legal-subsection-title">
                        {paragraph.replace(/\*\*/g, '')}
                      </h3>
                    );
                  }
                  if (paragraph.startsWith('**')) {
                    const [title, ...rest] = paragraph.split('**').filter(Boolean);
                    return (
                      <div key={index}>
                        <h3 className="legal-subsection-title">{title}</h3>
                        <p>{rest.join('')}</p>
                      </div>
                    );
                  }
                  if (paragraph.startsWith('- ')) {
                    const items = paragraph.split('\n').filter((line) => line.startsWith('- '));
                    return (
                      <ul key={index} className="legal-list">
                        {items.map((item, i) => (
                          <li key={i}>{item.replace('- ', '')}</li>
                        ))}
                      </ul>
                    );
                  }
                  return <p key={index}>{paragraph}</p>;
                })}
              </div>
            </section>
          ))}
        </div>
      </main>

      {/* Footer */}
      <footer className="legal-footer">
        <div className="legal-footer-container">
          <div className="legal-footer-links">
            <Link to="/home">Home</Link>
            <Link to="/">Generator</Link>
            <Link to="/terms">Terms of Service</Link>
          </div>
          <p className="legal-footer-copyright">
            &copy; {new Date().getFullYear()} CColorPalette. All rights reserved.
          </p>
        </div>
      </footer>
    </div>
  );
}

export default PrivacyPolicy;

--- START OF FILE: src/pages/Legal/TermsOfService.jsx ---

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { Link } from 'react-router-dom';
import logo from '../../assets/Frame4ico.png';
import {
  FileText,
  CheckCircle,
  XCircle,
  Scale,
  AlertTriangle,
  Globe,
  RefreshCw,
  Mail,
  Calendar,
  ArrowLeft,
  Palette,
  Shield,
  Users,
  Copyright,
  Gavel,
} from 'lucide-react';
import './Legal.css';

const LAST_UPDATED = 'January 5, 2026';

const SECTIONS = [
  {
    id: 'acceptance',
    icon: CheckCircle,
    title: 'Acceptance of Terms',
    content: `By accessing or using CColorPalette ("the Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use the Service.

These Terms constitute a legally binding agreement between you and CColorPalette. We may update these Terms from time to time, and your continued use of the Service after any changes constitutes acceptance of the new Terms.

The Service is intended for users who are at least 13 years of age. By using the Service, you represent that you meet this age requirement.`,
  },
  {
    id: 'description',
    icon: Palette,
    title: 'Description of Service',
    content: `CColorPalette is a free online color palette generator that allows users to:

- Generate random color palettes using various harmony modes
- Customize and adjust colors within palettes
- Lock specific colors while regenerating others
- Check color accessibility and contrast ratios
- Simulate color blindness to test palette accessibility
- Export palettes in various formats (CSS, Tailwind, JSON, PNG, SVG, etc.)
- Share palettes via unique URLs
- Access palette history during a session

The Service is provided "as is" and "as available" without warranties of any kind. We reserve the right to modify, suspend, or discontinue any aspect of the Service at any time without notice.`,
  },
  {
    id: 'permitted-use',
    icon: CheckCircle,
    title: 'Permitted Use',
    content: `You are granted a limited, non-exclusive, non-transferable license to use CColorPalette for lawful purposes. You MAY:

**Personal Use**
- Generate unlimited color palettes for personal projects
- Save and bookmark palette URLs for future reference
- Share palette URLs with others

**Commercial Use**
- Use generated palettes in commercial projects
- Incorporate colors into products, websites, apps, or designs
- Use exported code (CSS, Tailwind, etc.) in commercial software
- Create designs for clients using palettes from CColorPalette

**Educational Use**
- Use the Service for learning about color theory
- Include screenshots in educational materials with attribution
- Demonstrate the tool in workshops or presentations

All palettes generated are free to use without attribution, though we appreciate credit when possible.`,
  },
  {
    id: 'prohibited-use',
    icon: XCircle,
    title: 'Prohibited Use',
    content: `You agree NOT to use CColorPalette to:

**Technical Abuse**
- Attempt to gain unauthorized access to our systems or servers
- Use automated scripts, bots, or scrapers to access the Service excessively
- Interfere with or disrupt the Service or servers
- Attempt to reverse engineer, decompile, or disassemble the Service
- Circumvent any security measures or access restrictions

**Harmful Activities**
- Transmit malware, viruses, or other harmful code
- Engage in any activity that could damage, disable, or impair the Service
- Use the Service in any way that violates applicable laws or regulations

**Misrepresentation**
- Claim ownership of or take credit for the CColorPalette tool itself
- Misrepresent your affiliation with CColorPalette
- Create derivative services that could be confused with CColorPalette

**Commercial Restrictions**
- Resell access to the Service
- Create a competing service by directly copying our interface or code
- Use our branding, logos, or trademarks without permission

Violation of these terms may result in termination of access to the Service.`,
  },
  {
    id: 'intellectual-property',
    icon: Copyright,
    title: 'Intellectual Property',
    content: `**Our Intellectual Property**

The CColorPalette name, logo, website design, and underlying code are owned by us and protected by intellectual property laws. You may not use our branding without written permission.

**Your Generated Content**

Color palettes you generate using CColorPalette are not owned by us. You retain full rights to use any color combinations you create for any purpose.

However, please note:
- Colors themselves cannot be copyrighted
- The same or similar palettes may be generated by other users
- We make no claims of uniqueness or exclusivity for any generated palette

**Open Standards**

Color values (hex codes, RGB, HSL, etc.) are mathematical representations and are not proprietary. Export formats like CSS and JSON are open standards.

**Third-Party Content**

Any third-party libraries, fonts, or icons used in the Service are subject to their respective licenses. Our use of such content does not transfer any rights to you beyond what is permitted by those licenses.`,
  },
  {
    id: 'disclaimer',
    icon: AlertTriangle,
    title: 'Disclaimer of Warranties',
    content: `THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED.

**We Do Not Warrant That:**
- The Service will be uninterrupted, error-free, or secure
- Any defects will be corrected
- The Service will meet your specific requirements
- Results obtained from the Service will be accurate or reliable
- Generated palettes will be suitable for any particular purpose

**Color Accuracy**

Colors may appear differently on different devices, monitors, and in different lighting conditions. We cannot guarantee color accuracy across all displays. For critical color work, always verify colors using calibrated equipment.

**Accessibility Claims**

While we provide WCAG contrast checking tools, we do not guarantee that palettes will meet all accessibility requirements for your specific use case. You are responsible for ensuring your designs meet applicable accessibility standards.

**Professional Advice**

CColorPalette is a tool, not professional design advice. For important projects, consider consulting with professional designers or color specialists.`,
  },
  {
    id: 'limitation-liability',
    icon: Scale,
    title: 'Limitation of Liability',
    content: `TO THE MAXIMUM EXTENT PERMITTED BY LAW, CCOLORPALETTE AND ITS OWNERS, OPERATORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR:

**Direct Damages**
- Any direct damages arising from your use of or inability to use the Service

**Indirect Damages**
- Lost profits, revenue, or business opportunities
- Loss of data or data corruption
- Consequential, incidental, special, or punitive damages
- Any damages arising from third-party claims

**Specific Exclusions**
- Damages resulting from reliance on any information obtained through the Service
- Damages resulting from unauthorized access to your data
- Damages arising from any interruption or cessation of the Service

This limitation applies regardless of the legal theory (contract, tort, strict liability, or otherwise) and even if we have been advised of the possibility of such damages.

Some jurisdictions do not allow certain limitations of liability, so some of these limitations may not apply to you.`,
  },
  {
    id: 'indemnification',
    icon: Shield,
    title: 'Indemnification',
    content: `You agree to indemnify, defend, and hold harmless CColorPalette, its owners, operators, employees, agents, and affiliates from and against any claims, damages, losses, liabilities, costs, and expenses (including reasonable attorneys' fees) arising from:

- Your use of the Service
- Your violation of these Terms
- Your violation of any rights of another party
- Your violation of any applicable laws or regulations
- Any content you create using the Service that infringes on third-party rights

This indemnification obligation will survive termination of these Terms and your use of the Service.`,
  },
  {
    id: 'modifications',
    icon: RefreshCw,
    title: 'Modifications to Service and Terms',
    content: `**Service Modifications**

We reserve the right to modify, suspend, or discontinue any part of the Service at any time, with or without notice. This includes:
- Adding or removing features
- Changing the user interface
- Updating export formats
- Modifying accessibility tools

We will not be liable to you or any third party for any modification, suspension, or discontinuation of the Service.

**Terms Modifications**

We may revise these Terms at any time by updating this page. Changes become effective immediately upon posting. Your continued use of the Service after changes are posted constitutes acceptance of the modified Terms.

For significant changes, we may provide additional notice on our website. We encourage you to review these Terms periodically.

The "Last Updated" date at the top of this page indicates when these Terms were last revised.`,
  },
  {
    id: 'governing-law',
    icon: Gavel,
    title: 'Governing Law and Disputes',
    content: `**Governing Law**

These Terms shall be governed by and construed in accordance with the laws of the jurisdiction in which CColorPalette operates, without regard to conflict of law principles.

**Dispute Resolution**

Any disputes arising from these Terms or your use of the Service shall be resolved through:

1. **Informal Resolution:** We encourage you to contact us first to resolve any issues informally.

2. **Binding Arbitration:** If informal resolution fails, disputes shall be resolved through binding arbitration rather than in court, except where prohibited by law.

3. **Class Action Waiver:** You agree to resolve disputes on an individual basis and waive any right to participate in class action lawsuits or class-wide arbitration.

**Exceptions**

Nothing in this section prevents either party from seeking injunctive relief in court for intellectual property infringement or other urgent matters.

**Severability**

If any provision of these Terms is found to be unenforceable, the remaining provisions will continue in full force and effect.`,
  },
  {
    id: 'general',
    icon: Globe,
    title: 'General Provisions',
    content: `**Entire Agreement**

These Terms, together with our Privacy Policy, constitute the entire agreement between you and CColorPalette regarding the Service and supersede any prior agreements.

**Waiver**

Our failure to enforce any right or provision of these Terms shall not constitute a waiver of such right or provision.

**Assignment**

You may not assign or transfer these Terms or your rights hereunder without our prior written consent. We may assign these Terms without restriction.

**No Third-Party Beneficiaries**

These Terms do not create any third-party beneficiary rights.

**Headings**

Section headings are for convenience only and do not affect the interpretation of these Terms.

**Survival**

Provisions that by their nature should survive termination shall survive, including intellectual property, disclaimer, limitation of liability, and indemnification sections.`,
  },
  {
    id: 'contact',
    icon: Mail,
    title: 'Contact Information',
    content: `If you have questions about these Terms of Service, please contact us:

**Email:** legal@ccolorpalette.com

**Response Time:** We aim to respond to all inquiries within 14 business days.

For privacy-related questions, please see our Privacy Policy or contact privacy@ccolorpalette.com.

For general questions about using CColorPalette, please visit our FAQ section on the homepage.`,
  },
];

function TermsOfService() {
  return (
    <div className="legal-page">
      <Helmet>
        <title>Terms of Service | CColorPalette</title>
        <meta
          name="description"
          content="Terms of Service for CColorPalette - Understand the terms and conditions for using our free color palette generator."
        />
        <link rel="canonical" href="https://ccolorpalette.com/terms" />
      </Helmet>

      {/* Header */}
      <header className="legal-header">
        <div className="legal-header-container">
            <Link to="/home" className="header-logo">
                <img src={logo} alt="CColorPalette" className="header-logo-img" />
                <span className="header-logo-text">CColorPalette</span>
            </Link>

          <Link to="/home" className="legal-back-link">
            <ArrowLeft size={18} />
            <span>Back to Home</span>
          </Link>
        </div>
      </header>

      {/* Hero */}
      <section className="legal-hero">
        <div className="legal-hero-container">
          <div className="legal-hero-icon">
            <FileText size={32} />
          </div>
          <h1 className="legal-hero-title">Terms of Service</h1>
          <p className="legal-hero-subtitle">
            Please read these terms carefully before using CColorPalette.
          </p>
          <div className="legal-hero-meta">
            <Calendar size={14} />
            <span>Last updated: {LAST_UPDATED}</span>
          </div>
        </div>
      </section>

      {/* Table of Contents */}
      <nav className="legal-toc">
        <div className="legal-toc-container">
          <h2 className="legal-toc-title">Contents</h2>
          <ul className="legal-toc-list">
            {SECTIONS.map((section) => (
              <li key={section.id}>
                <a href={`#${section.id}`} className="legal-toc-link">
                  <section.icon size={14} />
                  <span>{section.title}</span>
                </a>
              </li>
            ))}
          </ul>
        </div>
      </nav>

      {/* Content */}
      <main className="legal-content">
        <div className="legal-content-container">
          {SECTIONS.map((section) => (
            <section key={section.id} id={section.id} className="legal-section">
              <div className="legal-section-header">
                <div className="legal-section-icon">
                  <section.icon size={20} />
                </div>
                <h2 className="legal-section-title">{section.title}</h2>
              </div>
              <div className="legal-section-content">
                {section.content.split('\n\n').map((paragraph, index) => {
                  if (paragraph.startsWith('**') && paragraph.endsWith('**')) {
                    return (
                      <h3 key={index} className="legal-subsection-title">
                        {paragraph.replace(/\*\*/g, '')}
                      </h3>
                    );
                  }
                  if (paragraph.startsWith('**')) {
                    const parts = paragraph.split('**').filter(Boolean);
                    return (
                      <div key={index}>
                        <h3 className="legal-subsection-title">{parts[0]}</h3>
                        {parts[1] && <p>{parts[1]}</p>}
                      </div>
                    );
                  }
                  if (paragraph.startsWith('- ')) {
                    const items = paragraph.split('\n').filter((line) => line.startsWith('- '));
                    return (
                      <ul key={index} className="legal-list">
                        {items.map((item, i) => (
                          <li key={i}>{item.replace('- ', '')}</li>
                        ))}
                      </ul>
                    );
                  }
                  if (paragraph.match(/^\d+\./)) {
                    const items = paragraph.split('\n').filter((line) => line.match(/^\d+\./));
                    return (
                      <ol key={index} className="legal-list legal-list-ordered">
                        {items.map((item, i) => (
                          <li key={i}>{item.replace(/^\d+\.\s*/, '')}</li>
                        ))}
                      </ol>
                    );
                  }
                  if (paragraph === paragraph.toUpperCase() && paragraph.length > 50) {
                    return (
                      <p key={index} className="legal-emphasis">
                        {paragraph}
                      </p>
                    );
                  }
                  return <p key={index}>{paragraph}</p>;
                })}
              </div>
            </section>
          ))}
        </div>
      </main>

      {/* Footer */}
      <footer className="legal-footer">
        <div className="legal-footer-container">
          <div className="legal-footer-links">
            <Link to="/home">Home</Link>
            <Link to="/">Generator</Link>
            <Link to="/privacy">Privacy Policy</Link>
          </div>
          <p className="legal-footer-copyright">
            &copy; {new Date().getFullYear()} CColorPalette. All rights reserved.
          </p>
        </div>
      </footer>
    </div>
  );
}

export default TermsOfService;

--- START OF FILE: src/styles/PanelStyles.css ---

/* ============================================
   SHARED PANEL SYSTEM
   ============================================ */

/* === BASE PANEL COLUMN === */
.panel-column {
  flex: 0 0 0px;
  height: 100vh;
  background: var(--color-bg-panel);
  overflow: hidden;
  transition: flex-basis var(--transition-panel);
  position: relative;
}

/* === PANEL INNER === */
.panel-inner {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: var(--space-20);
}

/* === PANEL HEADER === */
.panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-4);
  border-bottom: 1px solid var(--color-border-subtle);
  height: 56px;
  flex-shrink: 0;
}

.panel-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--font-sm);
  font-weight: 600;
  color: var(--color-text-primary);
}

.panel-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--space-8);
  height: var(--space-8);
  background: none;
  border: none;
  border-radius: var(--radius-lg);
  cursor: pointer;
  color: var(--color-text-secondary);
  transition: background-color var(--transition-fast), 
              color var(--transition-fast),
              transform var(--transition-bounce);
  flex-shrink: 0;
}

.panel-close:hover {
  background: var(--color-border-subtle);
  color: var(--color-text-primary);
  transform: scale(1.1);
}

.panel-close:active {
  transform: scale(0.9);
}

/* === PANEL SCROLL === */
.panel-scroll {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: var(--space-4);
}

.panel-scroll::-webkit-scrollbar {
  width: 4px;
}

.panel-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.panel-scroll::-webkit-scrollbar-thumb {
  background: #ddd;
  border-radius: 2px;
}

.panel-scroll::-webkit-scrollbar-thumb:hover {
  background: #ccc;
}

/* === PANEL SECTION === */
.panel-section {
  margin-bottom: var(--space-6);
}

.panel-section:last-child {
  margin-bottom: 0;
}

/* === PANEL LABEL === */
.panel-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--font-xs);
  font-weight: 600;
  color: var(--color-text-secondary);
  margin-bottom: var(--space-3);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.panel-label span {
  color: var(--color-text-faint);
  font-weight: 500;
  text-transform: none;
  letter-spacing: 0;
}

/* === PANEL LIST === */
.panel-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

/* ADD THIS UTILITY CLASS */
.panel-list.seamless {
  gap: 0;
}

.panel-list-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: var(--space-3);
  background: var(--color-bg-card);
  border: 2px solid transparent;
  border-radius: var(--radius-xl);
  cursor: pointer;
  text-align: left;
  transition: background-color var(--transition-fast), 
              border-color var(--transition-fast),
              transform var(--transition-bounce);
}

.panel-list-item:hover {
  transform: scale(1.02);
}

.panel-list-item:active {
  transform: scale(0.98);
}

.panel-list-item.selected {
  border-color: var(--color-text-primary);
}

.panel-list-item-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.panel-list-item-title {
  font-size: var(--font-sm);
  font-weight: 600;
  color: var(--color-text-primary);
}

.panel-list-item-desc {
  font-size: var(--font-xs);
  color: var(--color-text-muted);
}

.panel-check {
  width: var(--space-2);
  height: var(--space-2);
  background: var(--color-text-primary);
  border-radius: var(--radius-full);
  flex-shrink: 0;
}

/* === PANEL BUTTON GRID === */
.panel-btn-grid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.panel-btn {
  padding: var(--space-2) var(--space-3);
  background: var(--color-bg-card);
  /* Change this from 'transparent' to a fixed width border */
  border: 2px solid transparent; 
  border-radius: var(--radius-lg);
  font-size: var(--font-xs);
  font-weight: 500;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
  box-sizing: border-box; /* Crucial for keeping width stable */
}

.panel-export-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-5) var(--space-3);
  background: var(--color-bg-card);
  /* Change 'none' to '2px solid transparent' to match other buttons */
  border: 2px solid transparent; 
  border-radius: var(--radius-2xl);
  cursor: pointer;
  transition: all var(--transition-fast);
  box-sizing: border-box;
}

.panel-btn:hover {
  color: var(--color-text-primary);
  background: var(--color-bg-hover);
}

.panel-btn.active, 
.panel-export-btn.active,
.panel-list-item.selected {
  border: 2px solid var(--color-text-primary) !important;
  color: var(--color-text-primary);
}

/* === PANEL SLIDER === */
.panel-slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  appearance: none;
  background: #ddd;
  cursor: pointer;
  outline: none;
}

.panel-slider::-webkit-slider-thumb {
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: var(--radius-full);
  background: var(--color-text-primary);
  cursor: pointer;
  transition: transform var(--transition-fast);
}

.panel-slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}

.panel-slider-labels {
  display: flex;
  justify-content: space-between;
  margin-top: var(--space-2);
  font-size: var(--font-xs);
  color: var(--color-text-faint);
}

/* === PANEL TOGGLE === */
.panel-toggle {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  width: 100%;
  padding: var(--space-3);
  background: var(--color-bg-card);
  border: 2px solid transparent;
  border-radius: var(--radius-xl);
  cursor: pointer;
  font-size: var(--font-sm);
  font-weight: 500;
  color: var(--color-text-primary);
  text-align: left;
  transition: all var(--transition-fast);
}

.panel-toggle:hover {
  background: #f5f5f5;
}

.panel-toggle.active {
  border-color: var(--color-text-primary);
}

.panel-toggle-indicator {
  width: 40px;
  height: 22px;
  background: #ddd;
  border-radius: 11px;
  position: relative;
  transition: background-color var(--transition-base);
  flex-shrink: 0;
}

.panel-toggle-indicator::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 16px;
  height: 16px;
  background: var(--color-bg-card);
  border-radius: var(--radius-full);
  transition: transform var(--transition-base);
  box-shadow: var(--shadow-sm);
}

.panel-toggle.active .panel-toggle-indicator {
  background: var(--color-text-primary);
}

.panel-toggle.active .panel-toggle-indicator::after {
  transform: translateX(18px);
}

/* === PANEL HINT === */
.panel-hint {
  font-size: var(--font-xs);
  color: var(--color-text-muted);
  margin-top: var(--space-2);
  line-height: 1.4;
}

/* === PANEL EMPTY STATE === */
.panel-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 150px;
  text-align: center;
  color: var(--color-text-faint);
}

.panel-empty p {
  font-size: var(--font-sm);
  font-weight: 500;
  color: var(--color-text-secondary);
  margin-bottom: var(--space-1);
}

.panel-empty span {
  font-size: var(--font-xs);
}

/* === PANEL CARD === */
.panel-card {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 10px 12px;
  
  /* Transparent background is important for the seamless look */
  background: transparent; 
  border: 2px solid transparent;
  border-radius: 12px; /* Or var(--radius-2xl) if you use variables */
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.panel-card:hover {
  background: rgba(0, 0, 0, 0.03);
}

.panel-card:active {
  transform: scale(0.98);
}

.panel-card.current {
  background: rgba(0, 0, 0, 0.05);
  border-color: var(--color-text-primary, #1a1a1a);
}

/* === PANEL BADGE === */
.panel-badge {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  font-size: 10px;
  font-weight: 600;
}

.panel-badge.warn {
  background-color: #FFF4E5;
  color: #B76E00;
}

/* Ensure fail looks correct too (if not already there) */
.panel-badge.fail {
  background-color: #FFEBEE;
  color: #C62828;
}

.panel-badge.pass {
  background-color: #E8F5E9;
  color: #2E7D32;
}

/* === PANEL EXPORT GRID === */
.panel-export-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
}

.panel-export-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-5) var(--space-3);
  background: var(--color-bg-card);
  border: none;
  border-radius: var(--radius-2xl);
  cursor: pointer;
  transition: background-color var(--transition-fast),
              transform var(--transition-bounce), 
              box-shadow var(--transition-base);
}

.panel-export-btn:hover {
  transform: scale(1.03);
  box-shadow: var(--shadow-lg);
}

.panel-export-btn:active {
  transform: scale(0.97);
}

.panel-export-btn.copied {
  background: var(--color-text-primary);
  color: var(--color-text-white);
}

.panel-export-btn-icon {
  color: var(--color-text-primary);
  transition: color var(--transition-fast);
}

.panel-export-btn.copied .panel-export-btn-icon {
  color: var(--color-text-white);
}

.panel-export-btn-label {
  font-size: var(--font-sm);
  font-weight: 500;
  color: var(--color-text-primary);
  transition: color var(--transition-fast);
}

.panel-export-btn.copied .panel-export-btn-label {
  color: var(--color-text-white);
}

.panel-export-btn-desc {
  font-size: 10px;
  color: var(--color-text-faint);
  margin-top: 2px;
  transition: color var(--transition-fast);
}

.panel-export-btn.copied .panel-export-btn-desc {
  color: rgba(255, 255, 255, 0.7);
}

/* === PANEL PREVIEW === */
.panel-preview {
  margin-top: var(--space-6);
  padding-top: var(--space-5);
  border-top: 1px solid var(--color-border-subtle);
}

.panel-preview-colors {
  display: flex;
  height: 48px;
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: var(--shadow-md);
}

.panel-preview-color {
  flex: 1;
  transition: flex var(--transition-fast);
}

.panel-preview-colors:hover .panel-preview-color:hover {
  flex: 1.5;
}

.panel-preview-hexes {
  display: flex;
  margin-top: var(--space-2);
}

.panel-preview-hex {
  flex: 1;
  text-align: center;
  font-size: 9px;
  font-weight: 500;
  color: var(--color-text-secondary);
}

/* === PANEL CONTRAST ITEM === */
.panel-contrast-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2);
  background: var(--color-bg-card);
  border-radius: var(--radius-lg);
}

.panel-contrast-swatch {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: var(--font-sm);
  flex-shrink: 0;
}

.panel-contrast-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.panel-contrast-hex {
  font-size: var(--font-xs);
  font-family: var(--font-mono);
  color: var(--color-text-primary);
}

.panel-contrast-ratio {
  font-size: var(--font-xs);
  color: var(--color-text-muted);
}

/* === PANEL ADJACENT ITEM === */
.panel-adjacent-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2);
  background: var(--color-bg-card);
  border-radius: var(--radius-lg);
}

.panel-adjacent-swatches {
  display: flex;
  border-radius: var(--radius-md);
  overflow: hidden;
  flex-shrink: 0;
}

.panel-adjacent-swatches div {
  width: 24px;
  height: 32px;
}

.panel-adjacent-ratio {
  flex: 1;
  font-size: var(--font-xs);
  color: var(--color-text-secondary);
}

/* === MOBILE PANELS === */
@media (max-width: 768px) {
  .panel-column {
    width: 100% !important;
    height: auto;
    flex: 0 0 0;
    order: 100;
    overflow: hidden;
    transition: flex-basis var(--transition-panel);
  }

  .panel-column.open {
    flex: 0 0 45vh !important;
    flex: 0 0 45dvh !important;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .panel-inner {
    width: 100% !important;
    height: 100%;
    padding-top: 0;
    display: flex;
    flex-direction: column;
  }

  .panel-title {
    font-size: var(--font-base);
  }

  .panel-close {
    width: 36px;
    height: 36px;
  }

  .panel-scroll {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-3) var(--space-4) var(--space-8);
    padding-bottom: calc(var(--space-8) + env(safe-area-inset-bottom, 0px));
    -webkit-overflow-scrolling: touch;
  }

  .panel-list-item {
    padding: var(--space-3) 14px;
  }

  .panel-list-item-title {
    font-size: var(--font-base);
  }

  .panel-btn-grid {
    gap: var(--space-2);
  }

  .panel-btn {
    padding: var(--space-3) 14px;
    font-size: var(--font-sm);
  }

  .panel-btn.active, .panel-list-item.selected {
    border-color: var(--color-text-primary); 
    background-color: var(--color-bg-card);
  }

  .panel-toggle {
    padding: 14px;
  }

  .panel-export-grid {
    gap: var(--space-3);
  }

  .panel-export-btn {
    padding: var(--space-4) var(--space-3);
  }

  .panel-hint {
    font-size: var(--font-sm);
  }
}

@media (max-width: 480px) {
  .panel-column.open {
    flex: 0 0 55vh !important;
    flex: 0 0 55dvh !important;
  }

  .panel-export-grid {
    grid-template-columns: 1fr;
  }
}

/* HISTORY: The Divider Line */
.panel-entry-divider {
  display: block;
  content: '';
  width: calc(100% - 24px);
  min-height: 1px;
  height: 1px;
  background-color: var(--color-border-subtle, #e5e5e5);
  margin: 8px auto; 
  flex-shrink: 0;
  opacity: 0.8;
}

/* HISTORY: Simulation Label */
.panel-card-sim-label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 600;
  color: var(--color-text-muted, #888);
  padding-left: 2px;
}

.panel-card-sim-label span {
  text-transform: capitalize;
}

/* HISTORY: Decoration Bars */
.panel-card-decoration {
  display: flex;
  gap: 4px;
  margin-top: 2px;
  padding-left: 2px;
}

.decoration-bar {
  width: 14px;
  height: 3px;
  border-radius: 4px;
  opacity: 0.7;
}

/* HISTORY: Preview Strip overrides */
/* Ensure the inner preview strip has the right height/radius inside the card */
.panel-card .panel-preview-colors {
  height: 44px;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* ============================================
   NEW ACCESSIBILITY STYLES (REFRESH)
   ============================================ */

/* === 1. TEXT CONTRAST GRID === */
.panel-contrast-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.panel-contrast-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 12px;
  border-radius: 16px;
  aspect-ratio: 1.35; /* Keeps them rectangular but compact */
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.05); /* Subtle inner border */
}

.contrast-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}

.contrast-aa {
  font-size: 24px;
  font-weight: 700;
  line-height: 1;
}

.contrast-badge {
  font-size: 9px;
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 6px;
  border: 1px solid currentColor; /* Uses the text color (black/white) */
  opacity: 0.8;
}

.contrast-card-footer {
  display: flex;
  flex-direction: column;
  gap: 2px;
  font-size: 11px;
  font-weight: 500;
}

.contrast-hex {
  opacity: 0.9;
}

/* === 2. ADJACENT CONTRAST PILLS === */
.panel-adjacent-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  background: var(--color-bg-card, #fff);
  border-radius: 12px;
  border: 1px solid transparent;
}

.panel-adjacent-pill {
  display: flex;
  width: 50px;
  height: 28px;
  border-radius: 99px; /* Pill shape */
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);
  flex-shrink: 0;
}

.panel-adjacent-pill div {
  flex: 1;
  height: 100%;
}

.panel-adjacent-info {
  display: flex;
  align-items: center;
  gap: 12px;
}

.adjacent-ratio {
  font-size: 12px;
  font-weight: 600;
  color: var(--color-text-primary, #333);
}

.adjacent-status {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  padding: 3px 8px;
  border-radius: 6px;
}

/* Status Colors */
.adjacent-status.pass {
  background: #E8F5E9;
  color: #2E7D32;
}

.adjacent-status.warn {
  background: #FFF4E5;
  color: #B76E00;
}

.adjacent-status.fail {
  background: #FFEBEE;
  color: #C62828;
}

--- START OF FILE: src/utils/analytics.js ---

export const trackEvent = (eventName, params = {}) => {
    if (typeof window !== 'undefined' && window.gtag) {
      window.gtag('event', eventName, params);
    }
  };

--- START OF FILE: src/utils/colorUtils.js ---

// src/utils/colorUtils.js

// ============================================
// 1. COLOR SPACE CONVERSION UTILITIES
// ============================================

// HSL <-> HEX (kept for display compatibility)
export const hslToHex = (h, s, l) => {
  l /= 100;
  const a = (s * Math.min(l, 1 - l)) / 100;
  const f = (n) => {
    const k = (n + h / 30) % 12;
    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
    return Math.round(255 * color)
      .toString(16)
      .padStart(2, '0');
  };
  return `#${f(0)}${f(8)}${f(4)}`.toUpperCase();
};

export const hexToHsl = (hex) => {
  const r = parseInt(hex.slice(1, 3), 16) / 255;
  const g = parseInt(hex.slice(3, 5), 16) / 255;
  const b = parseInt(hex.slice(5, 7), 16) / 255;

  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  let h, s;
  const l = (max + min) / 2;

  if (max === min) {
    h = s = 0;
  } else {
    const d = max - min;
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
    switch (max) {
      case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
      case g: h = ((b - r) / d + 2) / 6; break;
      case b: h = ((r - g) / d + 4) / 6; break;
      default: h = 0;
    }
    h *= 360;
  }

  return { h, s: s * 100, l: l * 100 };
};

// ============================================
// OKLCH COLOR SPACE CONVERSION
// ============================================

const srgbToLinear = (c) => {
  return c <= 0.04045 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
};

const linearToSrgb = (c) => {
  return c <= 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 1 / 2.4) - 0.055;
};

const linearRgbToOklab = (r, g, b) => {
  const l = 0.4122214708 * r + 0.5363325363 * g + 0.0514459929 * b;
  const m = 0.2119034982 * r + 0.6806995451 * g + 0.1073969566 * b;
  const s = 0.0883024619 * r + 0.2817188376 * g + 0.6299787005 * b;

  const l_ = Math.cbrt(l);
  const m_ = Math.cbrt(m);
  const s_ = Math.cbrt(s);

  return {
    L: 0.2104542553 * l_ + 0.7936177850 * m_ - 0.0040720468 * s_,
    a: 1.9779984951 * l_ - 2.4285922050 * m_ + 0.4505937099 * s_,
    b: 0.0259040371 * l_ + 0.7827717662 * m_ - 0.8086757660 * s_
  };
};

const oklabToLinearRgb = (L, a, b) => {
  const l_ = L + 0.3963377774 * a + 0.2158037573 * b;
  const m_ = L - 0.1055613458 * a - 0.0638541728 * b;
  const s_ = L - 0.0894841775 * a - 1.2914855480 * b;

  const l = l_ * l_ * l_;
  const m = m_ * m_ * m_;
  const s = s_ * s_ * s_;

  return {
    r: +4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s,
    g: -1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s,
    b: -0.0041960863 * l - 0.7034186147 * m + 1.7076147010 * s
  };
};

const oklabToOklch = (L, a, b) => {
  const C = Math.sqrt(a * a + b * b);
  let h = Math.atan2(b, a) * 180 / Math.PI;
  if (h < 0) h += 360;
  return { L, C, h };
};

const oklchToOklab = (L, C, h) => {
  const hRad = h * Math.PI / 180;
  return {
    L,
    a: C * Math.cos(hRad),
    b: C * Math.sin(hRad)
  };
};

export const hexToOklch = (hex) => {
  const r = parseInt(hex.slice(1, 3), 16) / 255;
  const g = parseInt(hex.slice(3, 5), 16) / 255;
  const b = parseInt(hex.slice(5, 7), 16) / 255;

  const lr = srgbToLinear(r);
  const lg = srgbToLinear(g);
  const lb = srgbToLinear(b);

  const lab = linearRgbToOklab(lr, lg, lb);
  return oklabToOklch(lab.L, lab.a, lab.b);
};

const isInGamut = (r, g, b) => {
  const epsilon = 0.0001;
  return r >= -epsilon && r <= 1 + epsilon &&
         g >= -epsilon && g <= 1 + epsilon &&
         b >= -epsilon && b <= 1 + epsilon;
};

const gamutMapOklch = (L, C, h) => {
  if (C === 0) return { L, C, h };
  
  const lab = oklchToOklab(L, C, h);
  const rgb = oklabToLinearRgb(lab.L, lab.a, lab.b);

  if (isInGamut(rgb.r, rgb.g, rgb.b)) {
    return { L, C, h };
  }

  let lo = 0;
  let hi = C;

  for (let i = 0; i < 20; i++) {
    const mid = (lo + hi) / 2;
    const testLab = oklchToOklab(L, mid, h);
    const testRgb = oklabToLinearRgb(testLab.L, testLab.a, testLab.b);

    if (isInGamut(testRgb.r, testRgb.g, testRgb.b)) {
      lo = mid;
    } else {
      hi = mid;
    }
  }

  return { L, C: lo, h };
};

export const oklchToHex = (L, C, h) => {
  const mapped = gamutMapOklch(L, C, h);

  const lab = oklchToOklab(mapped.L, mapped.C, mapped.h);
  const rgb = oklabToLinearRgb(lab.L, lab.a, lab.b);

  const r = Math.round(Math.max(0, Math.min(255, linearToSrgb(rgb.r) * 255)));
  const g = Math.round(Math.max(0, Math.min(255, linearToSrgb(rgb.g) * 255)));
  const b = Math.round(Math.max(0, Math.min(255, linearToSrgb(rgb.b) * 255)));

  return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`.toUpperCase();
};

const random = (min, max, rng) => rng() * (max - min) + min;

// ============================================
// 2. OKLCH VIBRANCY & HARMONY LOGIC
// ============================================

const adjustForVibrancyOklch = (L, C, h) => {
  let newL = L;
  let newC = C;
  let newH = h;

  // OKLCH is perceptually uniform, so fewer hue-specific fixes needed
  // Slight boost for yellow-green region which can handle more chroma
  if (h > 110 && h < 160) {
    newC = Math.min(newC * 1.1, 0.32);
  }

  // Blues at high lightness can look washed out
  if (h > 250 && h < 290 && newL > 0.75) {
    newC = Math.max(newC, 0.08);
  }

  // Ensure minimum chroma for chromatic colors
  if (C > 0.01) {
    newC = Math.max(newC, 0.025);
  }

  // Cap extremes
  newC = Math.max(0, Math.min(0.37, newC));
  newL = Math.max(0.07, Math.min(0.97, newL));

  return { L: newL, C: newC, h: newH };
};

const generateHarmoniousHues = (mode, count, constraints, rng) => {
  let base;

  if (constraints && typeof constraints.baseHue === 'number') {
    base = constraints.baseHue;
  } else {
    base = random(0, 360, rng);
  }

  const hues = [];
  const jitter = (amount = 15) => random(-amount, amount, rng);

  switch (mode) {
    case 'mono':
      for (let i = 0; i < count; i++) hues.push((base + jitter(5) + 360) % 360);
      break;
    case 'analogous':
      const range = 50;
      for (let i = 0; i < count; i++) {
        const progress = count > 1 ? i / (count - 1) : 0.5;
        const offset = progress * range - (range / 2);
        hues.push((base + offset + jitter(8) + 360) % 360);
      }
      break;
    case 'complementary':
      for (let i = 0; i < count; i++) {
        if (i < Math.ceil(count / 2)) hues.push((base + jitter(15) + 360) % 360);
        else hues.push((base + 180 + jitter(15) + 360) % 360);
      }
      break;
    case 'splitComplementary':
    case 'triadic':
      const anchors = mode === 'triadic' ? [0, 120, 240] : [0, 150, 210];
      for (let i = 0; i < count; i++) {
        const anchor = anchors[i % anchors.length];
        hues.push((base + anchor + jitter(10) + 360) % 360);
      }
      break;
    default:
      for (let i = 0; i < count; i++) hues.push((base + (i * 30) + 360) % 360);
  }
  return hues;
};

const generateCohesiveVariationsOklch = (hues, mood, count, rng) => {
  const result = [];
  const strategy = rng();

  for (let i = 0; i < count; i++) {
    const t = count > 1 ? i / (count - 1) : 0.5;
    let C, L;

    if (mood === 'pastel') {
      C = random(0.04, 0.09, rng);
      L = random(0.85, 0.94, rng);
    } else if (mood === 'vibrant') {
      C = random(0.14, 0.26, rng);
      L = random(0.50, 0.72, rng);
    } else if (mood === 'muted') {
      C = random(0.02, 0.06, rng);
      L = random(0.40, 0.70, rng);
    } else if (mood === 'dark') {
      C = random(0.06, 0.16, rng);
      L = random(0.18, 0.38, rng);
    } else {
      C = 0.07 + (Math.sin(t * Math.PI) * 0.07) + random(-0.02, 0.02, rng);

      if (strategy < 0.40) {
        L = 0.22 + (t * 0.62) + random(-0.05, 0.05, rng);
      } else if (strategy < 0.80) {
        L = 0.84 - (t * 0.62) + random(-0.05, 0.05, rng);
      } else {
        if (i === 0) L = random(0.20, 0.35, rng);
        else if (i === count - 1) L = random(0.78, 0.92, rng);
        else L = random(0.38, 0.72, rng);
      }
    }

    result.push({ C, L });
  }
  return result;
};

// ============================================
// 3. MAIN PALETTE GENERATOR (OKLCH-based)
// ============================================

export const generateRandomPalette = (mode = 'auto', count = 5, constraints = {}, rng = Math.random) => {
  let harmonyMode = mode;

  if (mode === 'auto') {
    const roll = rng();

    if (count <= 2) {
      if (roll < 0.50) harmonyMode = 'complementary';
      else if (roll < 0.80) harmonyMode = 'mono';
      else harmonyMode = 'analogous';
    } else if (count === 3) {
      if (roll < 0.40) harmonyMode = 'splitComplementary';
      else if (roll < 0.70) harmonyMode = 'triadic';
      else if (roll < 0.90) harmonyMode = 'analogous';
      else harmonyMode = 'mono';
    } else if (count >= 6) {
      if (roll < 0.60) harmonyMode = 'analogous';
      else if (roll < 0.85) harmonyMode = 'mono';
      else harmonyMode = 'splitComplementary';
    } else {
      if (roll < 0.45) harmonyMode = 'analogous';
      else if (roll < 0.65) harmonyMode = 'mono';
      else if (roll < 0.85) harmonyMode = 'complementary';
      else if (roll < 0.95) harmonyMode = 'splitComplementary';
      else harmonyMode = 'triadic';
    }
  }

  const hues = generateHarmoniousHues(harmonyMode, count, constraints, rng);
  const clValues = generateCohesiveVariationsOklch(hues, constraints.mood || 'any', count, rng);

  let palette = [];
  for (let i = 0; i < count; i++) {
    const h = hues[i];
    let { C, L } = clValues[i];

    const polished = adjustForVibrancyOklch(L, C, h);

    if (constraints.darkModeFriendly && polished.L > 0.85) polished.L = 0.85;

    palette.push(oklchToHex(polished.L, polished.C, polished.h));
  }

  return optimizeColorOrder(palette);
};

// ============================================
// 4. UTILITIES (Sorting, Contrast, Shades)
// ============================================

const getHueDistance = (h1, h2) => {
  let diff = Math.abs(h1 - h2);
  return diff > 180 ? 360 - diff : diff;
};

const getColorDistanceOklch = (c1, c2) => {
  const hDist = getHueDistance(c1.h, c2.h);
  const cDist = Math.abs(c1.C - c2.C) * 500;
  const lDist = Math.abs(c1.L - c2.L) * 100;
  return Math.sqrt((hDist * hDist * 0.3) + (cDist * cDist) + (lDist * lDist * 2));
};

const optimizeColorOrder = (colors) => {
  const colorData = colors.map((hex) => ({
    hex,
    hsl: hexToHsl(hex),
    oklch: hexToOklch(hex)
  }));

  const hues = colorData.map(c => c.oklch.h);
  const minHue = Math.min(...hues);
  const maxHue = Math.max(...hues);
  let hueSpread = maxHue - minHue;
  if (hueSpread > 180) hueSpread = 360 - hueSpread;

  if (hueSpread < 40) {
    return colorData.sort((a, b) => a.oklch.L - b.oklch.L).map(c => c.hex);
  }

  let current = colorData.reduce((prev, curr) => (curr.oklch.L < prev.oklch.L ? curr : prev));
  const sorted = [current];
  let remaining = colorData.filter(c => c !== current);

  while (remaining.length > 0) {
    let nearest = null;
    let minDist = Infinity;
    for (const candidate of remaining) {
      const dist = getColorDistanceOklch(current.oklch, candidate.oklch);
      if (dist < minDist) {
        minDist = dist;
        nearest = candidate;
      }
    }
    if (nearest) {
      sorted.push(nearest);
      current = nearest;
      remaining = remaining.filter(c => c !== nearest);
    } else break;
  }
  return sorted.map(c => c.hex);
};

const relativeLuminance = (hex) => {
  const r = srgbToLinear(parseInt(hex.slice(1, 3), 16) / 255);
  const g = srgbToLinear(parseInt(hex.slice(3, 5), 16) / 255);
  const b = srgbToLinear(parseInt(hex.slice(5, 7), 16) / 255);
  return 0.2126 * r + 0.7152 * g + 0.0722 * b;
};

const wcagContrastRatio = (hexA, hexB) => {
  const lA = relativeLuminance(hexA);
  const lB = relativeLuminance(hexB);
  const lighter = Math.max(lA, lB);
  const darker = Math.min(lA, lB);
  return (lighter + 0.05) / (darker + 0.05);
};

export const getContrastColor = (hex) => {
  const contrastWithBlack = wcagContrastRatio(hex, '#000000');
  const contrastWithWhite = wcagContrastRatio(hex, '#FFFFFF');
  return contrastWithBlack > contrastWithWhite ? '#000000' : '#FFFFFF';
};

export const generateBridgeColor = (colorBefore, colorAfter) => {
  const c1 = hexToOklch(colorBefore);
  const c2 = hexToOklch(colorAfter);

  let h1 = c1.h;
  let h2 = c2.h;
  let diff = h2 - h1;
  if (diff > 180) h2 -= 360;
  if (diff < -180) h2 += 360;

  let h = (h1 + h2) / 2;
  if (h < 0) h += 360;
  if (h >= 360) h -= 360;

  const C = (c1.C + c2.C) / 2;
  const L = (c1.L + c2.L) / 2;

  const polished = adjustForVibrancyOklch(L, C, h);
  return oklchToHex(polished.L, polished.C, polished.h);
};

export const generateShades = (hex, totalSteps = 20) => {
  const { L, C, h } = hexToOklch(hex);
  const shades = [];
  const maxLight = 0.97;
  const minLight = 0.08;

  const currentIndex = Math.round((1 - ((L - minLight) / (maxLight - minLight))) * (totalSteps - 1));
  const clampedIndex = Math.max(0, Math.min(totalSteps - 1, currentIndex));

  // Generate lighter shades
  if (clampedIndex > 0) {
    const stepSize = (maxLight - L) / clampedIndex;
    for (let i = 0; i < clampedIndex; i++) {
      const newL = maxLight - (stepSize * i);
      const newC = C * (0.5 + 0.5 * (1 - (newL - L) / (maxLight - L)));
      shades.push(oklchToHex(newL, Math.max(0.01, newC), h));
    }
  }

  shades.push(hex);

  // Generate darker shades
  const remainingSteps = totalSteps - 1 - clampedIndex;
  if (remainingSteps > 0) {
    const stepSize = (L - minLight) / remainingSteps;
    for (let i = 1; i <= remainingSteps; i++) {
      const newL = L - (stepSize * i);
      const newC = C * (0.6 + 0.4 * ((newL - minLight) / (L - minLight)));
      shades.push(oklchToHex(newL, Math.max(0.01, newC), h));
    }
  }

  return shades;
};

const colorBlindnessMatrices = {
  protanopia: [[0.567, 0.433, 0], [0.558, 0.442, 0], [0, 0.242, 0.758]],
  deuteranopia: [[0.625, 0.375, 0], [0.7, 0.3, 0], [0, 0.3, 0.7]],
  tritanopia: [[0.95, 0.05, 0], [0, 0.433, 0.567], [0, 0.475, 0.525]],
  achromatopsia: [[0.299, 0.587, 0.114], [0.299, 0.587, 0.114], [0.299, 0.587, 0.114]],
};

export const simulateColorBlindness = (hex, type) => {
  if (type === 'normal' || !colorBlindnessMatrices[type]) return hex;
  const r = parseInt(hex.slice(1, 3), 16);
  const g = parseInt(hex.slice(3, 5), 16);
  const b = parseInt(hex.slice(5, 7), 16);
  const matrix = colorBlindnessMatrices[type];
  const newR = Math.round(matrix[0][0] * r + matrix[0][1] * g + matrix[0][2] * b);
  const newG = Math.round(matrix[1][0] * r + matrix[1][1] * g + matrix[1][2] * b);
  const newB = Math.round(matrix[2][0] * r + matrix[2][1] * g + matrix[2][2] * b);
  const clamp = (v) => Math.max(0, Math.min(255, v));
  return `#${clamp(newR).toString(16).padStart(2, '0')}${clamp(newG).toString(16).padStart(2, '0')}${clamp(newB).toString(16).padStart(2, '0')}`.toUpperCase();
};

// ============================================
// 5. DETERMINISTIC SEED SYSTEM
// ============================================

const pseudoRandom = (seedString) => {
  let h = 0xdeadbeef;
  for (let i = 0; i < seedString.length; i++) {
    h = Math.imul(h ^ seedString.charCodeAt(i), 2654435761);
  }
  return ((h ^ h >>> 15) >>> 0) / 4294967296;
};

const createSeededGenerator = (seedString) => {
  let index = 0;
  return () => {
    index++;
    return pseudoRandom(seedString + index.toString());
  };
};

const pickOne = (options, seed) => {
  const index = Math.floor(seed * options.length);
  return options[Math.min(index, options.length - 1)];
};

const pickMultiple = (options, seedGen, count) => {
  const selected = [];
  const available = [...options];
  for (let i = 0; i < Math.min(count, options.length); i++) {
    const idx = Math.floor(seedGen() * available.length);
    selected.push(available.splice(idx, 1)[0]);
  }
  return selected;
};

// ============================================
// 6. COMPREHENSIVE COLOR ANALYSIS
// ============================================

const getDetailedHueInfo = (h) => {
  const hueMap = [
    { range: [0, 10], primary: "red", detailed: "pure red", searchTerms: ["red", "crimson", "scarlet"] },
    { range: [10, 25], primary: "red", detailed: "vermilion", searchTerms: ["red-orange", "vermilion", "tomato"] },
    { range: [25, 40], primary: "orange", detailed: "burnt orange", searchTerms: ["orange", "burnt orange", "rust"] },
    { range: [40, 50], primary: "orange", detailed: "amber", searchTerms: ["amber", "golden orange", "honey"] },
    { range: [50, 60], primary: "yellow", detailed: "golden yellow", searchTerms: ["yellow", "gold", "mustard"] },
    { range: [60, 75], primary: "yellow", detailed: "lemon", searchTerms: ["yellow", "lemon", "citrus"] },
    { range: [75, 90], primary: "green", detailed: "chartreuse", searchTerms: ["lime", "chartreuse", "yellow-green"] },
    { range: [90, 120], primary: "green", detailed: "leaf green", searchTerms: ["green", "grass green", "kelly green"] },
    { range: [120, 150], primary: "green", detailed: "emerald", searchTerms: ["emerald", "forest green", "jade"] },
    { range: [150, 170], primary: "teal", detailed: "teal", searchTerms: ["teal", "turquoise", "aqua"] },
    { range: [170, 195], primary: "cyan", detailed: "cyan", searchTerms: ["cyan", "aqua", "robin egg"] },
    { range: [195, 220], primary: "blue", detailed: "sky blue", searchTerms: ["sky blue", "azure", "cerulean"] },
    { range: [220, 245], primary: "blue", detailed: "cobalt", searchTerms: ["blue", "cobalt", "royal blue"] },
    { range: [245, 265], primary: "blue", detailed: "navy", searchTerms: ["navy", "indigo", "midnight blue"] },
    { range: [265, 285], primary: "purple", detailed: "violet", searchTerms: ["purple", "violet", "grape"] },
    { range: [285, 310], primary: "purple", detailed: "magenta", searchTerms: ["magenta", "fuchsia", "orchid"] },
    { range: [310, 335], primary: "pink", detailed: "rose", searchTerms: ["pink", "rose", "blush"] },
    { range: [335, 360], primary: "red", detailed: "crimson", searchTerms: ["crimson", "ruby", "cherry"] }
  ];

  const normalized = ((h % 360) + 360) % 360;
  const match = hueMap.find(entry => normalized >= entry.range[0] && normalized < entry.range[1]);
  return match || hueMap[0];
};

const analyzeColorTemperature = (hsls) => {
  const warmRanges = [[0, 70], [320, 360]];
  const coolRanges = [[170, 280]];

  let warmCount = 0;
  let coolCount = 0;

  hsls.forEach(({ h }) => {
    const inWarm = warmRanges.some(([min, max]) => h >= min && h < max);
    const inCool = coolRanges.some(([min, max]) => h >= min && h < max);
    if (inWarm) warmCount++;
    if (inCool) coolCount++;
  });

  const total = hsls.length;
  if (warmCount > total * 0.6) return { type: "warm", ratio: warmCount / total };
  if (coolCount > total * 0.6) return { type: "cool", ratio: coolCount / total };
  return { type: "balanced", ratio: 0.5 };
};

const detectHarmonyType = (hsls) => {
  if (hsls.length < 2) return "single";

  const hues = hsls.map(c => c.h);
  const pairs = [];

  for (let i = 0; i < hues.length; i++) {
    for (let j = i + 1; j < hues.length; j++) {
      let diff = Math.abs(hues[i] - hues[j]);
      if (diff > 180) diff = 360 - diff;
      pairs.push(diff);
    }
  }

  const maxDiff = Math.max(...pairs);
  const avgDiff = pairs.reduce((a, b) => a + b, 0) / pairs.length;

  if (maxDiff < 25) return "monochromatic";
  if (maxDiff < 60) return "analogous";
  if (avgDiff > 100 && avgDiff < 140) return "triadic";
  if (maxDiff > 150 && maxDiff < 210) return "complementary";
  if (maxDiff >= 130 && maxDiff <= 170) return "split-complementary";
  return "custom";
};

const getComprehensiveTraits = (hsls, hexColors) => {
  const avgS = hsls.reduce((a, c) => a + c.s, 0) / hsls.length;
  const avgL = hsls.reduce((a, c) => a + c.l, 0) / hsls.length;
  const maxL = Math.max(...hsls.map(c => c.l));
  const minL = Math.min(...hsls.map(c => c.l));
  const lightnessRange = maxL - minL;

  const satStdDev = Math.sqrt(hsls.reduce((a, c) => a + Math.pow(c.s - avgS, 2), 0) / hsls.length);
  const lightStdDev = Math.sqrt(hsls.reduce((a, c) => a + Math.pow(c.l - avgL, 2), 0) / hsls.length);

  const dominantHsl = hsls.reduce((prev, curr) => curr.s > prev.s ? curr : prev);
  const hueInfo = getDetailedHueInfo(dominantHsl.h);
  const temperature = analyzeColorTemperature(hsls);
  const harmony = detectHarmonyType(hsls);

  // Find darkest and lightest colors by relative luminance for true WCAG contrast
  let darkestHex = hexColors[0];
  let lightestHex = hexColors[0];
  let minLum = relativeLuminance(hexColors[0]);
  let maxLum = minLum;

  for (const hex of hexColors) {
    const lum = relativeLuminance(hex);
    if (lum < minLum) {
      minLum = lum;
      darkestHex = hex;
    }
    if (lum > maxLum) {
      maxLum = lum;
      lightestHex = hex;
    }
  }

  const contrastRatio = wcagContrastRatio(lightestHex, darkestHex).toFixed(2);
  const contrastValue = parseFloat(contrastRatio);

  return {
    avgS, avgL, maxL, minL, lightnessRange,
    satStdDev, lightStdDev,
    hueInfo, temperature, harmony, contrastRatio,

    isVibrant: avgS > 65,
    isMuted: avgS < 35,
    isPastel: avgS < 55 && avgL > 72,
    isDark: avgL < 38,
    isLight: avgL > 68,
    isHighContrast: contrastValue >= 4.5,
    isLowContrast: contrastValue < 2,
    isUniform: satStdDev < 12 && lightStdDev < 15,
    hasNeutrals: hsls.some(c => c.s < 15),

    vibrancyScore: Math.round((avgS + lightnessRange) / 2),
    accessibilityScore: contrastValue >= 4.5 ? "good" : contrastValue >= 3 ? "moderate" : "limited"
  };
};

// ============================================
// 7. SEMANTIC CONTENT DATABASE
// ============================================

const contentDatabase = {
  paletteCharacteristics: {
    vibrant: {
      adjectives: ["vivid", "bold", "striking", "dynamic", "saturated", "intense", "energetic", "punchy"],
      descriptions: [
        "commands attention and creates immediate visual impact",
        "delivers strong chromatic presence for memorable designs",
        "provides maximum color energy for engaging compositions"
      ]
    },
    muted: {
      adjectives: ["subtle", "refined", "understated", "sophisticated", "restrained", "nuanced", "tempered", "gentle"],
      descriptions: [
        "creates refined atmospheres without visual competition",
        "supports content-focused designs where color complements rather than dominates",
        "delivers timeless sophistication through careful desaturation"
      ]
    },
    pastel: {
      adjectives: ["soft", "delicate", "airy", "gentle", "light", "serene", "calming", "ethereal"],
      descriptions: [
        "evokes lightness and approachability in any application",
        "creates welcoming, non-aggressive visual environments",
        "balances color interest with visual gentleness"
      ]
    },
    dark: {
      adjectives: ["deep", "rich", "dramatic", "moody", "luxurious", "intense", "grounded", "substantial"],
      descriptions: [
        "establishes visual weight and dramatic presence",
        "creates depth and sophistication in design compositions",
        "anchors layouts with substantial chromatic foundation"
      ]
    },
    light: {
      adjectives: ["bright", "fresh", "open", "clean", "luminous", "crisp", "airy", "spacious"],
      descriptions: [
        "maximizes perceived space and visual breathing room",
        "supports readability and content clarity",
        "creates inviting, accessible visual environments"
      ]
    },
    warm: {
      adjectives: ["inviting", "cozy", "welcoming", "friendly", "approachable", "comforting", "earthy", "sun-touched"],
      descriptions: [
        "activates emotional warmth and human connection",
        "creates psychologically comfortable environments",
        "supports approachable, personable brand positioning"
      ]
    },
    cool: {
      adjectives: ["calm", "serene", "professional", "trustworthy", "composed", "refreshing", "clean", "tranquil"],
      descriptions: [
        "establishes measured professionalism and trust",
        "creates psychologically calming visual experiences",
        "supports clarity-focused, rational design approaches"
      ]
    }
  },

  harmonyDescriptions: {
    monochromatic: {
      name: "monochromatic",
      explanation: "uses variations of a single hue across different saturation and lightness levels",
      benefits: "ensures automatic color harmony while providing tonal variation for visual hierarchy",
      bestFor: "minimalist designs, text-heavy layouts, and brands seeking cohesive simplicity"
    },
    analogous: {
      name: "analogous",
      explanation: "combines neighboring hues from the color wheel for natural color flow",
      benefits: "creates organic, nature-inspired harmonies that feel intuitive and comfortable",
      bestFor: "environmental design, wellness branding, and compositions requiring visual comfort"
    },
    complementary: {
      name: "complementary",
      explanation: "pairs colors from opposite sides of the color wheel for maximum contrast",
      benefits: "generates visual tension and energy that draws attention to key elements",
      bestFor: "call-to-action designs, sports branding, and high-energy marketing materials"
    },
    triadic: {
      name: "triadic",
      explanation: "uses three colors equally spaced around the color wheel",
      benefits: "provides rich color variety while maintaining structural balance",
      bestFor: "playful brands, children's products, and designs requiring diverse color options"
    },
    "split-complementary": {
      name: "split-complementary",
      explanation: "modifies complementary harmony by using two colors adjacent to the complement",
      benefits: "retains complementary contrast with reduced visual tension",
      bestFor: "balanced designs that need contrast without aggressive color opposition"
    },
    custom: {
      name: "custom",
      explanation: "follows a unique color relationship tailored to specific design requirements",
      benefits: "provides flexibility for specialized applications and distinctive brand identities",
      bestFor: "unique brand positioning and designs requiring non-traditional color approaches"
    }
  },

  industryApplications: {
    webDesign: {
      title: "Web and Digital Interface Design",
      contexts: {
        highContrast: [
          "The substantial lightness range supports WCAG accessibility compliance for body text and interactive elements.",
          "Provides clear visual hierarchy for navigation systems, buttons, and content sections.",
          "Enables effective data visualization where distinct values require clear color differentiation."
        ],
        lowContrast: [
          "Consider reserving pure black or white for text to meet accessibility contrast requirements.",
          "Works well for background layering and subtle UI depth effects.",
          "Suitable for decorative elements where readability is not the primary concern."
        ],
        dark: [
          "Optimized for dark mode interfaces with sufficient tonal separation for layered components.",
          "Reduces eye strain in low-ambient-light environments and extended reading sessions.",
          "Supports immersive experiences for media-focused and entertainment applications."
        ],
        light: [
          "Creates open, breathable layouts for content-dense pages and documentation.",
          "Supports scannable interfaces where information hierarchy drives user flow.",
          "Effective for e-commerce where products need neutral, non-competing backgrounds."
        ],
        vibrant: [
          "Delivers strong brand recognition and memorability in competitive digital spaces.",
          "Commands attention for key conversion elements and promotional content.",
          "Supports engagement-focused designs for social and interactive platforms."
        ],
        muted: [
          "Allows content to take center stage without color distraction.",
          "Supports long-form reading experiences and professional service contexts.",
          "Creates sophisticated backdrops for portfolio and editorial presentations."
        ]
      }
    },
    branding: {
      title: "Brand Identity and Marketing",
      hueAssociations: {
        red: "energy, urgency, passion, and appetite stimulation, commonly deployed in food service, entertainment, retail, and emergency services",
        orange: "friendliness, creativity, affordability, and youthful energy, effective for startups, creative agencies, and value-oriented retail",
        yellow: "optimism, clarity, warmth, and attention-grabbing visibility, suited for hospitality, construction, and caution signaling",
        green: "growth, health, sustainability, wealth, and natural authenticity, standard in finance, healthcare, organic products, and environmental sectors",
        teal: "sophistication, clarity, and balanced professionalism, popular in healthcare technology and modern corporate identities",
        cyan: "innovation, cleanliness, and technological advancement, common in tech startups and medical device companies",
        blue: "reliability, trustworthiness, competence, and stability, dominant across corporate, finance, technology, and healthcare sectors",
        purple: "creativity, luxury, wisdom, and imagination, used in beauty, education, wellness, and premium product positioning",
        pink: "nurturing, approachability, playfulness, and compassion, effective in health, beauty, confectionery, and youth marketing"
      },
      saturationImpact: {
        high: "High saturation creates memorable brand recognition and works effectively for digital-first companies competing for attention in crowded markets.",
        low: "Reduced saturation projects maturity, trustworthiness, and sophistication, appropriate for professional services, luxury positioning, and heritage brands."
      }
    },
    interiorDesign: {
      title: "Interior Design and Architecture",
      temperatureContexts: {
        warm: [
          "Creates intimate, inviting atmospheres in residential living spaces, restaurants, and hospitality environments.",
          "Compensates for north-facing rooms with limited natural warmth.",
          "Supports social spaces where conversation and connection are priorities."
        ],
        cool: [
          "Provides visual relief in south-facing rooms with abundant direct sunlight.",
          "Creates calming environments appropriate for bedrooms, bathrooms, spas, and healthcare facilities.",
          "Supports focused work environments in offices and study spaces."
        ],
        balanced: [
          "Offers flexibility across different lighting conditions and room orientations.",
          "Adapts well to spaces with mixed natural and artificial light sources.",
          "Supports transitional spaces that serve multiple functions throughout the day."
        ]
      },
      lightnessContexts: {
        light: [
          "Maximizes perceived space in compact rooms and apartments.",
          "Reflects available light to brighten rooms with limited windows.",
          "Creates gallery-like backdrops for art and object display."
        ],
        dark: [
          "Adds drama and intimacy to feature walls, libraries, and entertainment rooms.",
          "Grounds open-plan spaces when applied strategically to architectural elements.",
          "Works on ceilings in rooms with generous height and natural light."
        ]
      }
    },
    digitalArt: {
      title: "Digital Art and Illustration",
      contexts: {
        highContrast: [
          "Supports clear focal point establishment and compositional hierarchy.",
          "Enables effective foreground-background separation in complex illustrations.",
          "Provides the value range needed for dramatic lighting effects."
        ],
        analogous: [
          "Creates cohesive color scripts for animation and sequential narrative art.",
          "Natural choice for landscape and environmental concept art with atmospheric depth.",
          "Supports mood consistency across multi-scene storyboarding."
        ],
        monochromatic: [
          "Ideal for value studies and establishing lighting before introducing color complexity.",
          "Effective for noir and limited-palette stylistic approaches.",
          "Supports focused mood development in conceptual work."
        ],
        vibrant: [
          "Commands attention in thumbnail compositions for portfolio presentation.",
          "Supports stylized and cel-shaded illustration techniques.",
          "Effective for character design requiring distinctive, memorable palettes."
        ]
      }
    },
    fashion: {
      title: "Fashion and Textile Design",
      temperatureGuidance: {
        warm: [
          "Complements warm skin undertones and autumn seasonal color analysis profiles.",
          "Pairs naturally with gold jewelry, brass hardware, and brown leather.",
          "Photographs well under incandescent and warm-filtered lighting."
        ],
        cool: [
          "Complements cool skin undertones and winter seasonal color analysis profiles.",
          "Pairs naturally with silver jewelry, chrome hardware, and black leather.",
          "Photographs well under daylight and cool-filtered studio lighting."
        ]
      },
      practicalNotes: [
        "The tonal range supports outfit building from statement pieces to coordinating layers.",
        "Enables capsule wardrobe planning with interchangeable color combinations.",
        "Consider fabric type when evaluating colors, as material affects appearance under different lighting."
      ]
    },
    print: {
      title: "Print Production",
      contexts: {
        vibrant: [
          "High saturation values may shift during RGB-to-CMYK conversion; request press proofs for critical brand colors.",
          "Consider Pantone spot color matching for consistent reproduction across print vendors and materials.",
          "Allow for paper absorption differences between coated and uncoated stocks."
        ],
        muted: [
          "Desaturated values reproduce more predictably across different paper stocks and printing methods.",
          "Performs well on uncoated and textured stocks where highly saturated inks may absorb unevenly.",
          "Reduces registration sensitivity for multi-color process printing."
        ],
        general: [
          "Verify sufficient tonal separation for clear reproduction in grayscale printing scenarios.",
          "Test on target paper stock, as substrate color temperature affects final appearance.",
          "Consider environmental factors like lighting conditions where printed materials will be viewed."
        ]
      }
    },
    photography: {
      title: "Photography and Color Grading",
      contexts: {
        dark: [
          "Provides foundation for moody editorial photography and cinematic color grading.",
          "Supports low-key lighting setups and dramatic portrait work.",
          "Effective reference for shadow color in controlled studio environments."
        ],
        light: [
          "Suited for high-key photography and bright editorial aesthetics.",
          "Supports clean product photography requiring neutral, airy backgrounds.",
          "Provides reference for highlight and fill light coloring."
        ],
        general: [
          "Informs preset development for batch processing in Lightroom, Capture One, or DaVinci Resolve.",
          "Provides reference for gel selection in studio lighting setups.",
          "Guides color harmony decisions for styled shoots and art direction."
        ]
      }
    },
    accessibility: {
      title: "Accessibility Considerations",
      contrastGuidance: {
        high: [
          "The contrast range supports WCAG 2.1 Level AA requirements for normal body text at 4.5:1 minimum.",
          "Provides sufficient luminance differentiation for users with contrast sensitivity conditions.",
          "Enables clear visual hierarchy for screen reader users who may also have partial vision."
        ],
        low: [
          "Additional contrast enhancement needed for text applications to meet WCAG guidelines.",
          "Reserve highest and lowest lightness values for critical text and interactive elements.",
          "Consider using pure black or white for text overlays to ensure adequate readability."
        ]
      },
      colorBlindnessNotes: {
        redGreen: "Red and green combinations should be validated with deuteranopia and protanopia simulation tools. Add pattern, texture, or label differentiation for color-coded information.",
        blueYellow: "Blue and yellow combinations should be tested with tritanopia simulation, though this affects a smaller percentage of users.",
        general: "Ensure color is never the sole means of conveying critical information. Provide redundant cues through icons, patterns, or text labels."
      }
    }
  }
};

// ============================================
// 8. CONTENT GENERATION FUNCTIONS
// ============================================

const generateTitle = (traits, colorCount, seedGen) => {
  const hue = traits.hueInfo.primary;
  const detailed = traits.hueInfo.detailed;
  const harmony = traits.harmony;

  const templates = [];

  if (traits.isVibrant) {
    templates.push(
      `${colorCount}-Color ${capitalize(hue)} Palette with Bold Saturation`,
      `Vibrant ${capitalize(detailed)} Color Scheme for Design Projects`,
      `High-Energy ${capitalize(hue)} Palette: ${colorCount} Coordinated Colors`
    );
  }

  if (traits.isMuted) {
    templates.push(
      `Muted ${capitalize(hue)} Palette: ${colorCount} Sophisticated Tones`,
      `Subtle ${capitalize(detailed)} Color Scheme for Refined Design`,
      `${colorCount}-Color Desaturated ${capitalize(hue)} Palette`
    );
  }

  if (traits.isPastel) {
    templates.push(
      `Soft Pastel ${capitalize(hue)} Palette: ${colorCount} Light Tones`,
      `Gentle ${capitalize(detailed)} Color Scheme for Delicate Design`,
      `${colorCount}-Color Light ${capitalize(hue)} Pastel Collection`
    );
  }

  if (traits.isDark) {
    templates.push(
      `Deep ${capitalize(hue)} Palette: ${colorCount} Rich Dark Tones`,
      `Dramatic ${capitalize(detailed)} Color Scheme for Bold Design`,
      `${colorCount}-Color Dark ${capitalize(hue)} Collection`
    );
  }

  if (harmony === "monochromatic") {
    templates.push(
      `Monochromatic ${capitalize(hue)} Palette: ${colorCount} Tonal Variations`,
      `Single-Hue ${capitalize(detailed)} Color System`
    );
  }

  if (harmony === "analogous") {
    templates.push(
      `Analogous ${capitalize(hue)} Color Harmony: ${colorCount} Adjacent Hues`,
      `Harmonious ${capitalize(detailed)} Gradient Palette`
    );
  }

  if (harmony === "complementary") {
    templates.push(
      `Complementary ${capitalize(hue)} Color Scheme: ${colorCount} Contrasting Tones`,
      `High-Contrast ${capitalize(detailed)} Palette`
    );
  }

  templates.push(
    `${capitalize(detailed)} Color Palette: ${colorCount} Curated Shades`,
    `${colorCount}-Color ${capitalize(hue)} Scheme for Creative Projects`,
    `Professional ${capitalize(hue)} Palette: ${colorCount} Coordinated Colors`
  );

  return pickOne(templates, seedGen());
};

const generateMetaDescription = (traits, colorCount, seedGen) => {
  const hue = traits.hueInfo.primary;
  const harmony = contentDatabase.harmonyDescriptions[traits.harmony]?.name || "custom";

  const templates = [];

  if (traits.isVibrant) {
    templates.push(
      `A ${colorCount}-color ${hue} palette with bold saturation levels. Includes hex codes optimized for web design, branding, and digital illustration projects.`,
      `Vibrant ${hue} color scheme featuring ${colorCount} coordinated shades. Ready for UI design, brand identity, and creative applications with full hex values.`
    );
  }

  if (traits.isMuted) {
    templates.push(
      `Refined ${colorCount}-color ${hue} palette with sophisticated muted tones. Hex codes included for professional design, editorial work, and understated branding.`,
      `A subtle ${hue} color scheme with ${colorCount} desaturated shades. Suitable for elegant design projects and mature brand applications.`
    );
  }

  if (traits.isPastel) {
    templates.push(
      `Soft pastel ${hue} palette with ${colorCount} gentle, light tones. Ideal for wellness branding, feminine design, and approachable digital experiences.`,
      `Delicate ${colorCount}-color ${hue} scheme with airy pastel values. Hex codes ready for web, print, and interior design applications.`
    );
  }

  if (traits.isDark) {
    templates.push(
      `Deep ${hue} color palette featuring ${colorCount} rich dark values. Optimized for dramatic branding, dark mode interfaces, and premium design work.`,
      `A ${colorCount}-color dark ${hue} scheme with substantial depth. Includes hex codes for sophisticated web interfaces and luxury brand applications.`
    );
  }

  templates.push(
    `A ${harmony} ${hue} palette with ${colorCount} colors. Export hex, RGB, and HSL values for web design, branding, and creative projects.`,
    `Curated ${hue} color scheme featuring ${colorCount} ${harmony} shades. Professional palette with accessibility considerations and export options.`
  );

  return pickOne(templates, seedGen());
};

const generateOpeningParagraph = (traits, colorCount, seedGen) => {
  const charType = traits.isVibrant ? 'vibrant' :
                   traits.isMuted ? 'muted' :
                   traits.isPastel ? 'pastel' :
                   traits.isDark ? 'dark' :
                   traits.isLight ? 'light' :
                   traits.temperature.type === 'warm' ? 'warm' :
                   traits.temperature.type === 'cool' ? 'cool' : 'muted';

  const charData = contentDatabase.paletteCharacteristics[charType];
  const adjective = pickOne(charData.adjectives, seedGen());
  const description = pickOne(charData.descriptions, seedGen());
  const harmonyData = contentDatabase.harmonyDescriptions[traits.harmony];

  const openings = [
    `This ${adjective} color palette presents ${colorCount} coordinated ${traits.hueInfo.primary} tones that ${description}.`,
    `Featuring ${colorCount} carefully selected ${traits.hueInfo.detailed} shades, this ${adjective} palette ${description}.`,
    `A ${adjective} collection of ${colorCount} ${traits.hueInfo.primary}-based colors that ${description}.`
  ];

  const opening = pickOne(openings, seedGen());

  const harmonyExplanation = `The palette ${harmonyData.explanation}, which ${harmonyData.benefits}. This harmony type is ${harmonyData.bestFor}.`;

  return `${opening}\n\n${harmonyExplanation}`;
};

const generateIndustrySection = (sectionKey, traits, seedGen) => {
  const section = contentDatabase.industryApplications[sectionKey];
  if (!section) return null;

  let content = `${section.title}: `;
  const contexts = [];

  switch (sectionKey) {
    case 'webDesign': {
      if (traits.isHighContrast) {
        contexts.push(...pickMultiple(section.contexts.highContrast, seedGen, 2));
      } else if (traits.isLowContrast) {
        contexts.push(...pickMultiple(section.contexts.lowContrast, seedGen, 2));
      }

      if (traits.isDark) {
        contexts.push(pickOne(section.contexts.dark, seedGen()));
      } else if (traits.isLight) {
        contexts.push(pickOne(section.contexts.light, seedGen()));
      }

      if (traits.isVibrant) {
        contexts.push(pickOne(section.contexts.vibrant, seedGen()));
      } else if (traits.isMuted) {
        contexts.push(pickOne(section.contexts.muted, seedGen()));
      }
      break;
    }

    case 'branding': {
      const hue = traits.hueInfo.primary;
      const hueAssoc = section.hueAssociations[hue];
      if (hueAssoc) {
        contexts.push(`${capitalize(hue)} communicates ${hueAssoc}.`);
      }

      const satImpact = traits.isVibrant ? section.saturationImpact.high : section.saturationImpact.low;
      contexts.push(satImpact);
      break;
    }

    case 'interiorDesign': {
      const tempContexts = section.temperatureContexts[traits.temperature.type] || section.temperatureContexts.balanced;
      contexts.push(pickOne(tempContexts, seedGen()));

      if (traits.isLight) {
        contexts.push(pickOne(section.lightnessContexts.light, seedGen()));
      } else if (traits.isDark) {
        contexts.push(pickOne(section.lightnessContexts.dark, seedGen()));
      }
      break;
    }

    case 'digitalArt': {
      if (traits.isHighContrast) {
        contexts.push(pickOne(section.contexts.highContrast, seedGen()));
      }

      if (traits.harmony === 'analogous') {
        contexts.push(pickOne(section.contexts.analogous, seedGen()));
      } else if (traits.harmony === 'monochromatic') {
        contexts.push(pickOne(section.contexts.monochromatic, seedGen()));
      }

      if (traits.isVibrant) {
        contexts.push(pickOne(section.contexts.vibrant, seedGen()));
      }
      break;
    }

    case 'fashion': {
      const tempGuidance = section.temperatureGuidance[traits.temperature.type] || section.temperatureGuidance.warm;
      contexts.push(pickOne(tempGuidance, seedGen()));
      contexts.push(pickOne(section.practicalNotes, seedGen()));
      break;
    }

    case 'print': {
      if (traits.isVibrant) {
        contexts.push(pickOne(section.contexts.vibrant, seedGen()));
      } else if (traits.isMuted) {
        contexts.push(pickOne(section.contexts.muted, seedGen()));
      }
      contexts.push(pickOne(section.contexts.general, seedGen()));
      break;
    }

    case 'photography': {
      if (traits.isDark) {
        contexts.push(pickOne(section.contexts.dark, seedGen()));
      } else if (traits.isLight) {
        contexts.push(pickOne(section.contexts.light, seedGen()));
      }
      contexts.push(pickOne(section.contexts.general, seedGen()));
      break;
    }

    case 'accessibility': {
      if (traits.isHighContrast) {
        contexts.push(pickOne(section.contrastGuidance.high, seedGen()));
      } else {
        contexts.push(pickOne(section.contrastGuidance.low, seedGen()));
      }

      const hue = traits.hueInfo.primary;
      if (hue === 'red' || hue === 'green') {
        contexts.push(section.colorBlindnessNotes.redGreen);
      } else {
        contexts.push(section.colorBlindnessNotes.general);
      }
      break;
    }
  }

  return contexts.length > 0 ? content + contexts.join(' ') : null;
};

const generateTechnicalSpecs = (colors, traits) => {
  const specs = [
    `Palette Size: ${colors.length} colors`,
    `Primary Hue: ${Math.round(traits.hueInfo.detailed === traits.hueInfo.primary ? hexToHsl(colors[0]).h : hexToHsl(colors[0]).h)} degrees`,
    `Color Harmony: ${traits.harmony}`,
    `Saturation Range: ${Math.round(traits.avgS)}% average`,
    `Lightness Range: ${Math.round(traits.minL)}% to ${Math.round(traits.maxL)}%`,
    `Contrast Ratio: ${traits.contrastRatio}:1`,
    `Temperature: ${traits.temperature.type}`,
    `Accessibility Rating: ${traits.accessibilityScore} contrast separation`
  ];

  return `Technical Specifications: ${specs.join('. ')}.`;
};

const generateExportInfo = () => {
  return `Format Availability: This palette exports to HEX, RGB, HSL, OKLCH, and CMYK formats. CSS custom properties, Tailwind configuration, and design token formats support systematic implementation across development workflows and design tools.`;
};

const capitalize = (str) => str ? str.charAt(0).toUpperCase() + str.slice(1) : '';

// ============================================
// 9. KEYWORD GENERATION
// ============================================

const generateKeywords = (traits, colorCount) => {
  const hue = traits.hueInfo.primary;
  const detailed = traits.hueInfo.detailed;
  const keywords = [];

  keywords.push(`${hue} color palette`);
  keywords.push(`${hue} color scheme`);
  keywords.push(`${colorCount} color palette`);
  keywords.push(`${hue} hex codes`);

  if (traits.isVibrant) {
    keywords.push(`vibrant ${hue} palette`, `bold ${hue} colors`, `saturated ${hue} scheme`);
  }
  if (traits.isMuted) {
    keywords.push(`muted ${hue} palette`, `subtle ${hue} colors`, `desaturated ${hue} scheme`);
  }
  if (traits.isPastel) {
    keywords.push(`pastel ${hue} palette`, `soft ${hue} colors`, `light ${hue} scheme`);
  }
  if (traits.isDark) {
    keywords.push(`dark ${hue} palette`, `deep ${hue} colors`, `moody ${hue} scheme`);
  }

  keywords.push(`${traits.harmony} color palette`, `${traits.harmony} ${hue} colors`);

  keywords.push(`${hue} web design colors`, `${hue} branding palette`, `${hue} ui colors`);
  keywords.push(`${hue} interior design`, `${hue} graphic design`);

  if (detailed !== hue) {
    keywords.push(`${detailed} color palette`, `${detailed} color scheme`);
  }

  return keywords;
};

// ============================================
// 10. MAIN SEO GENERATOR
// ============================================

export const generateRichSEO = (colors, mode = 'auto', mood = 'any') => {
  if (!colors || colors.length === 0) {
    return { title: "", meta: "", content: "", keywords: [], traits: null };
  }

  const hsls = colors.map(hexToHsl);
  const traits = getComprehensiveTraits(hsls, colors);
  const seedString = colors.join('');
  const seedGen = createSeededGenerator(seedString);
  const colorCount = colors.length;

  const title = generateTitle(traits, colorCount, seedGen);
  const meta = generateMetaDescription(traits, colorCount, seedGen);

  const contentSections = [];

  contentSections.push(generateOpeningParagraph(traits, colorCount, seedGen));

  const industries = ['webDesign', 'branding', 'interiorDesign', 'digitalArt', 'fashion', 'print', 'photography', 'accessibility'];

  industries.forEach(industry => {
    const section = generateIndustrySection(industry, traits, seedGen);
    if (section) {
      contentSections.push(section);
    }
  });

  contentSections.push(generateTechnicalSpecs(colors, traits));

  contentSections.push(generateExportInfo());

  const keywords = generateKeywords(traits, colorCount);

  return {
    title,
    meta,
    content: contentSections.join('\n\n'),
    keywords,
    traits: {
      harmony: traits.harmony,
      temperature: traits.temperature.type,
      saturation: traits.isVibrant ? 'vibrant' : traits.isMuted ? 'muted' : 'moderate',
      lightness: traits.isDark ? 'dark' : traits.isLight ? 'light' : traits.isPastel ? 'pastel' : 'balanced',
      primaryHue: traits.hueInfo.primary,
      detailedHue: traits.hueInfo.detailed,
      contrastRatio: traits.contrastRatio, 
      accessibilityScore: traits.accessibilityScore
    }
  };
};

--- START OF FILE: src/utils/seo.js ---

// src/utils/seo.js
export const submitToIndexNow = async (urls) => {
    try {
      await fetch('/.netlify/functions/indexnow-submit', {
        method: 'POST',
        body: JSON.stringify({ urls: Array.isArray(urls) ? urls : [urls] }),
      });
    } catch (err) {
      console.error('IndexNow submission failed', err);
    }
  };

--- START OF FILE: vite.config.js ---

import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})
